;(function (x) {
  var f = window.AmazonUIPageJS || window.P,
    u = f._namespace || f.attributeErrors,
    d = u ? u('NavSharedAssets', '') : f
  d.guardFatal
    ? d.guardFatal(x)(d, window)
    : d.execute(function () {
        x(d, window)
      })
})(function (x, f, u) {
  ;(function (d) {
    if (!d.$Nav || d.$Nav._replay) {
      document.createElement('header')
      var a = function () {
          this.data = {}
        },
        c = function (a) {
          c.manager.add(a)
        }
      a.arrayAdder = function (a) {
        return function () {
          this.data[a] = (this.data[a] || []).concat([].slice.call(arguments))
          return this
        }
      }
      a.prototype = {
        build: function (a, b) {
          this.data.name = a
          this.data.value = b
          this.data.immediate = !1
          this.data.process = !0
          c.manager.add(this.data)
        },
        run: function (a, b) {
          b && (this.data.name = a)
          this.data.value = b || a
          this.data.process = !0
          c.manager.add(this.data)
        },
        publish: function (a, b) {
          this.data.name = a
          this.data.value = b
          c.manager.publish(this.data)
        },
        declare: function (a, b) {
          this.data.name = a
          this.data.value = b
          c.manager.add(this.data)
        },
        when: a.arrayAdder('when'),
        iff: a.arrayAdder('iff'),
        filter: a.arrayAdder('filter'),
        observe: a.arrayAdder('observe'),
      }
      var e = function (b) {
        c[b] = function () {
          var c = new a()
          return c[b].apply(c, arguments)
        }
      }
      for (b in a.prototype) a.prototype.hasOwnProperty(b) && e(b)
      c.make = function () {
        return c
      }
      c.getNow = function (a, b) {
        return c.manager.get(a, b)
      }
      c.stats = function (a) {
        return c.manager.stats(a)
      }
      c.importEvent = function (a, b) {
        b = b || {}
        b.name = a
        c.manager.importEvent(b)
      }
      c.manager = {
        pending: [],
        add: function (a) {
          this.pending.push({ m: 'add', data: a })
        },
        publish: function (a) {
          this.pending.push({ m: 'publish', data: a })
        },
        importEvent: function (a) {
          this.pending.push({ m: 'importEvent', data: a })
        },
        get: function (a, b) {
          return b
        },
        stats: function () {
          return {}
        },
      }
      if (d.$Nav && d.$Nav.make && d.$Nav.make._shims) {
        e = function (b) {
          for (var e = new a(), g = 0; g < b.length; g++) {
            var d = b[g]
            if ('importEvent' === d.m) {
              b = d.a[1] || {}
              b.name = d.a[0]
              c.manager.importEvent(b)
              break
            } else if (!e[d.m]) break
            e[d.m].apply(e, d.a)
          }
        }
        var b = d.$Nav.make._shims
        for (var g = 0; g < b.length; g++) {
          for (var f = 0; f < b[g]._replay.length; f++) e(b[g]._replay[f])
          for (var p in b[g]) b[g].hasOwnProperty(p) && c.hasOwnProperty(p) && (b[g][p] = c[p])
        }
      }
      d.$Nav = c
    }
  })(f)
  ;(function (d, a, c, e) {
    if ((a = d.$Nav) && a.manager && a.manager.pending) {
      var b =
          c.now ||
          function () {
            return +new c()
          },
        g = function (a) {
          return 'function' === typeof a
        },
        f =
          'object' === typeof d.P &&
          'function' === typeof d.P.when &&
          'function' === typeof d.P.register &&
          'function' === typeof d.P.execute,
        p =
          'object' === typeof d.AmazonUIPageJS &&
          'function' === typeof d.AmazonUIPageJS.when &&
          'function' === typeof d.AmazonUIPageJS.register &&
          'function' === typeof d.AmazonUIPageJS.execute,
        h = function (a, b) {
          b = b || {}
          var c = b.start || 50,
            e = function () {
              c <= (b.max || 2e4) && !a() && (setTimeout(e, c), (c *= b.factor || 2))
            }
          return e
        },
        q = function (a, b) {
          if (1 === arguments.length && 'string' === typeof a) q({ message: 'rcx-nav: ' + a })
          else if ((d.console && d.console.error && d.console.error(a, b), d.ueLogError))
            d.ueLogError(a, b)
          else throw a
        },
        m = function (a, b) {
          try {
            return a()
          } catch (D) {
            'object' === typeof b &&
              ((b.message = b.message || D.message), (b.message = 'rcx-nav: ' + b.message)),
              q(D, b)
          }
        },
        r = (function () {
          function a() {
            return setTimeout(c, 0)
          }
          function c() {
            for (var c = a(), d = b(); e.length; ) if ((e.shift()(), 50 < b() - d)) return
            clearTimeout(c)
            g = !1
          }
          var e = [],
            g = !1
          try {
            ;/OS 6_[0-9]+ like Mac OS X/i.test(navigator.userAgent) &&
              d.addEventListener &&
              d.addEventListener('scroll', a, !1)
          } catch (C) {}
          return function (b) {
            e.push(b)
            g || (a(), (g = !0))
          }
        })(),
        n = function () {
          var a = {}
          return {
            run: function (b) {
              if (a[b] instanceof Array) for (var c = 0; c < a[b].length; c++) a[b][c]()
              a[b] = !0
            },
            add: function (b, c) {
              for (
                var e = 1,
                  g = function () {
                    0 >= --e && r(c)
                  },
                  d = b.length;
                d--;

              )
                !0 !== a[b[d]] && ((a[b[d]] = a[b[d]] || []).push(g), e++)
              g()
            },
          }
        },
        l = function (a) {
          a = a || {}
          this.context = a.context || d
          this.once = a.once || !1
          this.async = a.async || !1
          this.observers = []
          this.notifyCount = 0
          this.notifyArgs = []
        }
      l.prototype = {
        notify: function () {
          this.notifyCount++
          if (!(this.once && 1 < this.notifyCount)) {
            this.notifyArgs = [].slice.call(arguments)
            for (var a = 0; a < this.observers.length; a++) this._run(this.observers[a])
          }
        },
        observe: function (a) {
          if (g(a))
            if (this.once && this.isNotified()) this._run(a)
            else return this.observers.push(a), this.observers.length - 1
        },
        remove: function (a) {
          return -1 < a && a < this.observers.length
            ? ((this.observers[a] = function () {}), !0)
            : !1
        },
        boundObserve: function () {
          var a = this
          return function () {
            a.observe.apply(a, arguments)
          }
        },
        isNotified: function () {
          return 0 < this.notifyCount
        },
        _run: function (a) {
          var b = this.notifyArgs,
            c = this.context
          this.async
            ? r(function () {
                a.apply(c, b)
              })
            : a.apply(c, b)
        },
      }
      var w = (function () {
        var a = {},
          c = 0,
          w = {},
          k = n(),
          v = {},
          q = function (a) {
            this.data = {
              name: 'nav:' + c++,
              group: 'rcx-nav',
              value: null,
              result: null,
              immediate: !0,
              process: !1,
              override: !1,
              resolved: !1,
              watched: !1,
              context: w,
              when: [],
              iff: [],
              filter: [],
              observe: [],
              stats: {
                defined: b(),
                resolved: -1,
                buildStarted: -1,
                buildCompleted: -1,
                callCount: 0,
                executionTime: 0,
              },
            }
            for (var e in a) a.hasOwnProperty(e) && (this.data[e] = a[e])
            ;-1 < this.data.name.indexOf(']') &&
              ((a = this.data.name.split(']')),
              2 === a.length &&
                1 < a[0].length &&
                0 < a[1].length &&
                ((this.data.name = a[1]), (this.data.group = a[0].replace('[', ''))))
          }
        q.prototype = {
          getDependencyNames: function () {
            for (
              var a = [].concat(this.data.when, this.data.filter), b = 0;
              b < this.data.iff.length;
              b++
            )
              'string' === typeof this.data.iff[b]
                ? a.push(this.data.iff[b])
                : this.data.iff[b].name && a.push(this.data.iff[b].name)
            return a
          },
          checkIff: function (b) {
            b = function (b) {
              b = 'string' === typeof b ? { name: b } : b
              var c = a[b.name]
              if (!c || !c.data.resolved) return !1
              c = c.getResult()
              c = b.prop && c ? c[b.prop] : c
              var e = b.value || !0
              switch (b.op || 'truthy') {
                case 'truthy':
                  return !!c
                case 'falsey':
                  return !c
                case 'eq':
                  return c === e
                case 'ne':
                  return c !== e
                case 'gt':
                  return c > e
                case 'lt':
                  return c < e
                case 'gte':
                  return c >= e
                case 'lte':
                  return c <= e
              }
              return !1
            }
            for (var c = 0; c < this.data.iff.length; c++) if (!b(this.data.iff[c])) return !1
            return !0
          },
          watchModule: function (b) {
            var c = this
            v[b] || (v[b] = new l())
            v[b].observe(function () {
              var a = c.getResult()
              if (g(a)) return a.apply(c.data.context, arguments)
            })
            a[b] && a[b].applyObserverWrapper()
          },
          applyObserverWrapper: function () {
            var a = this
            if (v[this.data.name] && !this.data.watched && this.data.resolved && this.data.result) {
              if (g(this.data.result)) {
                var b = this.data.result
                this.data.result = function () {
                  var c = b.apply(a.data.context, arguments)
                  v[a.data.name].notify(c)
                }
                for (var c in b) b.hasOwnProperty(c) && (this.data.result[c] = b[c])
              }
              this.data.watched = !0
            }
          },
          applyFilterWrapper: function () {
            var b = this
            if (0 !== this.data.filter.length && g(this.data.result)) {
              for (var c = [], e = [], d = 0; d < this.data.filter.length; d++)
                if (a.hasOwnProperty(this.data.filter[d])) {
                  var f = a[this.data.filter[d]].getResult()
                  g(f.request) && c.push(f.request)
                  g(f.response) && e.push(f.response)
                }
              var l = function (a, c) {
                  for (var e = 0; e < a.length; e++)
                    if (((c = a[e].call(b.data.context, c)), !1 === c)) return !1
                  return c
                },
                k = this.data.result
              this.data.result = function (a) {
                if (!1 !== (a = l(c, a)) && ((a = k.call(w, a)), !1 !== (a = l(e, a)))) return a
              }
            }
          },
          execute: function () {
            if (this.checkIff()) {
              for (var a = 0; a < this.data.observe.length; a++)
                this.watchModule(this.data.observe[a])
              k.run(this.data.name)
              this.data.resolved = !0
              this.data.stats.resolved = b()
              this.data.immediate && this.getResult()
            }
          },
          getResult: function () {
            var c = this,
              e = b()
            this.data.stats.callCount++
            if (null !== this.data.result || !this.data.resolved) return this.data.result
            this.data.stats.buildStarted = b()
            if (this.data.process) {
              for (var d = [], f = 0; f < this.data.when.length; f++)
                d.push(
                  a.hasOwnProperty(this.data.when[f]) ? a[this.data.when[f]].getResult() : null,
                )
              var w = this.data.group + ':' + this.data.name
              if ('string' === typeof this.data.value) {
                var l = this.data.when
                for (f = 0; f < l.length; f++) {
                  var k = l[f].indexOf('.')
                  ;-1 < k && k < l[f].length && (l[f] = l[f].substr(k + 1))
                  l[f] = l[f].replace(/[^0-9a-zA-Z_$]/g, '')
                  l[f].length || (l[f] = String.fromCharCode(97 + f))
                }
                this.data.value = m(
                  new Function(
                    'return function (' + l.join(', ') + ') { ' + this.data.value + '};',
                  ),
                  { attribution: w, logLevel: 'ERROR', message: '$Nav module eval failed: ' + w },
                )
              }
              g(this.data.value) &&
                (this.data.result = m(
                  function () {
                    return c.data.value.apply(c.data.context, d)
                  },
                  {
                    attribution: w,
                    logLevel: 'ERROR',
                    message: '$Nav module execution failed: ' + w,
                  },
                ))
            } else this.data.result = this.data.value
            this.applyFilterWrapper()
            this.applyObserverWrapper()
            this.data.stats.buildCompleted = b()
            this.data.stats.executionTime += b() - e
            return this.data.result
          },
        }
        return {
          add: function (b) {
            if (!a.hasOwnProperty(b.name) || b.override) {
              var c = new q(b)
              a[c.data.name] = c
              b = function () {
                c.execute()
              }
              var e = c.getDependencyNames()
              0 === e.length ? r(b) : k.add(e, b)
            }
          },
          publish: function (a) {
            this.add(a)
            f
              ? e.register(a.name, function () {
                  return a.value
                })
              : p &&
                d.AmazonUIPageJS.register(a.name, function () {
                  return a.value
                })
            d.amznJQ && d.amznJQ.declareAvailable(a.name)
          },
          importEvent: function (a) {
            var b = this
            a = a || {}
            f &&
              e.when(a.name).execute('importEvent', function (c) {
                c = void 0 === c || null === c ? a.otherwise : c
                b.add({ name: a.as || a.name, value: c })
              })
            if (d.amznJQ)
              d.amznJQ[a.useOnCompletion ? 'onCompletion' : 'available'](
                a.amznJQ || a.name,
                h(function () {
                  if (a.global) {
                    var c = d
                    for (var e = (a.global || '').split('.'), g = 0, f = e.length; g < f; g++)
                      c && e[g] && (c = c[e[g]])
                  } else c = a.otherwise
                  if (a.retry && (void 0 === c || null === c)) return !1
                  b.add({ name: a.as || a.name, value: c })
                  return !0
                }),
              )
          },
          get: function (b, c) {
            return a[b] && a[b].data.resolved ? a[b].getResult() : c
          },
          stats: function (b) {
            var c = {},
              e
            for (e in a)
              if (a.hasOwnProperty(e) && (!b || !a[e].data.resolved)) {
                c[e] = a[e].data
                c[e].blocked = []
                for (var g = a[e].getDependencyNames(), d = 0; d < g.length; d++)
                  (a[g[d]] && a[g[d]].data.resolved) || c[e].blocked.push(g[d])
              }
            return c
          },
        }
      })()
      if (a && a.manager && a.manager.pending)
        for (var v = 0; v < a.manager.pending.length; v++)
          w[a.manager.pending[v].m](a.manager.pending[v].data)
      a.manager = w
      a.declare('now', b)
      a.declare('async', r)
      a.declare('eventGraph', n)
      a.declare('logError', function (a, b) {
        b = 'rcx-nav: ' + (b || '')
        a && a.message
          ? (a.message = b + a.message)
          : 'object' === typeof a
            ? (a.message = b)
            : (a = { message: b + a })
        d.console && d.console.error && d.console.error(a)
        if (d.ueLogError) d.ueLogError(a)
        else throw a
      })
      a.declare('logUeError', q)
      a.declare('Observer', l)
      a.declare('isAuiP', f)
      a.declare('isAuiPJS', p)
    }
  })(f, document, Date, x)
  ;(function (d) {
    d.build('$F', function () {
      function a(a, b) {
        this.up = a
        this.action = b
      }
      function c(c) {
        return function () {
          var b = [].slice.call(arguments)
          return new a(this, function (a) {
            return c.apply(this, [a].concat(b))
          })
        }
      }
      a.prototype.noOp = function () {}
      a.prototype.on = function (a) {
        a =
          'function' === typeof a
            ? a
            : function () {
                return a
              }
        return this.up ? this.up.on(this.action(a)) : a
      }
      a.prototype.run = function (a) {
        return this.on(a)()
      }
      a.prototype.bind = c(function (a, b) {
        return function () {
          return a.apply(b, arguments)
        }
      })
      a.prototype.memoize = c(function (a) {
        var b,
          c = !1
        return function () {
          c || ((c = !0), (b = a.apply(this, arguments)), (a = null))
          return b
        }
      })
      a.prototype.once = c(function (a) {
        var b = !1
        return function () {
          if (!b) {
            b = !0
            var c = a.apply(this, arguments)
            a = null
            return c
          }
        }
      })
      a.prototype.debounce = c(function (a, b, c) {
        var e
        return function () {
          var g,
            d = arguments,
            f = this
          c && !e && (g = a.apply(f, d))
          e && clearTimeout(e)
          e = setTimeout(function () {
            e = null
            c || a.apply(f, d)
          }, b)
          return g
        }
      })
      a.prototype.after = c(function (a, b, c) {
        return function () {
          ;((c && 0 < b) || (!c && 0 >= b)) && a()
          b--
        }
      })
      a.prototype.delay = c(function (a, b) {
        var c = void 0 === b ? 0 : b
        return function () {
          return setTimeout(a, c)
        }
      })
      a.prototype.partial = c(function (a) {
        var b = Array.prototype.slice.call(arguments, 1)
        return function () {
          return a.apply(this, b.concat([].slice.call(arguments)))
        }
      })
      a.prototype.rpartial = c(function (a) {
        var b = Array.prototype.slice.call(arguments, 1)
        return function () {
          return a.apply(this, [].slice.call(arguments).concat(b))
        }
      })
      a.prototype.throttle = c(function (a, b) {
        function c() {
          d ? ((d = !1), setTimeout(c, b), a()) : (e = !1)
        }
        var e = !1,
          d = !1
        return function () {
          e ? (d = !0) : ((e = !0), setTimeout(c, b), a())
        }
      })
      a.prototype.iff = c(function (a, b) {
        return 'function' === typeof b
          ? function () {
              if (b()) return a.apply(this, arguments)
            }
          : b
            ? a
            : this.noOp
      })
      a.prototype.tap = c(function (a, b) {
        var c = Array.prototype.slice.call(arguments, 2)
        return function () {
          b.apply(this, c.concat([].slice.call(arguments)))
          return a.apply(this, arguments)
        }
      })
      return new a()
    })
  })(f.$Nav)
  ;(function (d) {
    d.when('$', 'now', 'async', 'Observer', 'debugStream', 'debug.param').build(
      'data',
      function (a, c, e, b, g, d) {
        var f = {},
          k = d.value('navDisableDataKey'),
          q = {},
          m = null,
          r = null,
          n = new b({ async: !0 }),
          l = function () {
            g('Data Batch', q)
            n.notify(q)
            m = r = null
            for (var a in q) q.hasOwnProperty(a) && (f[a] = q[a])
            q = {}
          }
        b = function (b) {
          k && k in b && delete b[k]
          g('Data Added', b)
          q = a.extend(q, b)
          r && clearTimeout(r)
          m || (m = c())
          50 < m - c() ? l() : (r = setTimeout(l, 10))
          return b
        }
        b.get = function (a) {
          return f[a]
        }
        b.getCache = function () {
          return f
        }
        b.observe = function (a, b, c) {
          var d = -1
          b && 'function' === typeof b
            ? ((d = n.observe(function (c) {
                a in c && (g('Data Observed', { name: a, data: c[a] }), b(c[a]))
              })),
              !c &&
                a in f &&
                e(function () {
                  b(f[a])
                }))
            : (d = n.observe(a))
          return d
        }
        b.remove = function (a) {
          return n.remove(a)
        }
        return b
      },
    )
  })(f.$Nav)
  ;(function (d) {
    d.when('log').build('metrics', function (a) {
      return new (function () {
        var c = this
        this.count = function (c, b) {
          if (f.ue && f.ue.count) {
            var e = f.ue.count(c)
            e || (e = 0)
            b = e + b
            f.ue.count(c, b)
            a('Nav-Metrics: Incremented ' + c + ' to ' + b)
            return b
          }
          a('Nav-Metrics: UE not setup. Unable to send Metrics')
        }
        this.increment = function (a) {
          return c.count(a, 1)
        }
        this.decrement = function (a) {
          return c.count(a, -1)
        }
      })()
    })
    d.build('managerStats', function () {
      return function () {
        var a = { totalCallCount: 0, totalExecutionTime: 0 },
          c = d.stats(),
          e
        for (e in c)
          if (c.hasOwnProperty(e)) {
            var b = c[e].stats
            a.totalCallCount += b.callCount
            a.totalExecutionTime += b.executionTime
          }
        return a
      }
    })
    d.when('metrics', 'managerStats', 'config', 'sharedconstants', 'page.ATF').run(
      'jsMetrics.ATF',
      function (a, c, e, b) {
        c = c()
        a.count(b.TIME_UP_TO + 'ATF:' + e.navDeviceType, c.totalExecutionTime)
      },
    )
    d.when('metrics', 'managerStats', 'config', 'sharedconstants', 'page.CF').run(
      'jsMetrics.CF',
      function (a, c, e, b) {
        c = c()
        a.count(b.TIME_UP_TO + 'CF:' + e.navDeviceType, c.totalExecutionTime)
      },
    )
    d.when('metrics', 'managerStats', 'config', 'sharedconstants', 'page.loaded').run(
      'jsMetrics.PageLoaded',
      function (a, c, e, b) {
        c = c()
        e = e.navDeviceType
        a.count(b.TIME_UP_TO + 'PageLoaded:' + e, c.totalExecutionTime)
        a.count(b.TOTAL_CALL_COUNT + 'PageLoaded:' + e, c.totalCallCount)
      },
    )
    d.when('metrics', 'config', 'sharedconstants', 'page.loaded').run(
      'jsMetrics.collector',
      function (a, c, e) {
        var b = f.navmet
        if (b !== u && b.length !== u && ((c = c.navDeviceType), f.ue_t0 !== u)) {
          var d = {},
            k = [],
            p
          for (p = 0; p < b.length; ++p) {
            var h = b[p]
            d[h.key] !== u
              ? ((d[h.key].key = h.key),
                (d[h.key].delta += h.end - h.begin),
                (d[h.key].completed = h.end - f.ue_t0),
                (k[d[h.key].index] = u),
                (d[h.key].index = p))
              : (d[h.key] = {
                  key: h.key,
                  delta: h.end - h.begin,
                  completed: h.end - f.ue_t0,
                  index: p,
                })
            k.push(h.key)
          }
          b.basic &&
            (a.count(e.CSM_LATENCY_V2 + ':network:D:' + c, b.basic.networkLatency),
            a.count(e.CSM_LATENCY_V2 + ':navFirstPaint:D:' + c, b.basic.navFirstPaint),
            a.count(e.CSM_LATENCY_V2 + ':NavStart:C:' + c, b.basic.NavStart))
          for (p = 0; p < k.length; ++p)
            k[p] !== u &&
              ((h = d[k[p]]),
              a.count(e.CSM_LATENCY_V2 + ':' + h.key + ':D:' + c, h.delta),
              a.count(e.CSM_LATENCY_V2 + ':' + h.key + ':C:' + c, h.completed))
        }
      },
    )
    d.when('metrics', 'sharedconstants', 'config').run('metrics.csm', function (a, c, e) {
      if ((e = e.navDeviceType)) {
        var b = {
            UpNavBanner: { since: 'ue_t0', by: 'nav_t_upnav_begin' },
            BeginNav: { since: 'ue_t0', by: 'nav_t_begin_nav' },
            InlineCSS: { since: 'ue_t0', by: 'nav_t_after_inline_CSS' },
            PreloadJS: { since: 'ue_t0', by: 'nav_t_after_preload_JS' },
            PreloadSprite: { since: 'ue_t0', by: 'nav_t_after_preload_sprite' },
            ANI: { since: 'ue_t0', by: 'nav_t_after_ANI' },
            Config: { since: 'ue_t0', by: 'nav_t_after_config_declaration' },
            NavBar: { since: 'ue_t0', by: 'nav_t_after_navbar' },
            SearchBar: { since: 'ue_t0', by: 'nav_t_after_searchbar' },
            EndNav: { since: 'ue_t0', by: 'nav_t_end_nav' },
          },
          d
        for (d in b)
          if (b.hasOwnProperty(d)) {
            var k = b[d]
            if (k) {
              var p = f[k.by]
              k = f[k.since]
              p && k && a.count(c.CSM_LATENCY + ':' + d + ':' + e, p - k)
            }
          }
      }
    })
  })(f.$Nav)
  ;(function (d) {
    d.when('$').build('agent', function (a) {
      var c = function () {
          var a = Array.prototype.slice.call(arguments, 0)
          return new RegExp('(' + a.join('|') + ')', 'i').test(navigator.userAgent)
        },
        d = !!('ontouchstart' in f) || c('\\bTouch\\b') || 0 < f.navigator.msMaxTouchPoints,
        b = {
          iPhone: c('iPhone'),
          iPad: c('iPad'),
          kindleFire: c('Kindle Fire', 'Silk/'),
          android: c('Android'),
          windowsPhone: c('Windows Phone'),
          webkit: c('WebKit'),
          ie11: c('Trident/7'),
          ie10: c('MSIE 10'),
          ie7: c('MSIE 7'),
          ie6: a.browser ? a.browser.msie && 6 >= parseInt(a.browser.version, 10) : c('MSIE 6'),
          opera: c('Opera'),
          firefox: c('Firefox'),
          mac: c('Macintosh'),
          iOS: c('iPhone') || c('iPad'),
        }
      b.ie = a.browser ? a.browser.msie : b.ie11 || c('MSIE')
      b.touch = b.iPhone || b.iPad || b.android || b.kindleFire || d
      b.quirks = b.ie && document && 'CSS1Compat' !== document.compatMode
      return b
    })
  })(f.$Nav)
  f.$Nav.declare('sharedconstants', {
    ADVANCED_PREFIX: 'aj:',
    TIME_UP_TO: 'NavJS:TimeUpTo:',
    CSM_LATENCY: 'NavJS:CSM:Latency',
    CSM_LATENCY_V2: 'Nav:CSM:Latency',
    TOTAL_CALL_COUNT: 'NavJS:TotalCallCount:',
    DWELLTIME_MIN: 200,
  })
  ;(function (d) {
    d.build('util.addCssRule', function () {
      var a = null
      return function (c, d, b) {
        if (!a) {
          var e = document.getElementsByTagName('head')[0]
          if (!e) return
          var f = document.createElement('style')
          f.appendChild(document.createTextNode(''))
          e.appendChild(f)
          a = f.sheet || {}
        }
        a.insertRule ? a.insertRule(c + '{' + d + '}', b) : a.addRule && a.addRule(c, d, b)
      }
    })
  })(f.$Nav)
  ;(function (d) {
    d.build('getRefTag', function () {
      return function (a) {
        if (a) {
          a = a.split('?')
          var c = a[0].split('/ref\x3d')
          if (c[1]) return c[1]
          if ((a = a[1]))
            return (
              (a = a.split('\x26').reduce(function (a, b) {
                b = b.split('\x3d')
                return (a[b[0]] = b[1]), a
              }, {})),
              a.ref_ || a.ref
            )
        }
      }
    })
  })(f.$Nav)
  ;(function (d) {
    d.when('config').build('signInRedirect', function (a) {
      return function (c, d, b) {
        if (!a.isRecognized && !a.isBackup) {
          var e = a.signInUrlWithRefTag
          if (e) {
            c = 'ref_%3D'.concat(c)
            e = e.replace(/ref_%3DnavSignInUrlRefTagPlaceHolder/g, c)
            b && (e = e.concat('\x26ref_%3D', b))
            location.href = e
            return
          }
        }
        location.href = d
      }
    })
  })(f.$Nav)
  ;(function (d) {
    d.when('$').run('hamburgerIosScrollSpy', function (a) {
      var c
      return {
        touchStartHandler: function (a) {
          if (!a) return !1
          c = a.touches[0].clientY
        },
        touchMoveHandler: function (d) {
          if (!d || !c) return !1
          var b = d.touches[0].clientY
          var e = a('.hmenu.hmenu-visible')
          var f = e[0].scrollHeight
          var p = e.scrollTop()
          e = e.outerHeight()
          b < c && f - p <= e && ((c = u), d.cancelable && d.preventDefault())
          b > c && 0 >= p && ((c = u), d.cancelable && d.preventDefault())
        },
        preventCurrentEvent: function (a) {
          a.preventDefault()
        },
      }
    })
  })(f.$Nav)
  ;(function (d) {
    d.when('$', 'metrics', 'getRefTag').build('bindFlyoutAnchorReftagMetrics', function (a, c, d) {
      return function (b, e, f, p, h) {
        0 !== b.length &&
          b.each(function () {
            var b = a(this),
              g = d(b.attr('href'))
            if (g) {
              var k = 'Nav:' + e + 'Flyout:' + h
              f && c.increment(k + 'Impression:' + g)
              p &&
                b.click(function () {
                  c.increment(k + 'Click:' + g)
                })
            }
          })
      }
    })
  })(f.$Nav)
  ;(function (d) {
    d.declare('util.getQueryString', function () {
      return f.location && f.location.search ? f.location.search : u
    })
    d.when('config', 'util.getQueryString').build(
      'util.getQueryStringForHMenuAjax',
      function (a, c) {
        return function () {
          return a.hasOwnProperty('isHMenuBrowserCacheDisable') && !a.isHMenuBrowserCacheDisable
            ? u
            : c()
        }
      },
    )
  })(f.$Nav)
  ;(function (d, a) {
    d.when(
      'jQuery',
      'hamburgerMenuInteractionJS',
      'util.ajax',
      'config',
      'metrics',
      'util.getQueryStringForHMenuAjax',
    ).build('HamburgerMenuFirstLayerAJAXCall', function (a, d, b, g, k, p) {
      return function (c, e) {
        function h(a) {
          return ''.concat(n ? 'navm' : 'nav', a)
        }
        function r() {
          a('#nav-hamburger-menu').attr(
            'href',
            '/gp/site-directory?ref\x3d'.concat(h('_em_ajax_fail')),
          )
        }
        var n = 'mobile' === c.toLowerCase(),
          l = { attribution: 'AmazonNavigationCards', logLevel: 'ERROR' }
        k.increment(''.concat(n ? 'Navm' : 'Nav', ':Hmenu:FirstLayerAjax'))
        var w = Date.now(),
          v = {
            ajaxTemplate: n ? 'hMenuFirstLayer' : 'hMenuDesktopFirstLayer',
            pageType: f.ue_pty ? f.ue_pty : 'NavUnknownPageType',
            hmDataAjaxHint: 1,
            isFreshRegion: g.isFreshRegion,
            isFreshCustomer: n ? g.isFreshCustomer : g.navfresh,
            isPrimeMember: n ? g.isPrimeCustomer : g.isPrimeMember,
            isPrimeDay: n ? g.isPrimeDay : g.primeDay,
            isSmile: g.isSmile,
            regionalStores: g.regionalStores,
            isBackup: g.isBackup,
            firstName: n ? g.firstName : g.customerName,
            currentQueryString: p(),
            navDeviceType: g.navDeviceType,
            hashCustomerAndSessionId: g.hashCustomerAndSessionId,
            environmentVFI: g.environmentVFI,
            languageCode: g.languageCode,
            customerCountryCode: g.customerCountryCode,
          },
          q = function (b) {
            var c = (b = JSON.parse(b).data) && b.trim()
            c && a(c).is('#hmenu-container')
              ? (a('body').append(b),
                d(),
                'function' === typeof e && e(),
                w &&
                  k.count(
                    ''.concat(n ? 'Navm' : 'Nav', ':Hmenu:FirstLayerSuccessTotalTime'),
                    Math.floor((Date.now() - w) / 1e3),
                  ))
              : (f.ueLogError &&
                  ((l.message =
                    ' HamburgerMenu Empty or Malformed AJAX response. AJAX Request Data: ' +
                    JSON.stringify(v) +
                    (b ? b.toString() : ' Empty html response.')),
                  f.ueLogError(l)),
                r())
          }
        c = '/nav/ajax/' + v.ajaxTemplate
        b({
          retryMetric: h('-hmenu-ajax-retry'),
          errorMetric: h('-hmenu-ajax-error'),
          url: c,
          dataType: 'html',
          cache: !g.isHMenuBrowserCacheDisable,
          data: v,
          error: function (a, b, c) {
            var d = (a.responseText || '').split('\x3c!-- sp:error_pages --\x3e')[0]
            try {
              if (JSON.parse(d).data && q && 'function' === typeof q) {
                q(d)
                return
              }
            } catch (A) {}
            a =
              ' HamburgerMenu AJAX Call failed. RID: ' +
              (f.ue && f.ue.rid ? f.ue.rid : u) +
              ' Status Code : ' +
              a.status +
              ' Status text : ' +
              b +
              ' Exception : ' +
              c +
              ' Response text : ' +
              a.responseText +
              'AJAX request data : ' +
              JSON.stringify(v)
            f.ueLogError && ((l.message = a), f.ueLogError(l))
            r()
          },
          success: q,
        })
      }
    })
  })(f.$Nav, x)
  ;(function (d) {
    d.when('$', 'util.ajaxReftagLogger', 'metrics', 'config').run(
      'hMenuItemClickHandler',
      function (a, c, d, b) {
        var e = null
        return function (g) {
          function k(a, c, g) {
            var l = h.children('ul.hmenu[data-menu-id\x3d' + c + ']')
            0 === l.length
              ? (d.increment('Navm:Hmenu:CustomerClickWithSelectedLayerError'),
                (f.location =
                  'mobile' === b.navDeviceType
                    ? '/?ref\x3dnavm_em_linktree_fail'
                    : '/?ref\x3dnav_em_linktree_fail'))
              : (a
                  .removeClass('hmenu-translateX')
                  .bind('transitionend webkitTransitionEnd oTransitionEnd', function () {
                    a.removeClass('hmenu-visible')
                    a.removeClass('hmenu-transition').unbind(
                      'transitionend webkitTransitionEnd oTransitionEnd',
                    )
                  })
                  .addClass(
                    'hmenu-transition ' + (g ? 'hmenu-translateX-left' : 'hmenu-translateX-right'),
                  ),
                l
                  .removeClass(g ? 'hmenu-translateX-right' : 'hmenu-translateX-left')
                  .bind('transitionend webkitTransitionEnd oTransitionEnd', function () {
                    l.removeClass('hmenu-transition').unbind(
                      'transitionend webkitTransitionEnd oTransitionEnd',
                    )
                    if (g) {
                      var a = h.children(
                        "ul.hmenu.hmenu-hidden[data-parent-menu-id\x3d'" + c + "']",
                      )
                      a && a.removeClass('hmenu-hidden')
                    }
                    a = l.find('.hmenu-back-button')
                    0 < a.length ? a.focus() : 0 < e.length && e.focus()
                    e = q
                  })
                  .addClass('hmenu-visible hmenu-transition hmenu-translateX')
                  .scrollTop(0))
          }
          var h = a('#hmenu-content'),
            q = a(g.currentTarget)
          g = q.closest('ul.hmenu')
          var m = ''
          if (q.data('menu-id'))
            return k(g, q.data('menu-id'), !0), (m = q.data('ref-tag')) && c(q.data('ref-tag')), !1
          if (q.hasClass('hmenu-back-button'))
            return (
              k(g, g.data('parent-menu-id')), (m = q.data('ref-tag')) && c(q.data('ref-tag')), !1
            )
        }
      },
    )
  })(f.$Nav)
  ;(function (d) {
    d.when(
      '$',
      'metrics',
      'util.ajaxReftagLogger',
      'hamburgerIosScrollSpy',
      'agent',
      'hMenuItemClickHandler',
      'hMenuCompressibleSectionsHandler',
      'config',
      'HamburgerMenuMainContentAJAXCall',
      'hMenuUpdatedEvent',
    ).run('hamburgerMenuInteractionJS', function (a, c, e, b, g, k, p, h, q, m) {
      return function () {
        function e(a) {
          a.removeClass(t.transition).unbind('transitionend webkitTransitionEnd oTransitionEnd')
        }
        d.when('updateIcpReturnUrl').run('updateHamburgerMenuMozartUpdateUrl', function (a) {
          a('#hmenu-icp-language')
        })
        var n = a('body'),
          l = a('#nav-hamburger-menu'),
          w = a('#hmenu-container'),
          v = a('#hmenu-canvas'),
          y = a('#hmenu-canvas-background'),
          z = a('#hmenu-content'),
          u = a('#hmenu-close-icon'),
          B = a('#a-page'),
          C = a('#hmenu-header-account'),
          A = a('#hmenu-container .nav-side-menu-back-to-top'),
          x,
          t = {
            transition: 'hmenu-transition',
            visible: 'hmenu-visible',
            translateX: 'hmenu-translateX',
            translateXLeft: 'hmenu-translateX-left',
            translateXRight: 'hmenu-translateX-right',
            transparent: 'hmenu-transparent',
            opaque: 'hmenu-opaque',
            lockPosition: 'lock-position',
          },
          E = document.getElementById('nav-hamburger-menu')
        E && E.removeEventListener('click', f.navHamburgerMetricLogger)
        l.one('click', function () {
          f.ue_t0 &&
            c.count(
              'mobile' === h.navDeviceType
                ? 'Navm:Hmenu:IconFirstClickTime'
                : 'Nav:Hmenu:IconFirstClickTime',
              Math.floor((Date.now() - f.ue_t0) / 1e3),
            )
          var b = d.getNow('navHMenuIconClickedNotReadyTimeStamp')
          c.count(
            'mobile' === h.navDeviceType
              ? 'Navm:Hmenu:IconFirstClickWaitTime'
              : 'Nav:Hmenu:IconFirstClickWaitTime',
            b ? Date.now() - b : 0,
          )
          v.bind('transitionend webkitTransitionEnd oTransitionEnd', function () {
            a("ul.hmenu[data-parent-menu-id\x3d'1']").removeClass('hmenu-hidden')
          })
          q()
        })
        l.click(function () {
          l.attr('aria-expanded', !0)
          z.children("ul.hmenu[data-menu-id\x3d'1']").addClass(t.visible)
          w.addClass(t.visible)
          v.removeClass(t.translateXLeft)
            .bind('transitionend webkitTransitionEnd oTransitionEnd', function () {
              e(v)
            })
            .addClass(t.transition + ' ' + t.translateX)
          y.removeClass(t.transparent)
            .bind('transitionend webkitTransitionEnd oTransitionEnd', function () {
              e(y)
            })
            .addClass(t.transition + ' ' + t.opaque)
          x = f.scrollY
          n.css({ top: '-' + x + 'px' })
          n.addClass(t.lockPosition)
          B.attr('aria-hidden', 'true')
          B.attr('inert', !0)
          u.focus()
          'mobile' === h.navDeviceType &&
            g.iPhone &&
            (n[0].addEventListener('touchstart', b.touchStartHandler, { passive: !1 }),
            n[0].addEventListener('touchmove', b.touchMoveHandler, { passive: !1 }),
            y.bind('touchmove', b.preventCurrentEvent))
          c.increment(
            'mobile' === h.navDeviceType
              ? 'Navm:Hmenu:IconClickActionComplete'
              : 'Nav:Hmenu:IconClickActionComplete',
          )
        })
        f.ue_t0 &&
          c.count(
            'mobile' === h.navDeviceType
              ? 'Navm:Hmenu:MenuAccessibleLatency'
              : 'Nav:Hmenu:MenuAccessibleLatency',
            Date.now() - f.ue_t0,
          )
        y.click(function (d) {
          if (d.target === this || d.target.parentElement === this) {
            c.increment(
              'mobile' === h.navDeviceType ? 'Navm:Hmenu:MenuAbandon' : 'Nav:Hmenu:MenuAbandon',
            )
            l.attr('aria-expanded', !1)
            y.removeClass(t.opaque)
              .bind('transitionend webkitTransitionEnd oTransitionEnd', function () {
                e(y)
              })
              .addClass(t.transition + ' ' + t.transparent)
            v.removeClass(t.translateX)
              .bind('transitionend webkitTransitionEnd oTransitionEnd', function () {
                w.removeClass(t.visible)
                z.children("ul.hmenu:not([data-menu-id\x3d'1'])")
                  .removeClass(t.translateX + ' ' + t.translateXLeft + ' ' + t.visible)
                  .addClass(t.translateXRight)
                z.children("ul.hmenu[data-menu-id\x3d'1']")
                  .removeClass(t.translateXLeft + ' ' + t.visible)
                  .scrollTop(0)
                e(v)
              })
              .addClass(t.transition + ' ' + t.translateXLeft)
            B.removeAttr('aria-hidden')
            B.removeAttr('inert')
            'mobile' === h.navDeviceType &&
              g.iPhone &&
              (n[0].removeEventListener('touchstart', b.touchStartHandler),
              n[0].removeEventListener('touchmove', b.touchMoveHandler),
              y.unbind('touchmove', b.preventCurrentEvent))
            n.attr('tabIndex', 0).focus().removeAttr('tabIndex').removeClass(t.lockPosition)
            n.css('top', '')
            f.scrollTo(f.scrollX, x)
            if ('mobile' === h.navDeviceType) {
              var k = n.is('.fixed-navbar')
              f.setTimeout(function () {
                k && n.addClass('fixed-navbar')
              }, 1)
            } else a(document).unbind('keyup.hamburgerEscape')
            l.focus()
          }
        })
        u.click(function () {
          y.click()
        })
        u.keydown(function (a) {
          'Enter' === a.originalEvent.key && y.click()
        })
        v.keyup(function (a) {
          'Escape' === a.originalEvent.key && u.click()
        })
        A.click(function () {
          var a = z.children('ul.hmenu.hmenu-visible')
          a.scrollTop(0)
          '1' === a.attr('data-menu-id') ? u.focus() : a.find('.hmenu-back-button').focus()
        })
        u.keydown(function (a) {
          var b = z.children('ul.hmenu.hmenu-visible')
          a.shiftKey &&
            'Tab' === a.originalEvent.key &&
            (a.preventDefault(), b.find('li:has(a):last \x3e a').focus())
        })
        A.keyup(function (a) {
          'Tab' === a.originalEvent.key && A.click()
        })
        A.keydown(function (a) {
          'Tab' === a.originalEvent.key && A.click()
        })
        a('.hmenu-item').click(function (a) {
          return k(a)
        })
        C &&
          C.click(function () {
            if (1 === C.data('recognized')) {
              var b = a('#hmenu-canvas-background'),
                c = a('#nav-button-avatar')
              b && b.click()
              c && c.click()
            }
          })
        p()
        document.getElementById('hmenu-container').style.display = 'block'
        m()
        f.csa &&
          csa('Content', { element: document.getElementById('nav-hamburger-menu') })(
            'mark',
            'functional:click',
          )
      }
    })
  })(f.$Nav)
  ;(function (d) {
    d.when('$', 'util.ajaxReftagLogger').run('hMenuCompressibleSectionsHandler', function (a, c) {
      var d = function (b) {
          var d = a(b.currentTarget).parent().prev('.hmenu-compress-section')
          d.removeAttr('aria-hidden')
          d.find('.hmenu-item').removeAttr('tabindex')
          requestAnimationFrame(function () {
            var a = d.prop('scrollHeight')
            d.css('height', a + 'px')
            d.removeClass('compressed')
            d.bind(
              'transitionend.menuSection webkitTransitionEnd.menuSection oTransitionEnd.menuSection',
              function (a) {
                'height' === a.originalEvent.propertyName &&
                  (d.unbind(
                    'transitionend.menuSection webkitTransitionEnd.menuSection oTransitionEnd.menuSection',
                  ),
                  d.css('height', ''),
                  d.find('.hmenu-item').first().focus())
              },
            )
          })
          c('nav_em_seemore')
          return !1
        },
        b = function (b) {
          var d = a(b.currentTarget),
            e = d.parent().prev('.hmenu-compress-section')
          e.attr('aria-hidden', !0)
          e.find('.hmenu-item').attr('tabindex', -1)
          requestAnimationFrame(function () {
            var a = e.prop('scrollHeight')
            e.css('height', a + 'px')
            requestAnimationFrame(function () {
              e.addClass('compressed')
              e.css('height', '')
              d.siblings('.hmenu-compressed-btn').focus()
            })
          })
          c('nav_em_seeless')
          return !1
        }
      return function () {
        a('.hmenu-compressed-btn').click(d)
        a('.hmenu-expanded-btn').click(b)
      }
    })
  })(f.$Nav)
  ;(function (d, a) {
    d.when(
      'jQuery',
      'util.ajax',
      'hMenuItemClickHandler',
      'config',
      'metrics',
      'hMenuUpdatedEvent',
      'util.getQueryStringForHMenuAjax',
    ).build('HamburgerMenuMainContentAJAXCall', function (a, e, b, g, k, p, h) {
      return function () {
        var c = { attribution: 'AmazonNavigationCards', logLevel: 'ERROR' },
          m = d.getNow('HMenuSecondLayerVariables')
        if (m && Array.isArray(m.secondLayerTreeName) && m.secondLayerTreeName.length) {
          k.increment(
            'mobile' === g.navDeviceType
              ? 'Navm:Hmenu:MainContentAjax'
              : 'Nav:Hmenu:MainContentAjax',
          )
          var r = Date.now()
          m = {
            ajaxTemplate: 'hamburgerMainContent',
            pageType: f.ue_pty ? f.ue_pty : 'NavUnknownPageType',
            hmDataAjaxHint: 1,
            navDeviceType: g.navDeviceType,
            isSmile: m.isSmile,
            RegionalStores: m.RegionalStores,
            isPrime: m.isPrime,
            isBackup: g.isBackup,
            hashCustomerAndSessionId: g.hashCustomerAndSessionId,
            languageCode: g.languageCode,
            environmentVFI: g.environmentVFI,
            secondLayerTreeName: m.slt || m.secondLayerTreeName,
            currentQueryString: h(),
            customerCountryCode: g.customerCountryCode,
          }
          var n = function (c) {
            var e = (c = JSON.parse(c).data) && c.trim()
            e &&
              a(e).hasClass('hmenu-translateX-right') &&
              (a('#hmenu-content').append(c),
              p(),
              d.declare('NavHmenuMainContentAdded', !0),
              a('.hmenu-item').click(function (a) {
                return b(a)
              }),
              r &&
                k.count(
                  'mobile' === g.navDeviceType
                    ? 'Navm:Hmenu:MainContentSuccessTotalTime'
                    : 'Nav:Hmenu:MainContentSuccessTotalTime',
                  Math.floor((Date.now() - r) / 1e3),
                ))
          }
          e({
            retryMetric:
              'mobile' === g.navDeviceType
                ? 'navm-hmenu-main-content-ajax-retry'
                : 'nav-hmenu-main-content-ajax-retry',
            errorMetric:
              'mobile' === g.navDeviceType
                ? 'navm-hmenu-main-content-ajax-error'
                : 'nav-hmenu-main-content-ajax-error',
            url: '/nav/ajax/' + m.ajaxTemplate,
            cache: !g.isHMenuBrowserCacheDisable,
            dataType: 'html',
            data: m,
            error: function (a, b, d) {
              var e = (a.responseText || '').split('\x3c!-- sp:error_pages --\x3e')[0]
              try {
                if (JSON.parse(e).data && n && 'function' === typeof n) {
                  n(e)
                  return
                }
              } catch (z) {}
              a =
                ' HamburgerMenu Main Content AJAX Call failed. Status Code : ' +
                a.status +
                ' Status text : ' +
                b +
                ' Exception : ' +
                d
              f.ueLogError && ((c.message = a), f.ueLogError(c))
            },
            success: n,
          })
        }
      }
    })
  })(f.$Nav, x)
  ;(function (d) {
    d.when('$', 'config').run('hMenuUpdatedEvent', function (a, c) {
      return function () {
        if ('mobile' === c.navDeviceType) {
          var a = new Event('nav:hbm:updated', { bubbles: !0, cancelable: !1 })
          document.dispatchEvent(a)
        }
      }
    })
  })(f.$Nav)
  ;(function (d) {
    d.declare('hMenuShouldSwipeClose', function (a) {
      return 'left' === a
    })
  })(f.$Nav)
  ;(function (d) {
    d.when('$', 'util.ajax', 'metrics', 'config').run(
      'notificationInteractionJS',
      function (a, c, d, b) {
        function e(a) {
          return ''.concat(l ? 'Navm' : 'Nav', a)
        }
        function k(a) {
          return ''.concat(l ? 'navm' : 'nav', a)
        }
        function p(a, e, g, l, k) {
          var w = Date.now()
          f.ue_t0 && d.count(a, Math.floor((w - f.ue_t0) / 1e3))
          a = {
            'client-id': 'GlobalNav',
            type: 'Payments',
            'sub-type': 'MFA',
            'source-action': k,
            'suppression-timestamp': Date.now(),
            'page-type': f.ue_pty,
            'sub-page-type': f.ue_spty,
          }
          c({
            retryMetric: e,
            errorMetric: g,
            url: b.isAjaxPaymentSuppressNotificationMigrated
              ? '/nav/ajax/suppress'
              : '/gp/navigation/notifications/1.0/suppress',
            data: a,
            method: 'POST',
            error: function (a, b, c) {
              var d = { attribution: 'AmazonNavigationCards', logLevel: 'ERROR' }
              a =
                ' Notification Suppression AJAX Call failed. Status Code : ' +
                a.status +
                ' Status text : ' +
                b +
                ' Exception : ' +
                c
              f.ueLogError && ((d.message = a), f.ueLogError(d))
            },
            success: function () {
              h.length && h.hide()
              n.length && h.length && !1 === q && n.show()
              w && d.count(l, Math.floor((Date.now() - w) / 1e3))
            },
          })
        }
        var h = a('#nav-notification'),
          q = 0 !== a('#nav-notification.nav-notification-bottom').length,
          m = a('a#nav-notification-right, #nav-notification-right \x3e a'),
          r = a('a#nav-notification-action, a#nav-notification-left'),
          n = a('#nav-upnav'),
          l = 'mobile' === b.navDeviceType.toLowerCase()
        n.length && h.length && !1 === q && n.hide()
        m.click(function () {
          var a = e(':Notification:Suppress:ClickTime'),
            b = k('-notification-suppress-retry'),
            c = k('-notification-suppress-error'),
            d = e(':Notification:Suppress:TotalTime')
          p(a, b, c, d, 'CloseButton')
        })
        r.click(function () {
          var a = e(':Notification:Action:ClickTime'),
            b = k('-notification-action-retry'),
            c = k('-notification-action-error'),
            d = e(':Notification:Action:TotalTime')
          p(a, b, c, d, 'CallToAction')
        })
      },
    )
  })(f.$Nav)
  ;(function (d) {
    d.when('$', 'metrics').run('skipLinkAccessibility', function (a, c) {
      a('#skiplink').focus(function () {
        c.increment('Nav:SkipLink:SkipLinkShow')
      })
      a('#skiplink').blur(function () {
        c.increment('Nav:SkipLink:SkipLinkAbandon')
      })
      a('#skiplink').keyup(function (c) {
        13 === c.keyCode && a('#skiplink').click()
      })
      a('#skiplink').click(function () {
        var a = document.getElementById('skippedLink')
        a.scrollIntoView(!0)
        a.focus()
        c.increment('Nav:SkipLink:SkipLinkClick')
      })
    })
  })(f.$Nav)
  ;(function (d, a) {
    a.when('A').execute('cosworthSubnav', function (a) {
      a.declarative('cosworth-subnav-chat-icon-action', 'click', function (a) {
        a &&
          a.$currentTarget[0] &&
          a.$currentTarget[0].dataset &&
          f.open(
            a.$currentTarget[0].dataset.url,
            '',
            'resizable,height\x3d600,width\x3d500, top\x3d' +
              f.screenTop +
              ', left\x3d' +
              f.screenLeft,
          )
      })
    })
  })(f.$Nav, x)
  ;(function (d) {
    d.when('$', 'metrics', 'page.domReady').run(
      'navigationAssistantAccessibility',
      function (a, c) {
        function d(a) {
          c.increment('Nav:NavAssistant:' + a + ':')
        }
        function b() {
          return m.hasClass('nav-assistant-visible')
        }
        function g() {
          b() || (m.addClass('nav-assistant-visible'), d('Show:' + m.eventType))
        }
        function k(a) {
          var b = a.getAttribute('data-target')
          if (b.startsWith('/')) f.location.href = b
          else if ((b = document.querySelector(b))) {
            b.scrollIntoView({ block: 'center' })
            var c = document.getElementById('navbar-main')
            c = c ? c.getBoundingClientRect().height : 100
            c = a.getBoundingClientRect().top + f.scrollY - c
            f.scrollTo({ top: c, behavior: 'instant' })
            b.focus({ preventscroll: !0 })
          } else {
            d('Failure:' + a.getAttribute('id'))
            return
          }
          d('LinkClick:' + a.id)
        }
        function p() {
          var a = getComputedStyle(m[0])
          return !!document
            .elementsFromPoint(parseFloat(a.marginLeft), parseFloat(a.marginTop))
            .find(function (a) {
              if (['fixed', 'absolute'].includes(getComputedStyle(a).position)) {
                var b = f.innerWidth * f.innerHeight
                a = a.clientWidth * a.clientHeight
                return 0 < b && 0.5 < a / b
              }
            })
        }
        function h(b, c) {
          if (b.repeat || !c) return !1
          var d = c.eventCode,
            e = c.eventKey
          c = c.isShiftRequired
          if (!d && !e) return !1
          var f
          ;(f = !b.altKey || b.ctrlKey || b.metaKey) ||
            (f = a(document.activeElement).is(
              'input[type\x3d"text"], input[type\x3d"search"], input[type\x3d"email"], input[type\x3d"password"], textarea, [contenteditable\x3d"true"]',
            ))
          if (!(f = f || p()))
            a: {
              f = document.querySelectorAll('#hmenu-container, .a-popover-modal, .a-dropdown')
              for (var g = 0; g < f.length; g++)
                if (f[g].checkVisibility({ visibilityProperty: !0, checkVisibilityCSS: !0 })) {
                  f = !0
                  break a
                }
              f = !1
            }
          if (f || c !== b.shiftKey) return !1
          e = e === b.key || e === u
          return (d === b.code || d === u) && e
        }
        function q(a, c, e) {
          document.addEventListener('keydown', function (g) {
            for (var l = 0; l < a.length; l++)
              if (h(g, a[l])) {
                g.preventDefault()
                m.eventType = 'Shortcut'
                g = b()
                if (c.startsWith('/')) f.location.href = c
                else if ((l = document.querySelector(c)))
                  g && m[0].contains(l)
                    ? n
                      ? n.focus()
                      : document.activeElement.blur()
                    : l.focus()
                else {
                  d('Failure:' + e)
                  break
                }
                d('Shortcut:' + e + ':' + (g ? 'Open' : 'Closed'))
                break
              }
          })
        }
        var m = a('#shortcut-menu'),
          r = a('.nav-assistant-menu-item')
        if (m.length && r.length) {
          m[0].contains(document.activeElement) && !b() && ((m.eventType = 'Tab'), g())
          a('.nav-assistant-link-item').keyup(function (a) {
            13 === a.keyCode && k(a.currentTarget)
          })
          a('.nav-assistant-link-item').click(function (a) {
            a.stopPropagation()
            k(a.currentTarget)
          })
          a('.nav-assistant-keyboard-shortcut-item').each(function () {
            var b = a(this).data('target'),
              c = a(this).data('actuators')
            b && c && q(c, b, a(this).attr('id'))
          })
          var n = null
          m.keyup(function (a) {
            27 === a.keyCode && (n ? n.focus() : document.activeElement.blur())
          })
          m.focusin(function (b) {
            var c = b.relatedTarget
            m[0].contains(c)
              ? (a(c).attr('tabIndex', '-1'), a(b.target).attr('tabIndex', '0'))
              : (g(), c && (n = c))
          })
          a('body').keydown(function (a) {
            m.eventType = 9 === a.keyCode ? 'Tab' : 27 === a.keyCode ? 'Escape' : 'Keyboard'
          })
          m.focusout(function (c) {
            m[0].contains(c.relatedTarget) ||
              (document.hasFocus() &&
                b() &&
                (m.removeClass('nav-assistant-visible'), d('Abandon:' + m.eventType)),
              a(c.target).attr('tabIndex', '-1'),
              a('a[data-nav-assist-menu-item-index\x3d"0"]').attr('tabIndex', '0'))
          })
          m.keydown(function (a) {
            switch (a.keyCode) {
              case 35:
              case 36:
              case 38:
              case 40:
              case 27:
                a.preventDefault()
            }
          })
          a('.nav-assistant-menu-item').keyup(function (b) {
            var c = r.length,
              d = a(this).data('nav-assist-menu-item-index')
            switch (b.keyCode) {
              case 35:
                r.get(c - 1).focus()
                break
              case 36:
                r.get(0).focus()
                break
              case 38:
                r.get((d - 1 + c) % c).focus()
                break
              case 40:
                r.get((d + 1) % c).focus()
            }
            switch (b.keyCode) {
              case 35:
              case 36:
              case 38:
              case 40:
                b.stopPropagation()
            }
          })
          m.keyup(function (a) {
            var b = r.length
            switch (a.keyCode) {
              case 35:
              case 38:
                r.get(b - 1).focus()
                break
              case 36:
              case 40:
                r.get(0).focus()
            }
          })
        }
      },
    )
  })(f.$Nav)
})
/* ******** */
;(function (K) {
  var l = window.AmazonUIPageJS || window.P,
    I = l._namespace || l.attributeErrors,
    f = I ? I('NavDesktopAssets', '') : l
  f.guardFatal
    ? f.guardFatal(K)(f, window)
    : f.execute(function () {
        K(f, window)
      })
})(function (K, l, I) {
  ;(function (f) {
    f.when('sharedconstants').build('constants', function (a) {
      a.CAROUSEL_WIDTH_BUFFER = 45
      a.PINNED_NAV_SEARCH_SPACING = 140
      a.REMOVE_COVER_SCROLL_HEIGHT = 200
      a.COMMUNICATION_CHANNEL_TYPE = 'NAV_BAR'
      return a
    })
  })(l.$Nav)
  ;(function (f) {
    f.when('$', 'config', 'provider.ajax')
      .iff({ name: 'config', prop: 'searchapiEndpoint' })
      .run('searchApiAjax', function (a, b, d) {
        d({
          url: b.searchapiEndpoint,
          dataKey: 'searchAjaxContent',
          success: function (a) {
            a &&
              a.searchAjaxContent &&
              a.searchAjaxContent.js &&
              ((a = 'var P \x3d window.AmazonUIPageJS || window.P; ' + a.searchAjaxContent.js),
              f.when('$', 'iss.flyout', 'searchApi', 'util.templates').run('[sx]iss', a))
          },
          error: function () {
            throw 'ISS failed to load.'
          },
        }).fetch()
      })
  })(l.$Nav)
  ;(function (f, a) {
    a.importEvent('jQuery', { as: '$', global: 'jQuery' })
    a.importEvent('jQuery', { global: 'jQuery' })
    a.when('$').run('PageEventSetup', function (b) {
      var d = function () {
        a.declare('page.domReady')
        a.declare('page.ATF')
        a.declare('page.CF')
        a.declare('page.loaded')
        a.declare('btf.full')
      }
      b(function () {
        a.declare('page.domReady')
      })
      b(f).load(d)
      'complete' === document.readyState
        ? d()
        : 'interactive' === document.readyState && a.declare('page.domReady')
    })
    a.when('log', 'Observer', '$F').run('setupPageReady', function (b, d, c) {
      function e() {
        return 'complete' !== document.readyState
      }
      var g = new d()
      g.observe(function (e) {
        b('page.ready triggered by: ' + e)
        a.declare('page.ready')
      })
      d = function (a) {
        g.notify(a)
      }
      'complete' === document.readyState
        ? d('immediate')
        : (a.when('page.ATF').run(
            'page.TriggerATF',
            c
              .partial('Event: page.ATF')
              .tap(b)
              .iff(e)
              .iff(function () {
                return !!a.getNow('config.readyOnATF')
              })
              .on(d),
          ),
          a.when('page.CF').run('page.TriggerCF', c.partial('Event: page.CF').tap(b).iff(e).on(d)),
          a
            .when('page.domReady')
            .run(
              'page.TriggerDom+',
              c.delay(1e4).partial('Event: page.domReady+').tap(b).iff(e).on(d),
            ),
          a
            .when('page.loaded')
            .run('page.TriggerLoaded', c.delay(100).partial('Event: page.loaded+').tap(b).on(d)))
    })
    a.declare('noOp', function () {})
    a.when('$', 'img.sprite', 'util.preload', 'config', 'util.addCssRule', 'page.ready').run(
      'ApplyHighResImage',
      function (a, d, c, e, g) {
        a = f.devicePixelRatio || 1
        e.navDebugHighres && (a = 2)
        if (!(1 >= a)) {
          var b = e.upnavHighResImgInfo,
            m = e.upnav2xAiryPreloadImgInfo,
            n = e.upnav2xAiryPostSlateImgInfo
          d['png32-2x'] &&
            c(d['png32-2x'], function (a) {
              1 < a.width &&
                (g(
                  '#navbar .nav-sprite',
                  'background-image: url(' +
                    d['png32-2x'] +
                    '); background-size: ' +
                    Math.floor(a.width / 2) +
                    'px;',
                ),
                g(
                  '#hmenu-container .nav-sprite',
                  'background-image: url(' +
                    d['png32-2x'] +
                    '); background-size: ' +
                    Math.floor(a.width / 2) +
                    'px;',
                ))
            })
          if (b && b.upnav2xImagePath && b.upnav2xImageHeight) {
            var h = b.upnav2xImagePath
            c(h, function (a) {
              1 < a.width &&
                g(
                  '#nav-upnav',
                  'background-image: url(' +
                    h +
                    ') !important;' +
                    b.upnav2xImageHeight +
                    ' !important;',
                )
            })
          }
          if (b && b.upnav2xImagePath && b.upnav2xImageHeight) {
            var q = b.upnav2xImagePath
            c(q, function (a) {
              1 < a.width &&
                (a = document.getElementById('nav-upnav')) &&
                ((a = a.getElementsByTagName('img')), a[0] && a[0].src && (a[0].src = q))
            })
          }
          if (m && m.preloadImgPath && m.preloadImgHeight) {
            var p = m.preloadImgPath
            c(p, function (a) {
              1 < a.width &&
                g(
                  '#nav-airy-preload-slate-image',
                  'background-image: url(' +
                    p +
                    ') !important;height:' +
                    m.preloadImgHeight +
                    ' !important;',
                )
            })
          }
          if (n && n.postslateImgPath && n.postslateImgHeight) {
            var w = n.postslateImgPath
            c(w, function (a) {
              1 < a.width &&
                g(
                  '#nav-airy-post-media-slate-image',
                  'background-image: url(' +
                    w +
                    ') !important;height:' +
                    n.postslateImgHeight +
                    ' !important;',
                )
            })
          }
        }
      },
    )
    a.when('config', 'now', 'Observer', 'noOp').build('debugStream', function (a, d, c, e) {
      if (!a.isInternal) return (a = function () {}), (a.observe = e), (a.getHistory = e), a
      var b = [],
        k = new c()
      e = function (a, e) {
        a = { data: e, msg: a, timestamp: d() }
        b.push(a)
        k.notify(a)
      }
      e.observe = k.boundObserve()
      e.getHistory = function () {
        return b
      }
      return e
    })
    a.when('debug.param', 'debugStream').build('log', function (a, d) {
      return f.console && f.console.log && a('navDebug')
        ? function (a) {
            d('Log', a)
            f.console.log(a)
          }
        : function () {}
    })
    a.when('config', 'util.getQueryString').build('debug.param', function (a, d) {
      if (!a.isInternal)
        return (
          (a = function () {
            return !1
          }),
          (a.value = function () {
            return null
          }),
          a
        )
      var b = (function () {
        var a = {},
          b = d()
        if (!b) return a
        b = b.substring(1).split('\x26')
        for (var c = 0; c < b.length; c++) {
          var m = b[c].split('\x3d')
          try {
            a[decodeURIComponent(m[0])] = decodeURIComponent(m[1])
          } catch (n) {}
        }
        return a
      })()
      a = function (a, c) {
        return 1 === arguments.length ? a in b : b[a] === c
      }
      a.value = function (a) {
        return a in b ? b[a] : null
      }
      return a
    })
    a.when('$')
      .iff({ name: 'config', prop: 'isInternal' }, { name: 'agent', prop: 'quirks' })
      .run(function (a) {
        a('#nav-debug-quirks-warning').show()
        a('#nav-debug-quirks-warning-close').click(function () {
          a('#nav-debug-quirks-warning').hide()
        })
      })
    a.when('$', '$F', 'config')
      .iff({ name: 'config', prop: 'windowWidths' })
      .run('windowResizeHandler', function (a, d, c) {
        var b = a('#navbar').parent('header'),
          g = a(f),
          k = c.windowWidths
        a = d.throttle(300).on(function () {
          for (var a = g.width(), c = 0; c < k.length; c++) {
            var e = k[c],
              d = 'nav-w' + e
            a >= e ? b.addClass(d) : b.removeClass(d)
          }
        })
        g.resize(a)
        a()
      })
    a.when(
      '$',
      '$F',
      'config.fixedBarBeacon',
      'fixedBar',
      'flyouts',
      'page.ready',
      'nav.inline',
    ).run('fixedBarResize', function (a, d, c, e, g) {
      if (c) {
        var b = a(f),
          m = 0
        a.each(g.getAll(), function (a, b) {
          b.elem().height() > m && 'ewc' != a && (m = b.elem().height())
        })
        a = d.throttle(300).on(function () {
          var a = b.width(),
            c = b.height()
          1e3 <= a && c >= m + 30 ? e.enable() : e.disable()
        })
        b.resize(a)
        a()
      }
    })
    a.when(
      '$',
      '$F',
      'config.fixedSubBarBeacon',
      'fixedSubBar',
      'flyouts',
      'page.ready',
      'nav.inline',
    ).run('fixedSubBarResize', function (a, d, c, e, g) {
      if (c) {
        var b = a(f),
          m = 0
        a.each(g.getAll(), function (a, b) {
          b.elem().height() > m && (m = b.elem().height())
        })
        a = d.throttle(300).on(function () {
          var a = b.width(),
            c = b.height()
          1e3 <= a && c >= m + 30 ? e.enable() : e.disable()
        })
        b.resize(a)
        a()
      }
    })
    a.when('$', '$F', 'config.stickySubnavConfig', 'stickySubNav', 'page.ready', 'nav.inline').run(
      'stickySubNavResize',
      function (a, d, c, e) {
        c &&
          (e.enable(),
          (a = a(f)),
          (d = d.throttle(300).on(function () {
            e.setWidth()
          })),
          a.resize(d),
          d())
      },
    )
    a.when('$', '$F', 'config', 'pinnedNav', 'flyouts', 'page.ready', 'nav.inline').run(
      'pinnedNavResize',
      function (a, d, c, e, g) {
        if (c.pinnedNav) {
          var b = a(f),
            m = 0,
            n = 1e3
          a.each(g.getAll(), function (a, b) {
            b.elem().height() > m && (m = b.elem().height())
          })
          m = c.pinnedNavMinHeight ? c.pinnedNavMinHeight : m + 30
          c.pinnedNavMinWidth && (n = c.pinnedNavMinWidth)
          a = d.throttle(300).on(function () {
            var a = b.width(),
              c = b.height()
            a >= n && c >= m ? e.enable() : e.disable()
          })
          b.resize(a)
          a()
        }
      },
    )
    a.when('PublishAPIs').publish('navbarJSInteraction')
  })(l, l.$Nav)
  ;(function (f, a) {
    a.when('$', 'img.sprite', 'util.preload', 'config', 'util.addCssRule', 'page.ready').run(
      'ApplyHighResImageDesktop',
      function (a, d, c, e, g) {
        a = f.devicePixelRatio || 1
        e.navDebugHighres && (a = 2)
        if (!(1 >= a)) {
          var b = e.transientMenuImage2xHover,
            m = e.transientMenuImage2x
          m &&
            c(m, function (a) {
              1 < a.width &&
                g(
                  '#nav-transient-flyout-trigger',
                  'background: url(' +
                    m +
                    ') no-repeat !important;background-size: ' +
                    Math.floor(a.width / 2) +
                    'px !important;',
                )
            })
          b &&
            c(m, function (a) {
              1 < a.width &&
                (g(
                  '#nav-transient-flyout-trigger:focus',
                  'background: url(' +
                    b +
                    ') no-repeat !important; background-size: ' +
                    Math.floor(a.width / 2) +
                    'px !important;',
                ),
                g(
                  '#nav-transient-flyout-trigger:hover',
                  'background: url(' +
                    b +
                    ') no-repeat !important; background-size: ' +
                    Math.floor(a.width / 2) +
                    'px !important;',
                ))
            })
        }
      },
    )
  })(l, l.$Nav)
  ;(function (f) {
    f.when('logEvent.enabled', '$F').build('logEvent', function (a, b) {
      var d = {}
      return function (c, e) {
        var g = [],
          k
        for (k in c) c.hasOwnProperty(k) && g.push(k + ':' + c[k])
        g.sort()
        g = g.join('|')
        d[g] ||
          ((d[g] = !0),
          f.getNow('log', b.noOp)('logEv:' + g),
          a && l.ue && l.ue.log && l.ue.log(c, 'navigation', e))
      }
    })
    f.when('agent', 'logEvent', 'btf.lite').run('logQuirks', function (a, b) {
      b({ quirks: a.quirks ? 1 : 0 })
    })
    f.when('$F', 'log').build('phoneHome', function (a, b) {
      function d() {
        e = { t: [], e: [] }
        g = { t: {}, e: {} }
        k = !0
      }
      function c(a, c) {
        !c || c in g[a] || (e[a].push(c), b('PhoneHome: ' + a + ' ' + c), (g[a][c] = !0), (k = !1))
      }
      var e, g, k
      f.when(
        '$',
        'config.recordEvUrl',
        'config.recordEvInterval',
        'config.sessionId',
        'config.requestId',
        'eventing.onunload',
      ).run('recordEvLoop', function (a, b, c, g, p, f) {
        function h(a, b) {
          a = e[a].join(b)
          return l.encodeURIComponent(a)
        }
        function m(a) {
          n++
          if (!k) {
            a = a || n
            var c = h('t', ':'),
              e = h('e', ':')
            a =
              'trigger\x3d' +
              c +
              '\x26exposure\x3d' +
              e +
              '\x26when\x3d' +
              a +
              '\x26sid\x3d' +
              ((l.ue && l.ue.sid) || g || '') +
              '\x26rid\x3d' +
              ((l.ue && l.ue.rid) || p || '')
            c = 0 < b.indexOf('?') ? '\x26' : '?'
            new Image().src = b + c + a
            d()
          }
        }
        if (b) {
          var n = 0
          l.setInterval(m, c)
          f(function () {
            m('beforeunload')
          })
        }
      })
      d()
      return { trigger: a.partial('t').on(c), exposure: a.partial('e').on(c) }
    })
  })(l.$Nav)
  ;(function (f) {
    f.when('$', 'debugStream', 'util.checkedObserver', 'util.node', 'util.randomString').build(
      'panels',
      function (a, b, d, c, e) {
        var g = {},
          k = 0,
          m = function (a) {
            return function (b) {
              for (var c in g) g.hasOwnProperty(c) && a.call(g[c], b || {})
            }
          },
          n = {
            create: function (h) {
              var m = {
                name: 'panel-' + k++,
                visible: !1,
                sidePanelCallback: [],
                locked: !1,
                rendered: !1,
                interactionDelay: 750,
                elem: null,
                groups: [],
                locks: [],
              }
              h = a.extend({}, m, h)
              if (g[h.name]) return g[h.name]
              var p = {},
                f = !0
              p.elem = function (b) {
                if (b || f) (h.elem = a(c.create(b || h.elem))), (f = !1)
                return h.elem
              }
              var l = !1
              p.interact = d({
                context: p,
                observe: function () {
                  b('Panel Interact', p)
                  l = !0
                },
              })
              p.hasInteracted = function () {
                return l
              }
              var t = null,
                u = function () {
                  t && (clearTimeout(t), (t = null))
                },
                r = function () {
                  u()
                  h.rendered && h.visible && (t = setTimeout(p.interact, h.interactionDelay))
                }
              p.render = d({
                context: p,
                check: function (a) {
                  if (h.rendered) return !1
                },
                observe: function (a) {
                  h.rendered = !0
                  r()
                  b('Panel Render', p)
                },
              })
              p.reset = d({
                context: p,
                observe: function (a) {
                  h.rendered = !1
                  u()
                  b('Panel Reset', p)
                },
              })
              p.show = d({
                context: p,
                check: function (a) {
                  if (h.visible || h.locked || !p.groups.has(a.group)) return !1
                },
                observe: function (a) {
                  if (0 < h.groups.length)
                    for (var c = 0; c < h.groups.length; c++) n.hideAll({ group: h.groups[c] })
                  h.rendered || p.render(a)
                  h.visible = !0
                  r()
                  b('Panel Show', p)
                },
              })
              p.hide = d({
                context: p,
                check: function (a) {
                  if (!h.visible || h.locked || !p.groups.has(a.group)) return !1
                },
                observe: function (a) {
                  h.visible = !1
                  u()
                  b('Panel Hide', p)
                },
              })
              p.lockRequest = d({ context: p })
              p.lock = d({
                context: p,
                check: function (a) {
                  var b = h.locked
                  p.locks.add(a.lockKey || 'global')
                  p.lockRequest()
                  if (b) return !1
                },
                observe: function () {
                  b('Panel Lock', p)
                },
              })
              p.unlockRequest = d({ context: p })
              p.unlock = d({
                context: p,
                check: function (a) {
                  p.unlockRequest()
                  p.locks.remove(a.lockKey || 'global')
                  if (h.locked) return !1
                },
                observe: function () {
                  b('Panel Unlock', p)
                },
              })
              p.groups = {
                add: function (a) {
                  h.groups.push(a)
                },
                remove: function (b) {
                  b = a.inArray(b, h.groups)
                  ;-1 < b && h.groups.splice(b, 1)
                },
                has: function (b) {
                  return !b || -1 < a.inArray(b, h.groups) ? !0 : !1
                },
                clear: function () {
                  h.groups = []
                },
              }
              p.locks = {
                add: function (a) {
                  h.locks.push(a || e())
                  h.locked = !0
                },
                remove: function (b) {
                  b = a.inArray(b, h.locks)
                  ;-1 < b && h.locks.splice(b, 1)
                  0 === h.locks.length && (h.locked = !1)
                },
                has: function (b) {
                  return !b || -1 < a.inArray(b, h.locks) ? !0 : !1
                },
                clear: function () {
                  h.locked = !1
                  h.locks = []
                },
              }
              p.isVisible = function () {
                return h.visible
              }
              p.isSideCallbackSet = function () {
                return null !== h.sidePanelCallback
              }
              p.setSidePanelCallback = function (a) {
                h.sidePanelCallback.push(a)
              }
              p.initiateSidePanel = function () {
                if (null !== h.sidePanelCallback)
                  for (var a = 0; a < h.sidePanelCallback.length; a++) h.sidePanelCallback[a]()
              }
              p.isLocked = function () {
                return 0 < h.locks.length
              }
              p.isRendered = function () {
                return h.rendered
              }
              p.isGrouped = function () {
                return 0 < h.groups.length
              }
              p.getName = function () {
                return h.name
              }
              p.destroy = d({
                context: p,
                observe: function () {
                  u()
                  var a = p.elem()
                  a && a.remove()
                  b('Panel destroy', p)
                },
              })
              p.onReset = p.reset.observe
              p.onRender = p.render.observe
              p.onInteract = p.interact.observe
              p.onShow = p.show.observe
              p.onHide = p.hide.observe
              p.onLock = p.lock.observe
              p.onUnlock = p.unlock.observe
              p.onLockRequest = p.lockRequest.observe
              p.onUnlockRequest = p.unlockRequest.observe
              p.onDestroy = p.destroy.observe
              a.each(h, function (a, b) {
                a in m || a in p || (p[a] = b)
              })
              b('Panel Create', p)
              return (g[h.name] = p)
            },
            destroy: function (a) {
              return g[a] ? (g[a].destroy(), delete g[a], !0) : !1
            },
            hideAll: m(function (a) {
              this.hide(a)
            }),
            showAll: m(function (a) {
              this.show(a)
            }),
            lockAll: m(function (a) {
              this.lock(a)
            }),
            unlockAll: m(function (a) {
              this.unlock(a)
            }),
            getAll: function (a) {
              a = a || {}
              var b = [],
                c
              for (c in g)
                ('locked' in a && g[c].isLocked() !== a.locked) ||
                  ('visible' in a && g[c].isVisible() !== a.visible) ||
                  ('rendered' in a && g[c].isRendered() !== a.rendered) ||
                  ('group' in a && !g[c].groups.has(a.group)) ||
                  ('lockKey' in a && !g[c].locks.has(a.lockKey)) ||
                  b.push(g[c])
              return b
            },
            get: function (a) {
              return g[a]
            },
          }
        return n
      },
    )
  })(l.$Nav)
  ;(function (f) {
    f.when(
      '$',
      'data',
      'debugStream',
      'panels',
      'util.templates',
      'metrics',
      'util.checkedObserver',
    ).build('dataPanel', function (a, b, d, c, e, g, k) {
      var m = 0
      return function (n) {
        var h = c.create(
            a.extend(
              {
                id: 'dataPanel-' + n.dataKey + '-' + m++,
                className: null,
                dataKey: null,
                groups: [],
                spinner: !1,
                visible: !0,
                timeoutDataKey: null,
                timeoutDelay: 5e3,
                elem: function () {
                  var b = a("\x3cdiv class\x3d'nav-template'\x3e\x3c/div\x3e")
                  n.id && b.attr('id', n.id)
                  n.className && b.addClass(n.className)
                  n.spinner && b.addClass('nav-spinner')
                  return b
                },
              },
              n,
            ),
          ),
          q = e.renderer()
        q.onRender(function (a) {
          h.reset()
          h.render({ html: a, templateName: q.templateName, data: q.data })
        })
        var p = null
        h.timeout = k({
          context: h,
          check: function () {
            if (h.isRendered()) return !1
          },
          observe: function () {
            if (n.timeoutDataKey) {
              var a = b.get(n.timeoutDataKey)
              if (a) {
                a.isTimeout = !0
                var c = {}
                c[n.dataKey] = a
                b(c)
              }
              g.increment('nav-panel-' + n.timeoutDataKey)
              d('Panel Timeout', h)
            }
          },
        })
        h.onTimeout = h.timeout.observe
        h.startTimeout = function () {
          p && clearTimeout(p)
          h.isRendered() || (p = setTimeout(h.timeout, h.timeoutDelay))
        }
        h.render.check(function (a) {
          if (!a.html) return !1
        })
        h.onRender(function (a) {
          var b = this.elem()
          b[0].className =
            'nav-template' +
            (n.className ? ' ' + n.className : '') +
            (a.templateName ? ' nav-tpl-' + a.templateName : '') +
            (a.noTemplate ? ' nav-tpl-itemList' : '')
          n.doNotExecuteScripts ? (b[0].innerHTML = a.html || '') : b.html(a.html || '')
        })
        h.onReset(function () {
          var a = this.elem()
          a[0].className =
            'nav-template' +
            (n.className ? ' ' + n.className : '') +
            (n.spinner ? ' nav-spinner' : '')
          a.html('')
        })
        h.data = k({ context: h })
        h.onData = h.data.observe
        h.onShow(function () {
          this.elem().show()
        })
        h.onHide(function () {
          this.elem().hide()
        })
        var f = function (c) {
            c &&
              (c.css &&
                (h.styleSheet && h.styleSheet.attr('disabled', 'disabled').remove(),
                (h.styleSheet = a("\x3cstyle type\x3d'text/css' /\x3e").appendTo('head')),
                h.styleSheet[0].styleSheet
                  ? (h.styleSheet[0].styleSheet.cssText = c.css)
                  : h.styleSheet[0].appendChild(document.createTextNode(c.css))),
              c.event && 'string' === typeof c.event && a.isFunction(h[c.event])
                ? h[c.event].call(h)
                : c.event && 'string' === typeof c.event.name && a.isFunction(h[c.event.name])
                  ? h[c.event.name].apply(
                      h,
                      '[object Array]' === Object.prototype.toString.call(c.event.args)
                        ? c.event.args
                        : [],
                    )
                  : c.template
                    ? ((q.templateName = c.template.name), (q.data = c.template.data), q.render())
                    : c.html
                      ? (h.reset(), h.render({ html: c.html, noTemplate: c.noTemplate }))
                      : c.dataKey && b.get(c.dataKey) && f(b.get(c.dataKey)),
              h.data(c))
          },
          l = b.observe(n.dataKey, f)
        h.onDestroy(function () {
          b.remove(l)
        })
        return h
      }
    })
  })(l.$Nav)
  ;(function (f) {
    f.when(
      '$',
      '$F',
      'util.parseQueryString',
      'config.isInternal',
      'log',
      'metrics',
      'onOptionClick',
      'eventing.onunload',
    ).build('searchMetrics', function (a, b, d, c, e, g, k, m) {
      return function (n) {
        var h = this
        this.elements = n
        this.debug = !1
        this.trigger = 'TN'
        this.scopeChanged = !1
        this.setTrigger = b.once().on(function (a) {
          h.trigger = a
        })
        this.queryFirst = 'N'
        this.setQueryFirst = b.once().on(function (a) {
          h.queryFirst = a ? 0 : 1
        })
        this.TRIGGERS = { BUTTON: 'TB', ENTER_KEY: 'TE', ISS_KEYBOARD: 'ISSK', ISS_MOUSE: 'ISSM' }
        this._getState = function () {
          var a = h.elements.scopeSelect[0].selectedIndex || null,
            b = h.elements.inputTextfield.val()
          '' === b && (b = null)
          return { scope: a, query: b }
        }
        this._computeAction = function (a, b, c) {
          var e = 'N'
          a ? ((e = 'R'), b && ((e = 'NC'), a !== b && (e = 'M'))) : b && (e = 'A')
          return c + e
        }
        this._computeKey = function () {
          var a = h._getState(),
            b = h._computeAction(h.initial.scope, a.scope, 'S')
          a = h._computeAction(h.initial.query, a.query, 'Q')
          return ['QF-' + h.queryFirst, b, a, h.trigger].join(':')
        }
        this.log = function (a) {
          h.debug && e(a)
        }
        this.printKey = function () {
          if (h.debug) {
            var a = h._computeKey()
            h.log('SM: key is: ' + a)
            return a
          }
        }
        this._sendMetric = b.once().on(function () {
          var a = h._computeKey()
          g.increment(a)
        })
        this._setupScopeSelectListener = function () {
          k(this.elements.scopeSelect, function () {
            h.log('SM: scope changed')
            h.scopeChanged = !0
          })
        }
        this.updateScopeSelect = function (a) {
          this.elements.scopeSelect = a
          h._setupScopeSelectListener()
        }
        this.init = function () {
          this.debug = c && '1' === d().navTestSearchMetrics
          this.initial = this._getState()
          this.log('SM: initial state')
          this.log(this.initial)
          h._setupScopeSelectListener()
          this.elements.inputTextfield.keypress(function (a) {
            13 === a.which
              ? h.setTrigger(h.TRIGGERS.ENTER_KEY)
              : (h.scopeChanged && h.setQueryFirst(!0), h.setQueryFirst(!1))
          })
          this.elements.submitButton.click(function () {
            h.setTrigger(h.TRIGGERS.BUTTON)
          })
          f.when('flyoutAPI.SearchSuggest').run(function (b) {
            b.onShow(function () {
              a('.srch_sggst_flyout').one('mousedown', function () {
                h.setTrigger(h.TRIGGERS.ISS_MOUSE)
              })
            })
          })
          m(function (a) {
            if (h.debug) return h.printKey(), a.preventDefault(), a.stopPropagation(), !1
            h._sendMetric()
          })
        }
      }
    })
  })(l.$Nav)
  ;(function (f) {
    f.when('log', 'sharedconstants').build('flyoutMetrics', function (a, b) {
      function d(a) {
        var e = 0,
          d = !1,
          m,
          n = a.getName().split('/')
        n = n[n.length - 1]
        if (l && l.navmet) {
          var h = l.navmet.MainEnd
          h && c('nav-flyout-' + n + '-attach-latency', new Date() - h)
        }
        a.elem().click(function () {
          var a = m ? new Date() - m : void 0
          c('nav-flyout-' + n + '-dwellTime', a)
          d = !1
        })
        a.onShow(function () {
          m = new Date()
          d = !0
        })
        a.onHide(function () {
          if (d) {
            var a = m ? new Date() - m : void 0
            a > b.DWELLTIME_MIN &&
              (e++,
              c('nav-flyout-' + n + '-dwellTime', a),
              c('nav-flyout-' + n + '-bounceCount', e))
          }
          d = !1
        })
      }
      function c(b, c) {
        l.ue && l.ue.count && (l.ue.count(b, c), a('Nav-Flyout-Metrics: ' + b + ' to ' + c))
      }
      a('flyout metrics')
      return {
        attachTo: function (a) {
          d(a)
        },
      }
    })
  })(l.$Nav)
  ;(function (f) {
    f.when('$', 'Observer').build('util.ajax', function (a, b) {
      return function (b) {
        b = a.extend(
          {
            url: null,
            data: {},
            type: 'GET',
            dataType: 'json',
            cache: !1,
            timeout: 5e3,
            retryLimit: 3,
          },
          b,
        )
        var c = b.error
        b.error = function () {
          0 <= --this.retryLimit
            ? (a.ajax(this), b.retry && b.retry(this))
            : c && c.apply(this, arguments)
        }
        return a.ajax(b)
      }
    })
  })(l.$Nav)
  ;(function (f) {
    f.when('$', '$F', 'agent', 'util.bean', 'util.class', 'config').build(
      'util.Aligner',
      function (a, b, d, c, e, g) {
        var k = {
          top: { direction: 'vert', size: 0 },
          middle: { direction: 'vert', size: 0.5 },
          bottom: { direction: 'vert', size: 1 },
          left: { direction: 'horiz', size: 0 },
          center: { direction: 'horiz', size: 0.5 },
          right: { direction: 'horiz', size: 1 },
        }
        g.rightMarginAlignEnabled && (k.rightArrow = { direction: 'horiz', size: 0.9 })
        var m = { top: 'vert', bottom: 'vert', left: 'horiz', right: 'horiz' },
          n = function (a, b, c) {
            try {
              return a[b ? 'outerHeight' : 'outerWidth'](c) || 0
            } catch (x) {
              return 0
            }
          },
          h = function (a, b) {
            b = b ? 'top' : 'left'
            try {
              var c = a.offset()
              return c ? c[b] : 0
            } catch (x) {
              return 0
            }
          }
        d = e()
        d.prototype.alignTo = c({ value: a.fn })
        d.prototype.offsetTo = c({ value: a.fn })
        d.prototype.base = c({ value: a.fn })
        d.prototype.target = c({ value: a.fn })
        d.prototype.fullWidth = c({ value: !1 })
        d.prototype.constrainTo = c({ value: a.fn })
        d.prototype.constrainBuffer = c({ value: [0, 0, 0, 0] })
        d.prototype.constrainChecks = c({ value: [!0, !0, !0, !0] })
        d.prototype.fullWidthCss = c({
          get: function (b) {
            return a.extend({ left: '0px', right: '0px', width: 'auto' }, b)
          },
          value: function () {
            return {}
          },
        })
        d.prototype.anchor = c({
          value: { vert: 'top', horiz: 'left' },
          set: function (a) {
            a = a.split(' ')
            for (var b = { vert: 'top', horiz: 'left' }, c = 0; c < a.length; c++)
              m[a[c]] && (b[m[a[c]]] = a[c])
            return b
          },
        })
        d.prototype.getAlignment = function (a) {
          var c = k[a]
          if (c) {
            var e = 'vert' === c.direction ? !0 : !1,
              d = e ? 'top' : 'left',
              g = e ? 'bottom' : 'right'
            return {
              offset: b.bind(this).on(function () {
                return h(this.base(), e) - h(this.offsetTo(), e) + n(this.base(), e) * c.size
              }),
              align: b.bind(this).on(function () {
                var a = this.from()[c.direction].offset() + this.nudgeFrom()[d],
                  b = h(this.alignTo(), e),
                  m = b - h(this.offsetTo(), e) + this.nudgeTo()[d],
                  k = n(this.target(), e)
                a = a - m - k * c.size
                var p = this.constrainTo()
                if (1 === p.length) {
                  m = this.constrainChecks()
                  var f = this.constrainBuffer(),
                    q = n(p, e) - (e ? f[0] + f[2] : f[1] + f[3])
                  p = h(p, e) + (e ? f[0] : f[3])
                  ;((e && m[0]) || (!e && m[3])) && a + b < p
                    ? (a = p - b)
                    : ((e && m[2]) || (!e && m[1])) && a + b + k > p + q && (a = p + q - k - b)
                }
                b = {}
                this.anchor()[c.direction] === d
                  ? (b[d] = a)
                  : ((m = n(this.alignTo(), e)), (b[g] = m - a - k))
                return b
              }),
            }
          }
          return {
            offset: function () {
              return 0
            },
            align: function () {
              return {}
            },
          }
        }
        d.prototype.from = c({
          set: function (a) {
            a = a.split(' ')
            for (
              var b = { vert: this.getAlignment(), horiz: this.getAlignment() }, c = 0;
              c < a.length;
              c++
            ) {
              var e = k[a[c]]
              e && (b['vert' === e.direction ? 'vert' : 'horiz'] = this.getAlignment(a[c]))
            }
            return b
          },
          value: function () {
            return { vert: this.getAlignment(), horiz: this.getAlignment() }
          },
        })
        d.prototype.to = c({
          set: function (a) {
            a = a.split(' ')
            for (
              var b = { vert: this.getAlignment(), horiz: this.getAlignment() }, c = 0;
              c < a.length;
              c++
            ) {
              var e = k[a[c]]
              e && (b['vert' === e.direction ? 'vert' : 'horiz'] = this.getAlignment(a[c]))
            }
            return b
          },
          value: function () {
            return { vert: this.getAlignment(), horiz: this.getAlignment() }
          },
        })
        d.prototype.nudgeFrom = c({
          set: function (a) {
            return { top: a.top || 0, left: a.left || 0 }
          },
          value: { top: 0, left: 0 },
        })
        d.prototype.nudgeTo = c({
          set: function (a) {
            return { top: a.top || 0, left: a.left || 0 }
          },
          value: { top: 0, left: 0 },
        })
        d.prototype.align = function (b) {
          b && this.target(b)
          this.target().css('position', 'absolute')
          b = this.to()
          this.target().css(
            a.extend({}, b.vert.align(), this.fullWidth() ? this.fullWidthCss() : b.horiz.align()),
          )
          return this
        }
        return d
      },
    )
  })(l.$Nav)
  ;(function (f) {
    f.when('$', '$F').build('util.bean', function (a, b) {
      var d = 0
      return function (c) {
        c = a.extend(
          {
            name: '__bean_storage_' + d++,
            set: function (a) {
              return a
            },
            get: function (a) {
              return a
            },
          },
          c,
        )
        return function (a) {
          var e = c.context || this
          e[c.name] ||
            ((e[c.name] = {}),
            'undefined' !== typeof c.value &&
              (e[c.name].value = c.value instanceof Function ? b.bind(e).on(c.value)() : c.value))
          var d = e[c.name].value
          if ('undefined' !== typeof a)
            return (
              e[c.name].set || (e[c.name].set = b.bind(e).on(c.set)),
              (e[c.name].value = e[c.name].set(a, d)),
              e
            )
          'undefined' === typeof d &&
            'undefined' !== typeof c.empty &&
            (e[c.name].empty ||
              (e[c.name].empty =
                c.empty instanceof Function
                  ? b.bind(e).on(c.empty)
                  : function () {
                      return c.empty
                    }),
            (d = e[c.name].empty()))
          e[c.name].get || (e[c.name].get = b.bind(e).on(c.get))
          return e[c.name].get(d)
        }
      }
    })
  })(l.$Nav)
  ;(function (f) {
    f.declare('util.checkedObserver', function (a) {
      function b(a) {
        a = a || {}
        !1 !== b.check(a) && (d++, b.observe(a))
      }
      var d = 0,
        c = {},
        e = [],
        g = []
      b.observe = function (a) {
        a = a || {}
        if ('function' === typeof a) return e.push(a), b
        for (var d = 0; d < e.length; d++) e[d].call(c, a)
      }
      b.check = function (a) {
        a = a || {}
        if ('function' === typeof a) return g.push(a), b
        for (var e = 0; e < g.length; e++) if (!1 === g[e].call(c, a)) return !1
        return !0
      }
      b.context = function (a) {
        return a ? ((c = a), b) : c
      }
      b.count = function (a) {
        return a ? ((d = a), b) : d
      }
      if (a) for (var k in a) if (a.hasOwnProperty(k) && b[k]) b[k](a[k])
      return b
    })
  })(l.$Nav)
  ;(function (f) {
    f.when('$', '$F').build('util.class', function (a, b) {
      return function (d) {
        d = a.extend({ construct: b.noOp }, d)
        var c = function (a) {
          for (var b in a) this[b](a[b])
          d.construct.apply(this, arguments)
        }
        c.newInstance = function () {
          var a = Array.prototype.slice.call(arguments),
            b = function () {
              return c.apply(this, a)
            }
          b.prototype = c.prototype
          return new b()
        }
        c.isInstance = function (a) {
          return a instanceof this
        }
        return c
      }
    })
  })(l.$Nav)
  ;(function (f) {
    f.when('$', '$F', 'util.bean', 'util.class').build('util.Ellipsis', function (a, b, d, c) {
      b = c()
      b.prototype._storage = []
      b.prototype.elem = function (b) {
        var c = this
        b instanceof a && b.get && (b = b.get())
        var e = function (b) {
          b = a(b)
          c._storage.push({ $elem: b, text: b.text(), isTruncated: !1 })
        }
        if (b instanceof Array) for (var d = 0; d < b.length; d++) e(b[d])
        else e(b)
        return this
      }
      b.prototype.lines = d({ value: !1 })
      b.prototype.external = d({ value: !1 })
      b.prototype.lastCharacter = d({ value: '...' })
      b.prototype.dimensions = d({
        empty: function () {
          var a = this.lines()
          return function (b) {
            return {
              width: b.innerWidth(),
              height: a ? parseInt(b.css('line-height'), 10) * a : b.parent().height(),
            }
          }
        },
        set: function (a) {
          var b = this
          return function (c) {
            c = a.call(b, c)
            return { width: c.width || 0, height: c.height || 0 }
          }
        },
      })
      b.prototype.refresh = function () {
        this.reset()
        this.truncate()
        return this
      }
      b.prototype.truncate = function () {
        var b = this.lastCharacter(),
          c = this.external(),
          d = this.dimensions(),
          m
        c &&
          (m = a('\x3cdiv\x3e\x3c/div\x3e')
            .css({ position: 'absolute', left: '-10000px', visibility: 'hidden' })
            .appendTo(document.body))
        a.each(this._storage, function (a, e) {
          if (!e.isTruncated) {
            e.isTruncated = !0
            a = d(e.$elem)
            c && m.css({ width: a.width + 'px', lineHeight: e.$elem.css('line-height') })
            var g = c ? m : e.$elem
            g.text('')
            for (var h = g.height(), k = e.text.split(' '), n = 0, f = ''; h <= a.height; ) {
              var l = k.slice(0, ++n).join(' ')
              if ('' !== k[n]) {
                if (l.length === f.length) {
                  e.$elem.text(e.text)
                  return
                }
                g.text(l + b)
                h = g.height()
                f = l
              }
            }
            e.$elem.text(k.slice(0, n - 1).join(' ') + b)
          }
        })
        c && m.remove()
        return this
      }
      b.prototype.reset = function () {
        a.each(this._storage, function (a, b) {
          b.isTruncated && ((b.isTruncated = !1), b.$elem.text(b.text))
        })
        return this
      }
      return b
    })
  })(l.$Nav)
  ;(function (f) {
    f.when('$').build('eventing.onunload', function (a) {
      var b = f.getNow('config.pageHideEnabled')
      return function (d) {
        b && l.addEventListener && (l.onpagehide || null === l.onpagehide)
          ? l.addEventListener('pagehide', d, !1)
          : a(l).bind('beforeunload', d)
      }
    })
  })(l.$Nav)
  ;(function (f) {
    f.build('util.getComputedStyle', function () {
      return (
        l.getComputedStyle ||
        function (a, b) {
          return {
            el: a,
            getPropertyValue: function (b) {
              var c = /(\-([a-z]){1})/g
              'float' === b && (b = 'styleFloat')
              c.test(b) &&
                (b = b.replace(c, function (a, b, c) {
                  return c.toUpperCase()
                }))
              return a.currentStyle && a.currentStyle[b] ? a.currentStyle[b] : null
            },
          }
        }
      )
    })
  })(l.$Nav)
  ;(function (f) {
    f.when('$', 'img.pixel', 'util.getComputedStyle').build(
      'util.highContrast',
      function (a, b, d) {
        var c = document.createElement('div')
        c.style.cssText =
          "position:absolute; left:-1000px; height:10px; width:10px; border-left:1px solid black; border-right:1px solid white; background-image: url('" +
          b +
          "')"
        document.body.appendChild(c)
        b = d(c, 'backgroundImage')
        d =
          'none' === b ||
          'url(invalid-url:)' === b ||
          d(c, 'borderLeftColor') === d(c, 'borderRightColor')
        a.browser && a.browser.msie && 7 >= parseInt(a.browser.version, 10)
          ? (c.outerHTML = '')
          : document.body.removeChild(c)
        return d
      },
    )
  })(l.$Nav)
  ;(function (f) {
    f.build('util.highRes', function () {
      return 1 < l.devicePixelRatio ? !0 : !1
    })
  })(l.$Nav)
  ;(function (f) {
    f.when('agent').build('util.inlineBlock', function (a) {
      return function (b) {
        a.ie6 || a.quirks
          ? b.css({ display: 'inline', zoom: '1' })
          : b.css({ display: 'inline-block' })
      }
    })
  })(l.$Nav)
  ;(function (f) {
    f.when('$F', 'util.Keycode').build('util.onKey', function (a, b) {
      return function (d, c, e, g) {
        if (!d || !c) return { bind: a.noOp, unbind: a.noOp }
        e = e || 'keydown'
        g = !1 === g ? !1 : !0
        var k = function (a) {
          var e = new b(a)
          return c.call(e, a)
        }
        g && d.bind(e, k)
        return {
          bind: function () {
            g || (d.bind(e, k), (g = !0))
          },
          unbind: function () {
            g && (d.unbind(e, k), (g = !1))
          },
        }
      }
    })
    f.when('$').build('util.Keycode', function (a) {
      function b(a) {
        this.evt = a
        this.code = a.keyCode || a.which
      }
      b.prototype.isAugmented = function () {
        return this.evt.altKey || this.evt.ctrlKey || this.evt.metaKey
      }
      b.prototype.isAugmentor = function () {
        return 0 <= a.inArray(this.code, [0, 16, 20, 17, 18, 224, 91, 93])
      }
      b.prototype.isTextFieldControl = function () {
        return 0 <= a.inArray(this.code, [8, 9, 13, 32, 35, 36, 37, 38, 39, 40, 45, 46])
      }
      b.prototype.isControl = function () {
        return 46 >= this.code ||
          (91 <= this.code && 95 >= this.code) ||
          (112 <= this.code && 145 >= this.code)
          ? !0
          : !1
      }
      b.prototype.isShiftTab = function () {
        return 9 === this.code && this.evt.shiftKey
      }
      b.prototype.isTab = function () {
        return 9 === this.code
      }
      b.prototype.isEnter = function () {
        return 13 === this.code
      }
      b.prototype.isBackspace = function () {
        return 8 === this.code
      }
      b.prototype.isSpace = function () {
        return 32 === this.code
      }
      b.prototype.isEscape = function () {
        return 27 === this.code
      }
      return b
    })
  })(l.$Nav)
  ;(function (f) {
    f.when('$', 'now', 'agent').build('util.MouseTracker', function (a, b, d) {
      function c(a) {
        var c = g.length
        if (c && ((c = g[c - 1]), c.x === a.pageX && c.y === a.pageY)) return
        g.push({ x: a.pageX, y: a.pageY, when: k ? a.timeStamp : b() })
        100 < g.length && (g = g.slice(-10))
      }
      function e() {
        this.active = !0
        0 === m && a(document).mousemove(c)
        m++
      }
      var g = [],
        k = !d.firefox,
        m = 0
      e.prototype.stop = function () {
        this.active &&
          (m--, 0 === m && (a(document).unbind('mousemove', c), (this.active = !1), (g = [])))
      }
      e.prototype.position = function () {
        var b = g.length
        return b ? a.extend(!0, {}, g[b - 1]) : null
      }
      e.prototype.velocity = function () {
        var a = g.length
        if (1 < a && 75 >= b() - g[a - 1].when)
          for (var c = g[a - 1], e = 2; e <= a; e++) {
            var d = g[a - e],
              k = c.when - d.when
            d = Math.abs(c.x - d.x) + Math.abs(c.y - d.y)
            if (0 < d && 0 < k) return (d / k) * 1e3
          }
        return 0
      }
      e.prototype.history = function (b) {
        var c = g.length
        if (0 === c) return []
        var e = Math.min(c, 10)
        0 < arguments.length && (e = Math.min(e, b))
        var d = [],
          k = c - 1
        for (c -= e; k >= c; k--) d.push(a.extend(!0, {}, g[k]))
        return d
      }
      return {
        start: function () {
          return new e()
        },
      }
    })
    f.when('$', '$F', 'util.MouseTracker', 'debug.param').build(
      'util.Proximity',
      function (a, b, d, c) {
        function e(b, c) {
          var e = [],
            d = [],
            g = [],
            m = []
          b.each(function (b, c) {
            c = a(c)
            b = c.offset()
            g.push(b.top)
            m.push(b.top + c.height())
            k
              ? (e.push(a(l).width() - (b.left + c.width())), d.push(a(l).width() - b.left))
              : (e.push(b.left), d.push(b.left + c.width()))
          })
          return {
            left: Math.min.apply(Math, e) - c[3],
            top: Math.min.apply(Math, g) - c[0],
            right: Math.max.apply(Math, d) + c[1],
            bottom: Math.max.apply(Math, m) + c[2],
          }
        }
        var g = c('navDebugProximity'),
          k = 'rtl' === a('body').css('direction')
        return {
          onEnter: function (c, n, h, f, p) {
            function m() {
              g && u.show().css({ background: 'rgba(255,0,0,0.1)' })
              D && (l.clearInterval(D), (D = null))
              q && (q.stop(), (q = null))
              t = null
            }
            var q = d.start(),
              t = e(c, n)
            if (g) {
              var u = a('\x3cdiv\x3e\x3c/div\x3e').css({
                position: 'absolute',
                top: t.top,
                left: k ? 'auto' : t.left,
                right: k ? t.left : 'auto',
                width: t.right - t.left,
                height: t.bottom - t.top,
                background: 'rgba(0,255,0,0.1)',
                zIndex: 1e3,
                clickEvents: 'none',
              })
              u.click(function () {
                u.hide().remove()
              })
              u.show()
              a('body').append(u)
            }
            var r = f
              ? b.throttle(f).on(h)
              : b.once().on(function () {
                  m()
                  h()
                })
            var B,
              v,
              y,
              E,
              C,
              A,
              D = l.setInterval(function () {
                p &&
                  ((y = l.scrollX),
                  (E = l.scrollY),
                  (A = a(l).width()),
                  y !== B || E !== v || A !== C) &&
                  ((t = e(c, n)),
                  g &&
                    u.show().css({
                      top: t.top,
                      left: k ? 'auto' : t.left,
                      right: k ? t.left : 'auto',
                      width: t.right - t.left,
                      height: t.bottom - t.top,
                    }),
                  (B = y),
                  (v = E),
                  (C = A))
                var b = q.position()
                b && b.x >= t.left && b.x <= t.right && b.y >= t.top && b.y <= t.bottom && r()
              }, 100)
            return {
              unbind: function () {
                m()
              },
            }
          },
        }
      },
    )
    f.when('$', '$F', 'Observer', 'util.MouseTracker').build(
      'util.MouseIntent',
      function (a, b, d, c) {
        function e(a, b, c, e) {
          var d = (c.x - b.x) * (e.y - b.y) - (e.x - b.x) * (c.y - b.y),
            g = ((e.x - a.x) * (b.y - a.y) - (b.x - a.x) * (e.y - a.y)) / d
          b = ((b.x - a.x) * (c.y - a.y) - (c.x - a.x) * (b.y - a.y)) / d
          return 0 < ((c.x - a.x) * (e.y - a.y) - (e.x - a.x) * (c.y - a.y)) / d && 0 < g && 0 < b
        }
        function g(e, g) {
          e = a(e)
          g = a.extend({ slop: 25, minorDelay: 200, majorDelay: 100 }, g)
          this._onStrayEvent = new d({ once: !0, async: !0 })
          this._onArriveEvent = new d({ once: !0, async: !0 })
          this._tracker = c.start()
          this.onArrive(b.bind(this._tracker).on(this._tracker.stop))
          this.onStray(b.bind(this._tracker).on(this._tracker.stop))
          this._minorDelay = g.minorDelay
          this._majorDelay = g.majorDelay
          var k = g.slop,
            h = e.offset()
          g = { x: h.left, y: h.top - k }
          e = { x: h.left + e.outerWidth(), y: h.top + e.outerHeight() + k }
          this._upperLeft = g
          this._lowerRight = e
          this._minor = 0
          this._tick()
        }
        g.prototype.onArrive = function (a) {
          this._onArriveEvent.observe(a)
          return this
        }
        g.prototype.onStray = function (a) {
          this._onStrayEvent.observe(a)
          return this
        }
        g.prototype._scheduleTick = function (a) {
          this._timer = b.delay(a).bind(this).run(this._tick)
        }
        g.prototype.cancel = function () {
          this._timer && l.clearTimeout(this._timer)
        }
        g.prototype._tick = function () {
          if (!this._onStrayEvent.isNotified() && !this._onArriveEvent.isNotified()) {
            var a = this._tracker.history(10)
            if (2 > a.length) this._scheduleTick(this._minorDelay)
            else {
              for (
                var b = a.shift(), c = null;
                a.length && ((c = a.shift()), 2 > Math.abs(c.x - b.x) && 2 > Math.abs(c.y - b.y));

              );
              if (c) {
                a = this._upperLeft
                var d = this._lowerRight
                b.x >= a.x && b.x <= d.x && b.y >= a.y && b.y <= d.y
                  ? this._onArriveEvent.notify()
                  : e(b, c, this._upperLeft, this._lowerRight) ||
                      e(
                        b,
                        c,
                        { x: this._lowerRight.x, y: this._upperLeft.y },
                        { x: this._upperLeft.x, y: this._lowerRight.y },
                      )
                    ? 2 > Math.abs(b.x - c.x) && 2 > Math.abs(b.y - c.y)
                      ? 2 <= this._minor
                        ? this._onStrayEvent.notify()
                        : (this._minor++, this._scheduleTick(this._minorDelay))
                      : ((this._minor = 0), this._scheduleTick(this._majorDelay))
                    : this._onStrayEvent.notify()
              } else this._scheduleTick(this._minorDelay)
            }
          }
        }
        return g
      },
    )
    f.when('$', 'agent', 'Observer', 'util.bean', 'util.class').build(
      'util.ClickOut',
      function (a, b, d, c, e) {
        b = e({
          construct: function () {
            var b = this
            this._isEnabled = !1
            this._clickHandler = function (c) {
              var e = b.ignore(),
                d = e.length
              c = c.target
              0 ===
                a(c)
                  .parents()
                  .add(c)
                  .filter(function () {
                    for (var a = 0; a < d; a++) if (this === e[a]) return !0
                    return !1
                  }).length && b.action()
            }
          },
        })
        b.prototype.attachTo = c({
          value: function () {
            return a(document.body)
          },
        })
        b.prototype.ignore = c({
          value: function () {
            return []
          },
          set: function (b, c) {
            c.push(b instanceof a ? b.get(0) : b)
            return c
          },
        })
        b.prototype.action = c({
          value: function () {
            return new d()
          },
          set: function (a, b) {
            b.observe(a)
            return b
          },
          get: function (a) {
            a.notify()
          },
        })
        b.prototype.enable = function () {
          if (!this._isEnabled)
            return (
              this.attachTo().bind('click touchstart', this._clickHandler),
              (this._isEnabled = !0),
              this
            )
        }
        b.prototype.disable = function () {
          if (this._isEnabled)
            return (
              this.attachTo().unbind('click touchstart', this._clickHandler),
              (this._isEnabled = !1),
              this
            )
        }
        return b
      },
    )
    f.when('$', 'Observer').build('util.mouseOut', function (a, b) {
      return function (a) {
        a = a || 10
        var c = new b(),
          e = c.boundObserve(),
          d = new b(),
          k = [],
          m = !1,
          n = null,
          h = !1,
          f = function () {
            n && (clearTimeout(n), (n = null))
          },
          p = function () {
            f()
            n = setTimeout(function () {
              c.notify()
              f()
              h = !1
            }, a)
          },
          l = function () {
            h || d.notify()
            h = !0
            f()
          }
        return {
          add: function (a) {
            m && a.hover(f, p)
            k.push(a)
          },
          enable: function () {
            if (!m) {
              for (var a = 0; a < k.length; a++) k[a].hover(l, p)
              m = !0
            }
          },
          changeTimeout: function (b) {
            a = b
          },
          disable: function () {
            if (m) {
              f()
              for (var a = 0; a < k.length; a++) k[a].unbind('mouseenter mouseleave')
              h = m = !1
            }
          },
          onEnter: d.boundObserve(),
          onLeave: e,
          action: e,
        }
      }
    })
    f.when('$', 'Observer', 'util.MouseTracker').build('util.velocityTracker', function (a, b, d) {
      return function () {
        var a = {},
          e = null,
          g = !1,
          k = null,
          m = new b({ context: a })
        a.enable = function () {
          g ||
            ((e = d.start()),
            (k = l.setInterval(function () {
              m.notify(e.velocity())
            }, 25)),
            (g = !0))
        }
        a.disable = function () {
          g && (l.clearInterval(k), (k = null), e.stop(), (e = null), (g = !1))
        }
        a.addThreshold = function (b, c) {
          b &&
            c &&
            m.observe(function (e) {
              ;(!b.above || e > b.above) && (!b.below || e < b.below) && c.call(a, e)
            })
        }
        return a
      }
    })
  })(l.$Nav)
  ;(function (f) {
    f.when('$').build('util.node', function (a) {
      function b(a) {
        return 'object' === typeof l.Node
          ? a instanceof l.Node
          : a &&
              'object' === typeof a &&
              'number' === typeof a.nodeType &&
              'string' === typeof a.nodeName
      }
      function d(c) {
        if (b(c)) return c
        if (c instanceof a) return c[0]
        if ('function' === typeof c) return d(c())
        if ('string' === typeof c) {
          var e = document.createElement('div')
          e.innerHTML = c
          return e.firstChild
        }
        return c && 'string' === typeof c.jquery ? c[0] : null
      }
      return { is: b, create: d }
    })
  })(l.$Nav)
  ;(function (f) {
    f.when('util.getQueryString').build('util.parseQueryString', function (a) {
      return function (b) {
        b = b || {}
        var d = a()
        if (d) {
          d = d.substring(1).split('\x26')
          for (var c = 0; c < d.length; c++) {
            var e = d[c].split('\x3d')
            1 < e.length && (b[e[0]] = e[1])
          }
        }
        return b
      }
    })
  })(l.$Nav)
  ;(function (f) {
    f.build('util.preload', function () {
      return function (a, b) {
        var d = new Image()
        b &&
          (d.onload = function () {
            b(d)
          })
        d.src = a
        return d
      }
    })
  })(l.$Nav)
  ;(function (f) {
    f.declare('util.randomString', function (a) {
      a = a || {}
      var b = '',
        d = a.charset || '1234567890abcdefghijklmnopqurstuvwxyz'
      a = a.length || 10
      for (var c = 0; c < a; c++) b += d.substr(Math.floor(Math.random() * d.length), 1)
      return b
    })
  })(l.$Nav)
  ;(function (f) {
    f.when('$', 'Observer', 'debugStream').build('util.templates', function (a, b, d) {
      var c = {},
        e = [],
        g = function (b) {
          var c = new Function(
            'obj',
            "var p\x3d[],print\x3dfunction(){p.push.apply(p,arguments);};with(obj){p.push('" +
              b
                .replace(/[\r\t\n]/g, ' ')
                .replace(/'(?=[^#]*#>)/g, '\t')
                .split("'")
                .join("\\'")
                .split('\t')
                .join("'")
                .replace(/<#=(.+?)#>/g, "',$1,'")
                .split('\x3c#')
                .join("');")
                .split('#\x3e')
                .join("p.push('") +
              "');}return p.join('');",
          )
          return function (b) {
            try {
              return (b.jQuery = a), c(b)
            } catch (h) {
              return ''
            }
          }
        }
      return {
        add: function (a, b) {
          if (a && b && !c[a]) {
            c[a] = g(b)
            d('Template Added', { name: a, template: c[a] })
            for (b = 0; b < e.length; b++) e[b].templateName === a && e[b].render()
            'cart' === a && f.declare('cartTemplateAvailable')
            return c[a]
          }
        },
        use: function (a, b) {
          if (c[a]) return c[a](b)
        },
        get: function (a) {
          return c[a]
        },
        getAll: function () {
          return c
        },
        build: g,
        renderer: function (a) {
          a = a || {}
          var g = { data: a.data || {}, templateName: a.templateName || null, disabled: !1 },
            k = new b({ context: g })
          g.onRender = k.boundObserve()
          g.render = function () {
            if (c[g.templateName] && g.data && !g.disabled) {
              var a = c[g.templateName](g.data)
              a && (d('Renderer Rendered', { html: a, renderer: g }), k.notify(a))
            }
          }
          if (a.onRender) g.onRender(a.onRender)
          d('Renderer Created', g)
          g.render()
          e.push(g)
          return g
        },
      }
    })
  })(l.$Nav)
  ;(function (f) {
    f.when('$', '$F').build('util.tabbing', function (a, b) {
      var d = {
          isEnabled: b.noOp,
          enable: b.noOp,
          disable: b.noOp,
          focus: b.noOp,
          destroy: b.noOp,
          bind: b.noOp,
          unbind: b.noOp,
          tailAction: b.noOp,
        },
        c = []
      return function (b) {
        if (!b || 1 > b.length) return d
        b.attr('tabindex', 1)
        var e = '.navTabbing' + c.length,
          k = -1,
          m = 'natural',
          n = !1,
          h = function (c) {
            var d = k
            k = -1
            ;-1 < d && (c || b.eq(d).blur())
            a(document).unbind(e)
          },
          f = function (a) {
            var c = a.keyCode || a.which
            if (-1 !== k && 9 === c) {
              c = k
              h()
              if (a.shiftKey && 0 === c)
                if ('loop' === m) b.eq(b.length - 1).focus()
                else {
                  if ('natural' === m) return
                }
              else if (a.shiftKey) b.eq(c - 1).focus()
              else if (c === b.length - 1)
                if ('loop' === m) b.eq(0).focus()
                else {
                  if ('natural' === m) {
                    b.attr('tabindex', -1)
                    setTimeout(function () {
                      b.attr('tabindex', 1)
                    }, 1)
                    return
                  }
                }
              else b.eq(c + 1).focus()
              a.preventDefault()
              return !1
            }
          },
          p = {
            isEnabled: function () {
              return n
            },
            bind: function (b) {
              for (var d = 0; d < c.length; d++) c[d].unbind()
              k = b
              a(document).bind('keydown' + e, f)
            },
            unbind: h,
            focus: function () {
              if (n) {
                for (var a = !1, c = 0; c < b.length; c++)
                  if (b.get(c) === document.activeElement) {
                    a = !0
                    break
                  }
                a || b.eq(0).focus()
              }
            },
            enable: function () {
              if (!n)
                return (
                  a.each(b, function (b) {
                    a(this)
                      .bind('focus' + e + ' focusin' + e, function () {
                        b !== k && p.bind(b)
                      })
                      .bind('blur' + e + ' focusout' + e, function () {
                        p.unbind(!0)
                      })
                  }),
                  (n = !0),
                  p
                )
            },
            disable: function () {
              if (n)
                return (
                  a.each(b, function () {
                    a(this).unbind(e)
                  }),
                  p.unbind(),
                  (n = !1),
                  p
                )
            },
            destroy: function () {
              p.disable()
              b = null
              p = d
            },
            tailAction: function (a) {
              m = 'block' === a ? 'block' : 'loop' === a ? 'loop' : 'natural'
              return p
            },
          }
        c.push(p)
        return p
      }
    })
  })(l.$Nav)
  ;(function (f) {
    f.build('util.cleanUrl', function () {
      return function (a, b) {
        b.https && (a = a.replace(/^http:\/\//i, 'https://'))
        b.ref &&
          (a.match(/ref=/g)
            ? (a = a.replace(/(ref=)[^&\?]+/g, 'ref\x3d' + b.ref))
            : a.match(/ref_=/g)
              ? (a = a.replace(/(ref_=)[^&\?]+/g, 'ref_\x3d' + b.ref))
              : ((a += a.match(/\?/g) ? '\x26' : '?'), (a += 'ref_\x3d' + b.ref)))
        b.encode && (a = encodeURIComponent(a))
        return a
      }
    })
  })(l.$Nav)
  ;(function (f) {
    f.when('$').run('util.session.builder', function () {
      try {
        if (!l.sessionStorage) return
        l.sessionStorage.setItem('testKey', 1)
        l.sessionStorage.removeItem('testKey')
      } catch (a) {
        return
      }
      f.declare('util.session', {
        get: function (a) {
          return l.JSON.parse(l.sessionStorage.getItem(a))
        },
        set: function (a, b) {
          l.sessionStorage.setItem(a, l.JSON.stringify(b))
        },
        getString: function (a) {
          return l.sessionStorage.getItem(a)
        },
        setString: function (a, b) {
          l.sessionStorage.setItem(a, b)
        },
      })
    })
  })(l.$Nav)
  ;(function (f) {
    l.navbar = {}
    f.build('api.publish', function () {
      l.navbar.use = function (a, b) {
        f.when('api.' + a).run(b)
      }
      return function (a, b) {
        l.navbar[a] = b
        f.publish('nav.' + a, b)
        f.declare('api.' + a, b)
      }
    })
    f.when(
      '$',
      '$F',
      'config',
      'agent',
      'data',
      'async',
      'api.publish',
      'util.node',
      'util.Proximity',
      'util.Aligner',
      'util.ajax',
      'phoneHome',
      'flyouts',
      'flyouts.anchor',
      'subnav.builder',
      'searchBar',
      'provider.dynamicMenu',
      'util.ClickOut',
      'SignInRedirect',
      'fixedBar',
      'pinnedNav',
      'constants',
      'flyouts.cover',
      'nav.inline',
    ).run(
      'PublishAPIs',
      function (a, b, d, c, e, g, k, m, n, h, q, p, w, x, t, u, r, B, v, y, E, C, A) {
        var D = a('#navbar'),
          z = a(l),
          F = {
            getFlyout: w.get,
            lockFlyouts: function (a) {
              a && w.hideAll()
              w.lockAll()
            },
            unlockFlyouts: w.unlockAll,
            toggleFlyout: function (a, b, c) {
              if ((a = w.get(a)))
                a.unlock(),
                  !0 === b ? a.show() : !1 === b ? a.hide() : a.isVisible() ? a.hide() : a.show(),
                  c && a.lock()
            },
            setCartCount: function (a, b) {
              e({ cartCount: a })
              d.ewc &&
                (f.when('ewc.flyout').run(function (b) {
                  b &&
                    ((d.ewc.cartCount = parseInt(a, 10)),
                    b.ableToPersist() && b.persist({ noAnimation: !0 }))
                }),
                d.ewc.isCompactEWCRendered &&
                  !b &&
                  K.when('EWC').execute(function (a) {
                    a.refresh()
                  }))
            },
            setVehicleCartCount: function (a) {
              e({ vehicleCartCount: a })
            },
            overrideCartButtonClick: function (b) {
              d.ewc || (a('#nav-cart').click(b), a('#nav-cart-menu-button').click(b))
            },
            getLightningDealsData: function () {
              return d.lightningDeals || {}
            },
            unHideSWM: function () {
              var b = a('#navHiddenSwm'),
                c = d.swmStyleData
              if (b.length && c) {
                var e = a('#nav-swmslot')
                e.parent().attr('style', c.style || '')
                e.children().css('display', 'none')
                b.css('display', '')
                p.exposure(b.attr('data-selection-id'))
              }
            },
            navDimensions: function () {
              var b = D.offset()
              b.height = D.height()
              b.bottom = b.top + b.height
              b.fixedBottom = D.hasClass('nav-fixed')
                ? Math.max(z.scrollTop() + a('#nav-belt').height(), b.bottom)
                : b.bottom
              return b
            },
            fixedBar: function (a) {
              y && (!1 === a ? y.disable() : y.enable())
            },
            pinnedNav: function (a) {
              E && (!1 === a ? E.disable() : E.enable())
            },
            sidePanel: function (c) {
              if (!d.primeDay) {
                c = a.extend({ flyoutName: null, data: null, dataAjaxUrl: null }, c)
                var g = c.flyoutName
                'yourAccount' === g && d.accountList && (g = 'accountList')
                var h = w.get(g),
                  k = function (a) {
                    if (a) {
                      var b = {}
                      b[h.sidePanel.dataKey] = a
                      e(b)
                    }
                  }
                if (h && h.sidePanel && h.sidePanel.dataKey) {
                  if (c.data) return k(c.data), !0
                  if (c.dataAjaxUrl && h.link)
                    return (
                      (g = b.once().on(function () {
                        q({
                          url: c.dataAjaxUrl,
                          dataType: 'json',
                          success: function (a) {
                            k(a)
                          },
                        })
                      })),
                      h.isVisible()
                        ? g()
                        : (n.onEnter(h.link, [20, 100, 60, 100], g), h.onShow(g), h.link.focus(g)),
                      !0
                    )
                }
                return !1
              }
            },
            createTooltip: function (b) {
              b = a.extend(
                {
                  arrow: 'top',
                  timeout: 1e4,
                  cover: !1,
                  addCloseX: !1,
                  disableCoverPinned: !0,
                  clickCallback: null,
                  closeOnMouseOut: !1,
                },
                b,
              )
              var c = F.createFlyout(b)
              if (c) {
                var e = a.extend(c, {
                  addCloseX: function () {
                    e.elem().append(
                      '\x3cdiv class\x3d"nav-tooltip-close nav-timeline-icon"\x3e\x3c/div\x3e',
                    )
                  },
                  fadeIn: function (a, b) {
                    e.isVisible() ||
                      (e.show(),
                      e
                        .elem()
                        .css('opacity', 0)
                        .fadeTo(a || 400, 1, b))
                  },
                  fadeOut: function (a, b) {
                    if (e.isVisible()) {
                      e.hide()
                      var c = e.elem()
                      c.show()
                      c.css('opacity', 1).fadeTo(a || 400, 0, function () {
                        b && b()
                        c.hide().css('opacity', 1)
                      })
                    }
                  },
                })
                b.addCloseX && e.addCloseX()
                b.cover && A(e, b.disableCoverPinned)
                b.clickCallback &&
                  e.elem().click(function (c) {
                    a(c.target).hasClass('nav-tooltip-close') ? e.hide() : b.clickCallback()
                  })
                var d = null,
                  g = b.timeout,
                  h = B.newInstance(),
                  k = function () {
                    clearTimeout(d)
                    e.fadeOut(400, function () {
                      h.disable()
                    })
                  }
                e.elem().hover(
                  function () {
                    e.show()
                    e.elem().stop().css('opacity', 1)
                    clearTimeout(d)
                  },
                  function () {
                    'none' !== g ? (d = setTimeout(k, g)) : b.closeOnMouseOut && k()
                  },
                )
                h.ignore(e.elem()).action(k).enable()
                e.onShow(function () {
                  if ('none' !== g) d = setTimeout(k, g)
                  else {
                    var b = a(document)
                    b.scroll(function () {
                      b.scrollTop() > C.REMOVE_COVER_SCROLL_HEIGHT && k()
                    })
                  }
                })
                f.when('navDismissTooltip').run(function () {
                  e.hide()
                  e.lock()
                })
                return e
              }
            },
            createFlyout: function (c) {
              c = a.extend(
                !0,
                {
                  name: null,
                  content: '\x3cdiv\x3e\x3c/div\x3e',
                  arrow: null,
                  className: '',
                  align: {
                    from: 'bottom center',
                    to: 'top center',
                    base: '#navbar',
                    alignTo: null,
                    offsetTo: '#navbar',
                  },
                  onAlign: b.noOp,
                },
                c,
              )
              if (c.name && c.content) {
                var e = w.create({
                    name: c.name,
                    buildNode: function () {
                      var b = a("\x3cdiv class\x3d'" + c.className + "'\x3e\x3c/div\x3e")
                      'top' === c.arrow &&
                        b.append(
                          "\x3cdiv class\x3d'nav-arrow'\x3e\x3cdiv class\x3d'nav-arrow-inner'\x3e\x3c/div\x3e\x3c/div\x3e",
                        )
                      b.append(m.create(c.content))
                      return b
                    },
                  }),
                  d = null
                e.onAlign(function () {
                  if (!d) {
                    c.align.target = e.elem()
                    c.align.base = a(c.align.base)
                    c.align.alignTo = a(c.align.alignTo || x())
                    c.align.offsetTo = a(c.align.offsetTo)
                    var b = new h(c.align)
                    d = function () {
                      b.align()
                      c.onAlign.apply(e, arguments)
                    }
                  }
                  d()
                })
                f.declare('flyoutAPI.' + c.name.replace(' ', ''), e)
                return e
              }
            },
            update: function (b) {
              if (d.signInOverride) {
                var c = a('#navbar [data-nav-role\x3d"signin"]')
                a.each(c, function (b, c) {
                  v.setRedirectUrl(a(c), null, null)
                })
              }
              return b instanceof Object
                ? (b.cart &&
                    b.cart.data &&
                    'count' === b.cart.type &&
                    F.setCartCount(b.cart.data.count),
                  b.catsubnav && t(b.catsubnav),
                  b.searchbar &&
                    'searchbar' === b.searchbar.type &&
                    e({ searchbar: b.searchbar.data }),
                  b.swmSlot &&
                    ((b = b.swmSlot.swmContent),
                    (c = a('#nav-swmslot')),
                    b.data && 'html' === b.type && 1 === c.length && c.html(b.data)),
                  !0)
                : !1
            },
            updateSearchDropdown: function (a) {
              return u.updateSearchDropdownCard(a)
            },
            showSubnav: function () {
              var b = a('#nav-subnav')
              b && (b.style.display = 'block')
            },
            hideSubnav: function () {
              var b = a('#nav-subnav')
              b && (b.style.display = 'none')
            },
            hasSubnav: function () {
              return !!a('#nav-subnav')
            },
            getSearchBackState: function () {
              return d.searchBackState || {}
            },
            removePrimeExperience: function () {
              e({ isPrime: !1 })
            },
          },
          G
        for (G in F) F.hasOwnProperty(G) && k(G, F[G])
        f.publish('navbarJSLoaded')
      },
    )
    f.when('$', 'data').run('setupRefreshPrime', function (a, b) {
      b.observe('isPrime', function (b) {
        b ||
          (a('#nav-logo').removeClass('nav-prime-1'),
          a('.nav-logo-tagline').text('Try Prime'),
          a('.nav-logo-tagline').attr('href', '/gp/prime/ref\x3dnav_logo_prime_join'),
          a('#nav-link-amazonprime .nav-line-1').text('Try'))
      })
    })
  })(l.$Nav)
  ;(function (f) {
    f.when('$', 'subnav.initFlyouts', 'nav.inline').run('subnav.init', function (a, b) {
      var d = a('#nav-subnav')
      0 < d.length && b()
      var c = location.href.toLowerCase().split('?')
      a('a[data-nav-link-highlight]', d).each(function () {
        var b = this.href.toLowerCase().split('?'),
          d = 0
        2 === c.length && 2 === b.length
          ? -1 < c[0].indexOf(b[0]) && c[1] === b[1] && (d = 1)
          : 1 === c.length && 1 === b.length && -1 < c[0].indexOf(b[0]) && (d = 1)
        d &&
          ((b = a(this)),
          b.attr('data-nav-link-bold') && b.css({ 'font-weight': 'bold' }),
          b.attr('data-nav-link-color') && b.css({ color: b.attr('data-nav-link-color') }),
          b.attr('data-nav-link-bottom-style') &&
            b.css({ 'border-bottom': b.attr('data-nav-link-bottom-style') }))
      })
    })
    f.when('$', 'subnav.initFlyouts', 'constants', 'nav.inline').build(
      'subnav.builder',
      function (a, b, d) {
        a('#navbar')
        return function (c) {
          var e = a('#nav-subnav')
          0 === e.length &&
            (e = a("\x3cdiv id\x3d'nav-subnav'\x3e\x3c/div\x3e").appendTo('#navbar'))
          var g = location.href.toLowerCase().split('?')
          e.html('')
          e.hide()
          if (c.categoryKey && c.digest) {
            e.attr('data-category', c.categoryKey)
              .attr('data-digest', c.digest)
              .attr('class', c.category.data.categoryStyle)
            c.style ? e.attr('style', c.style) : e.attr('style') && e.removeAttr('style')
            var k = function (b) {
              if (b && b.href) {
                var c = 'nav-a',
                  k = b.text,
                  m = b.dataKey
                if (!k && !b.image)
                  if (m && 0 === m.indexOf(d.ADVANCED_PREFIX)) (k = ''), (c += ' nav-aText')
                  else return
                k = b.image
                  ? "\x3cimg src\x3d'" + b.image + "'class\x3d'nav-categ-image' \x3e\x3c/a\x3e"
                  : k
                c = a("\x3ca href\x3d'" + b.href + "' class\x3d'" + c + "'\x3e\x3c/a\x3e")
                k = a("\x3cspan class\x3d'nav-a-content'\x3e" + k + '\x3c/span\x3e')
                'image' === b.type && (k.html(''), c.addClass('nav-hasImage'), (b.rightText = ''))
                b.bold && !b.image && c.addClass('nav-b')
                b.floatRight && c.addClass('nav-right')
                b.flyoutFullWidth &&
                  '0' !== b.flyoutFullWidth &&
                  c.attr('data-nav-flyout-full-width', '1')
                if (b.src) {
                  var f = ['nav-image']
                  b['absolute-right'] && f.push('nav-image-abs-right')
                  b['absolute-right'] && f.push('nav-image-abs-right')
                  a(
                    "\x3cimg src\x3d'" +
                      b.src +
                      "' class\x3d'" +
                      f.join(' ') +
                      "' alt\x3d'" +
                      (b.alt || '') +
                      "' /\x3e",
                  ).appendTo(k)
                }
                b.rightText && k.append(b.rightText)
                k.appendTo(c)
                m &&
                  (a("\x3cspan class\x3d'nav-arrow'\x3e\x3c/span\x3e").appendTo(c),
                  c.attr('data-nav-key', m).addClass('nav-hasArrow'))
                b.highlightLink &&
                  (c.attr('data-nav-link-highlight', b.highlightLink),
                  (m = b.href.toLowerCase().split('?')),
                  (k = 0),
                  2 === g.length && 2 === m.length
                    ? -1 < g[0].indexOf(m[0]) && g[1] === m[1] && (k = 1)
                    : 1 === g.length && 1 === m.length && -1 < g[0].indexOf(m[0]) && (k = 1),
                  k &&
                    (b.highlightLinkBold && c.css({ 'font-weight': 'bold' }),
                    b.highlightLinkColor && c.css({ color: b.highlightLinkColor }),
                    b.highlightLinkBottomStyle &&
                      c.css({ 'border-bottom': b.highlightLinkBottomStyle })))
                c.appendTo(e)
                e.append(document.createTextNode(' '))
              }
            }
            c.category && c.category.data && ((c.category.data.bold = !0), k(c.category.data))
            if (c.subnav && 'linkSequence' === c.subnav.type)
              for (var m = 0; m < c.subnav.data.length; m++) k(c.subnav.data[m])
            e.show()
            b()
          }
        }
      },
    )
    f.when(
      '$',
      '$F',
      'panels',
      'debugStream',
      'util.Proximity',
      'provider.subnavFlyouts',
      'util.mouseOut',
      'flyouts.create',
      'cover',
      'flyouts.accessibility',
      'provider.advancedSubnavFlyouts',
      'advKeyDecoder',
      'constants',
      'util.Aligner',
      'flyouts.anchor',
      'flyouts',
      'config',
    ).build('subnav.initFlyouts', function (a, b, d, c, e, g, k, m, n, h, l, p, w, x, t, u, r) {
      var q = null,
        v = k(),
        y = !1,
        E = null,
        C = w.ADVANCED_PREFIX,
        A = a('#navbar'),
        D = function () {
          g.fetch()
          l.fetchLazy()
        },
        z = {},
        F = function (c) {
          var e = c.attr('data-nav-key'),
            d = c.attr('data-event'),
            g = c.attr('data-nav-flyout-full-width'),
            k = c.attr('data-nav-asinsubnav-flyout')
          if (e) {
            k =
              g && k
                ? 'nav-fullWidthSubnavFlyout nav-asinsubnav-flyout'
                : g
                  ? 'nav-fullWidthSubnavFlyout'
                  : 'nav-subnavFlyout'
            u.destroy(e)
            var l = p(e),
              q = m({
                key: e,
                panelDataKey: l ? C + l.jsonkey + 'Content' : e,
                link: c,
                event: { t: 'subnav', id: d },
                fullWidth: !!g,
                className: k,
                arrow: 'top',
                suspendTabbing: !0,
                aligner: g
                  ? I
                  : function (b) {
                      var c = b.$link.find('.nav-arrow, .nav-icon'),
                        e =
                          r.rightMarginAlignEnabled &&
                          b.$flyout.find('.right-margin-subnav-flyout').length
                            ? 'top rightArrow'
                            : 'top center',
                        d = new x({
                          base: c,
                          target: b.$flyout,
                          from: 'bottom center',
                          to: e,
                          anchor: 'top',
                          alignTo: t(),
                          constrainTo: A,
                          constrainBuffer: [3, 0, 0, 3],
                          constrainChecks: [!0, !1, !1, !0],
                          offsetTo: A,
                        }),
                        g = new x({
                          base: c,
                          target: a('.nav-arrow', b.$flyout),
                          offsetTo: A,
                          alignTo: b.$flyout,
                          anchor: 'top center',
                          from: 'center',
                          to: 'center',
                        })
                      return function () {
                        d.align()
                        g.align()
                        b.$flyout.addClass('nav-subnavFlyout-nudged')
                      }
                    },
              })
            if (l) {
              e = l.jsonkey
              c.setSubnavText = function (a) {
                var b = c.find('.nav-arrow')
                c.html(a).removeClass('nav-hasAtext').append(b)
              }
              var F = C + e
              z[F] = { flyout: q, link: c }
              f.declare(C + e + '.flyout', function () {
                return z[F].flyout
              })
              f.declare(C + e + '.toplink', function () {
                return z[F].link
              })
            }
            var w = h({
              link: c,
              onEscape: function () {
                q.hide()
                c.focus()
              },
            })
            q.groups.add('subnavFlyoutGroup')
            v.add(c)
            v.add(q.elem())
            q.getPanel().onData(function (a) {
              a.flyoutWidth && q.elem().css({ width: a.flyoutWidth })
            })
            q.getPanel().onRender(
              b.once().on(function () {
                w.elems(a('.nav-hasPanel, a', q.elem()))
              }),
            )
            q.onHide(function () {
              w.disable()
            })
            q.hide.check(function () {
              if (y && E === this) return !1
            })
            q.onShow(function () {
              var a = E
              E = this
              a && a !== this && a.hide()
              n.hide()
            })
            q.onShow(D)
          }
        }
      return function () {
        l.refresh()
        l.fetchOnload()
        var b = a('#nav-subnav')
        q && q.unbind()
        q = e.onEnter(b, [20, 40, 40, 40], D)
        a('a[data-nav-key]', b).each(function () {
          F(a(this))
        })
        v.onEnter(function () {
          y = !0
        })
        v.onLeave(function () {
          y = !1
          E && E.hide()
          E = null
        })
        v.enable()
      }
    })
    f.when('$', 'dataPanel', 'advKeyDecoder', 'constants', 'metrics', 'subnav.initShelf').run(
      'subnav.shelf.create',
      function (a, b, d, c, e, g) {
        var k = a('#nav-subnav-content-shelf')
        if (0 !== k.length) {
          k = k.data('nav-key')
          d = d(k)
          var m = new Date()
          b = b({
            dataKey: d ? c.ADVANCED_PREFIX + d.jsonkey + 'Content' : k,
            className: 'subnav-shelf-content',
            spinner: !0,
            visible: !0,
            timeoutDataKey: null,
            timeoutDelay: 5e3,
          })
          b.onRender(function () {
            e.count('subnav_shelf_render_latency', new Date() - m)
          })
          a('#nav-subnav-content-shelf').html(b.elem())
          g()
        }
      },
    )
    f.when('$', 'provider.subnavContentShelf', 'provider.advancedSubnavShelf').build(
      'subnav.initShelf',
      function (a, b, d) {
        if (0 !== a('#nav-subnav-content-shelf').length)
          return function () {
            b.fetch()
            d.refresh()
            d.fetchAll()
          }
      },
    )
  })(l.$Nav)
  ;(function (f) {
    f.when('constants').build('advKeyDecoder', function (a) {
      return function (b) {
        if (!b || 0 !== b.indexOf(a.ADVANCED_PREFIX)) return !1
        b = b.split(':')
        var d = b.length
        return 4 > d
          ? !1
          : { jsonkey: b[d - 2], endpoint: b.slice(1, -2).join(':'), onload: '1' === b[d - 1] }
      }
    })
  })(l.$Nav)
  ;(function (f) {
    f.when('Observer').build('searchBar.observers', function (a) {
      return { scopeChanged: new a() }
    })
    f.when(
      '$',
      '$F',
      'agent',
      'config',
      'onOptionClick',
      'async',
      'searchMetrics',
      'searchBar.observers',
      'nav.inline',
    ).run('searchBar', function (a, b, d, c, e, g, k, m) {
      function f() {
        var c = b.noOp
        return {
          active: c,
          inactive: c,
          clearBlur: c,
          focus: c,
          blur: c,
          keyListener: c,
          form: a(),
          input: { hasValue: c, val: c, el: a() },
          scope: {
            prevIndex: null,
            init: c,
            hasTextChanged: c,
            text: c,
            value: c,
            digest: c,
            selectedIndex: c,
            set: c,
            getOptions: function () {
              return a()
            },
            appendOption: c,
          },
          facade: { init: c, resize: c, text: c, update: c, select: c },
        }
      }
      function h() {
        e(r, function () {
          z.clearBlur()
          D.update()
          D.select()
          v.focus()
        })
        r.change(D.update).keyup(z.keyListener).blur(z.blur)
        r.focus(function () {
          p.length || z.clearBlur()
          x.addClass('nav-focus')
        }).blur(function () {
          x.removeClass('nav-focus')
        })
        t.click(function (a) {
          v.focus()
          return !1
        })
      }
      if (d.ie6) return f()
      var q = a('#nav-search')
      if (0 === q.length) return f()
      c = a(l)
      var p = a('#navbar.layout2'),
        w = a('.nav-searchbar', q),
        x = a('.nav-search-scope', q),
        t = a('.nav-search-facade', q),
        u = a('.nav-search-label', t),
        r = a('.nav-search-dropdown', q),
        B = a('.nav-search-submit', q)
      q = a('.nav-search-submit .nav-input', q)
      var v = a('#twotabsearchtextbox'),
        y = a('.srch_sggst_flyout'),
        E = new k({ scopeSelect: r, inputTextfield: v, submitButton: q, issContainer: y })
      E.init()
      var C = null
      k = {
        hasValue: function () {
          var a = !!v.val()
          w[a ? 'addClass' : 'removeClass']('nav-hasTerm')
          return a
        },
        val: function (a) {
          if (a) v.val(a)
          else return v.val()
        },
        el: v,
      }
      var A = {
        prevIndex: null,
        init: b.once().on(function () {
          A.prevIndex = r[0].selectedIndex
        }),
        hasTextChanged: function () {
          return A.prevIndex !== r[0].selectedIndex
        },
        text: function () {
          A.prevIndex = r[0].selectedIndex
          var b = a('option:selected', r)
          return 0 === b.length ? null : b.html()
        },
        value: function () {
          var b = a('option:selected', r)
          return 0 === b.length ? null : b.val()
        },
        digest: function (a) {
          return a ? (r.attr('data-nav-digest', a), a) : r.attr('data-nav-digest')
        },
        selectedIndex: function (b) {
          if (0 < b || 0 === b) {
            r.attr('data-nav-selected', b)
            a('option', r).eq(b).attr('selected', 'selected')
            var c = a('option', r).eq(b).text(),
              e = r.attr('title')
            v.attr('placeholder') && e && c && v.attr('placeholder', e + ' ' + c.trim())
            return b
          }
          return r.attr('data-nav-selected')
        },
        set: function (b, c, e) {
          A.prevIndex = null
          if (c && c === A.digest()) e !== A.selectedIndex() && A.selectedIndex(e || 0)
          else {
            r.blur().empty()
            for (var d = 0; d < b.length; d++) {
              var g = b[d],
                k = g._display || ''
              delete g._display
              a('\x3coption /\x3e').html(k).attr(g).appendTo(r)
            }
            A.digest(c || ' ')
            A.selectedIndex(e || 0)
          }
        },
        getOptions: function () {
          return a('option', r)
        },
        appendOption: function (a) {
          a.appendTo(r)
          D.update()
        },
      }
      var D = {
        formAction: '/s/ref\x3d',
        searchAlias: 'search-alias',
        init: b.once().on(function () {
          t.attr('data-value') !== A.value() && D.update()
          A.init()
        }),
        resize: function () {
          if (x.is(':visible')) {
            var a = x.outerHeight(),
              b = r.outerHeight()
            r.css({ top: (a - b) / 2 })
            u.css({ width: 'auto' })
            a = p.length ? 150 : 140
            v.width() < a &&
              ((a = Math.max(0, w.width() - a - B.width() - (x.outerWidth(!0) - u.width()))),
              u.css({ width: a.toString() + 'px' }))
            a = x.width()
            ;(d.iOS || r.width() < a) && r.width(a)
          }
        },
        text: function (a) {
          if (!a) return u.text()
          u.html(a)
          m.scopeChanged.notify(a)
          D.resize()
        },
        update: function () {
          A.hasTextChanged() && D.text(A.text())
        },
        select: function () {
          if (z && z.form && z.form.attr('dd-ref')) {
            var a = z.form.attr('action')
            if (a && a.startsWith(D.formAction)) {
              var b = A.value()
              if (
                b &&
                b.startsWith(D.searchAlias) &&
                ((b = b.split('\x3d')),
                2 === b.length && ((b = b[1]), (a = a.split('\x3d')), 2 === a.length))
              ) {
                a = a[1]
                var c = D.formAction
                a.match(/^nb_sb_(no)?ss(?!.*_sa_)/)
                  ? (c += a + '_sa_' + b)
                  : a.match(/^nb_sb_(no)?ss.*_sa_/) && (c += a.replace(/^(.*_sa_).*$/, '$1' + b))
                z.form.attr('action', c)
              }
            }
          }
        },
      }
      var z = {
        active: function () {
          w.addClass('nav-active')
        },
        inactive: function () {
          w.removeClass('nav-active')
        },
        clearBlur: function () {
          C && (clearTimeout(C), (C = null))
        },
        focus: function () {
          z.active()
          z.clearBlur()
        },
        blur: function () {
          C && (clearTimeout(C), (C = null))
          C = setTimeout(function () {
            z.inactive()
            z.clearBlur()
          }, 300)
        },
        keyListener: function (a) {
          13 === a.which && v.focus()
          9 !== a.which && 16 !== a.which && D.update()
        },
        updateSearchDropdownCard: function (b) {
          b = a('\x3cdiv/\x3e').append(b)
          var c = a('.nav-search-scope', b),
            e = a('.nav-search-facade', b),
            d = a('.nav-search-label', b),
            g = a('.nav-search-dropdown', b)
          return 0 < c.length && 0 < e.length && 0 < d.length && 0 < g.length
            ? ((x = c),
              (t = e),
              (u = d),
              (r = g),
              a('#nav-search-dropdown-card').empty().append(b.children()),
              E.updateScopeSelect(r),
              h(),
              !0)
            : !1
        },
        form: w,
        input: k,
        scope: A,
        facade: D,
      }
      h()
      v.focus(z.focus).blur(z.blur)
      q.blur(z.blur)
      q.focus(function () {
        p.length || z.clearBlur()
        B.addClass('nav-focus')
      }).blur(function () {
        B.removeClass('nav-focus')
      })
      c.resize(b.throttle(300).on(D.resize))
      v[0] === document.activeElement && z.focus()
      g(D.init)
      return z
    })
    f.when('data', 'searchBar').run('searchBarUpdater', function (a, b) {
      a.observe('searchbar', function (a) {
        var c = a['nav-metadata'] || {}
        a.options &&
          (b.scope.set(a.options, c.digest, c.selected), b.facade.update(), b.facade.resize())
      })
    })
    f.when('searchBar', 'search-js-autocomplete').run('SddIss', function (a, b) {
      b.keydown(function (b) {
        setTimeout(function () {
          a.keyListener(b)
        }, 10)
      })
      f.declare('SddIssComplete')
    })
    f.when('$', 'agent').build('onOptionClick', function (a, b) {
      return function (d, c) {
        var e = a(d)
        if ((b.mac && b.webkit) || (b.touch && !b.ie10))
          e.change(function () {
            c.apply(e)
          })
        else {
          var g = { click: 0, change: 0 }
          d = function (a, b) {
            return function () {
              g[a] = new Date().getTime()
              100 >= g[a] - g[b] && c.apply(e)
            }
          }
          e.click(d('click', 'change')).change(d('change', 'click'))
        }
      }
    })
    f.when('$', 'searchBar', 'iss.flyout', 'searchBar.observers').build(
      'searchApi',
      function (a, b, d, c) {
        var e = {}
        e.val = b.input.val
        e.on = function (a, e) {
          if (a && e && 'function' === typeof e)
            switch (a) {
              case 'scopeChanged':
                c.scopeChanged.observe(e)
                break
              case 'issShown':
                d.onShow(e)
                break
              case 'issHidden':
                d.onHide(e)
                break
              default:
                b.input.el.bind(a, e)
            }
        }
        e.scope = function (a) {
          if (a) b.facade.text(a)
          else return b.facade.text()
        }
        e.options = function (c, e) {
          c && ((c = a(c)), e && c.attr('selected', 'selected'), b.scope.appendOption(c))
          return b.scope.getOptions()
        }
        e.action = function (a) {
          if (a) b.form.attr('action', a)
          else return b.form.attr('action')
        }
        e.submit = function (a) {
          a && 'function' !== typeof a ? b.form.submit(a) : b.form.submit()
        }
        e.flyout = d
        return e
      },
    )
  })(l.$Nav)
  ;(function (f) {
    f.when('$', 'flyoutAPI.SearchSuggest', 'config', 'cover', 'nav.inline').run(
      'issHackery',
      function (a, b, d, c) {
        var e = a('#nav-iss-attach'),
          g = a('#nav-search .nav-searchbar')
        b.onAlign(function () {
          a('div:first-child', this.elem()).css({ width: e.width() })
        })
        b.onShow(function () {
          c.show()
          g.addClass('nav-issOpen')
        })
        b.onHide(function () {
          c.hide()
          g.removeClass('nav-issOpen')
        })
      },
    )
  })(l.$Nav)
  ;(function (f) {
    f.when('$', '$F', 'panels', 'config', 'debugStream', 'nav.inline').build(
      'cover',
      function (a, b, d, c, e) {
        var g = a(document),
          k = a(l),
          m = a('#navbar'),
          f = function () {},
          h = d.create({
            name: 'cover',
            visible: !1,
            rendered: !0,
            elem: function () {
              return a("\x3cdiv id\x3d'nav-cover'\x3e\x3c/div\x3e")
                .click(function () {
                  return f.apply(this, arguments)
                })
                .appendTo(m)
            },
          })
        h.LAYERS = { ALL: 6, BELT: 5, MAIN: 2, SUB: 1, NONE: 'auto' }
        h.setLayer = function (a) {
          ;(a && a in h.LAYERS) || (a = 'NONE')
          h.elem().css({ zIndex: h.LAYERS[a] })
        }
        h.setClick = function (a) {
          ;(a && 'function' === typeof a) || (a = b.noOp)
          f = a
        }
        var q = function () {
          var b = Math.max(g.height(), k.height()) - m.offset().top,
            c = a('.nav-ewc-persistent-hover').hasClass('nav-ewc-full-height-persistent-hover'),
            e = a('.nav-ewc-persistent-hover').hasClass('nav-ewc-compact-view')
          c || e
            ? h.elem().css({ height: b, width: m.outerWidth() + a('#nav-flyout-ewc').outerWidth() })
            : h.elem().css({ height: b })
        }
        h.onShow(function (a) {
          a = a || {}
          e('Cover: Show')
          h.setLayer(a.layer)
          h.setClick(a.click)
          q()
          a = 100
          if (c.fullWidthCoreFlyout || c.flyoutAnimation) a = 550
          h.elem().fadeIn(a, function () {
            var a = h.elem().get(0)
            a.style.removeAttribute && a.style.removeAttribute('filter')
          })
          k.resize(q)
        })
        h.onHide(function () {
          e('Cover: Hide')
          h.elem()
            .stop()
            .fadeOut(100, function () {
              h.elem().css('opacity', '0.6')
            })
          k.unbind('resize', q)
        })
        return h
      },
    )
  })(l.$Nav)
  ;(function (f) {
    f.when(
      '$',
      '$F',
      'data',
      'config',
      'flyout.yourAccount',
      'provider.ajax',
      'util.Proximity',
      'logEvent',
      'sidepanel.yaNotis',
    )
      .iff({ name: 'sidepanel.yaNotis', op: 'falsey' })
      .run('sidepanel.csYourAccount', function (a, b, d, c, e, g, k, m) {
        if (!c.primeDay) {
          var f = !0,
            h = !1,
            l,
            p,
            w,
            x,
            t = !1,
            u = !0,
            r = function () {
              h || ((u = !1), l && (l(p), (h = !0)))
            },
            B = function () {
              f = !1
              u
                ? t || (w ? (w(x), (t = !0)) : (c.sdaYourAccount && c.sdaYourAccount.url) || r())
                : r()
            }
          b = (function () {
            return {
              register: function (a, b) {
                h || ((l = a), (p = b))
                f || u || r()
              },
              sdaRegister: function (a, b) {
                t || ((w = a), (x = b))
                f || B()
              },
              biaFallback: r,
              sdaNotRendering: function () {
                u = !1
                r()
              },
            }
          })()
          var v = {
              count: 0,
              decrement: function () {
                v.count = Math.max(v.count - 1, 0)
              },
            },
            y = function () {
              var b = a('#csr-hcb-wrapper'),
                c = a('.csr-hcb-content', b)
              b.remove()
              if (1 !== c.length) return B(), !1
              m({ t: 'hcb' })
              d({ 'yourAccount-sidePanel': { html: c[0].outerHTML } })
              return !0
            }
          if (!c.csYourAccount || !c.csYourAccount.url) return (f = y()), b
          var E = g({
            url: c.csYourAccount.url,
            data: { rid: c.requestId },
            success: function (b) {
              if (b)
                if (1 > (((b.template || {}).data || {}).items || []).length) y()
                else {
                  var g = b.template.name
                  if (g) {
                    b = { 'yourAccount-sidePanel': b }
                    'notificationsList' === g
                      ? m({ t: 'csnoti' })
                      : ('discoveryPanelList' === g || 'discoveryPanelSummary' === g) &&
                        m({ t: 'discoverypanel' })
                    if ('notificationsList' === g)
                      e.sidePanel.onRender(function () {
                        var b = this.elem(),
                          d = a('.nav-item', b).not('.nav-title')
                        v.count = d.length
                        var g = function () {
                            var c = b.height()
                            a('.nav-item', b).each(function () {
                              var b = a(this)
                              c -= b.outerHeight(!0)
                              b[0 <= c ? 'show' : 'hide']()
                            })
                          },
                          k = function (b) {
                            a.ajax({
                              url: c.csYourAccount.url,
                              type: 'POST',
                              data: { dismiss: b.attr('data-noti-id'), rid: c.requestId },
                              cache: !1,
                              timeout: 500,
                            })
                            var d = b.parent()
                            d.slideUp(300, function () {
                              d.remove()
                              g()
                            })
                            v.decrement()
                            0 === v.count &&
                              (e.sidePanel.hide(),
                              y() ||
                                ((b = a('#nav-flyout-profile').find('.nav-column')),
                                (b = b.eq(3)),
                                b.removeClass('nav-column-break')))
                          }
                        b.bind('click', function (b) {
                          var c = a(b.target)
                          if (c.is('.nav-noti-list-x')) return k(c), b.preventDefault(), !1
                        })
                      })
                    d(b)
                  } else y()
                }
              else y()
            },
            error: y,
          })
          g = function () {
            E.fetch()
          }
          e.onShow(g)
          e.link.focus(g)
          k.onEnter(e.link, [20, 40, 40, 40], g)
          return b
        }
      })
  })(l.$Nav)
  ;(function (f) {
    f.when(
      '$',
      '$F',
      'config',
      'flyout.yourAccount',
      'util.Proximity',
      'sidepanel.csYourAccount',
      'api.sidePanel',
      'metrics',
      'constants',
      'debug.param',
    ).run('sdaSidePanel', function (a, b, d, c, e, g, k, m, f, h) {
      if (!d.primeDay && d.sdaYourAccount && d.sdaYourAccount.url) {
        var n = !1,
          p = !1,
          w = !0,
          x = 2500,
          t = function () {
            m.increment('SDA:YourAccount:SidePanel:FallbackCalled')
            g && !n && w ? ((w = !1), g.sdaNotRendering()) : g && !p && (g.biaFallback(), (p = !0))
          },
          u = d.sdaYourAccount.url,
          r = function (a) {
            a.status && 'ok' !== a.status
              ? (m.increment('SDA:YourAccount:SidePanel:NotificationStatusError'), t())
              : (a.impressionThreshold && (x = a.impressionThreshold),
                k({ flyoutName: 'yourAccount', data: a }) || t())
          }
        b = b.once().on(function () {
          h('SDAYourAccountNoNotification')
            ? t()
            : (m.increment('SDA:YourAccount:SidePanel:RequestNotification'),
              a.ajax({
                url: u,
                type: 'GET',
                dataType: 'json',
                cache: !1,
                timeout: 5e3,
                data: { communicationChannelType: f.COMMUNICATION_CHANNEL_TYPE },
                success: function (a) {
                  a && a.html
                    ? null === a.html || '' === a.html
                      ? (m.increment('SDA:YourAccount:SidePanel:NotificationNotReceived'), t())
                      : (m.increment('SDA:YourAccount:SidePanel:NotificationReceived'),
                        g && (g.sdaRegister(r, a), (n = !0)))
                    : (m.increment('SDA:YourAccount:SidePanel:NotificationNotReceived'), t())
                },
                error: function (a, b, c) {
                  404 === a.status
                    ? m.increment('SDA:YourAccount:SidePanel:RequestNotificationError404')
                    : 500 === a.status
                      ? m.increment('SDA:YourAccount:SidePanel:RequestNotificationError500')
                      : 'timeout' === b
                        ? m.increment('SDA:YourAccount:SidePanel:RequestNotificationErrorTimeout')
                        : m.increment('SDA:YourAccount:SidePanel:RequestNotificationErrorUnknown')
                  m.increment('SDA:YourAccount:SidePanel:NotificationReceivedError')
                  t()
                },
              }))
        })
        c.isVisible() ? b() : (e.onEnter(c.link, [20, 40, 40, 40], b), c.onShow(b), c.link.focus(b))
        var B = new (function () {
            var b, e, g, k
            this.initializeVariables = function () {
              b = a('#sda-side-panel-content #sda-side-panel-issue')
              e = b.attr('data-address-issue-id')
              g = b.attr('data-address-issue-type')
              var c = a('#sda-side-panel-content input[name\x3d"appActionToken"]'),
                d = {}
              d.appActionToken = c.val()
              d.value = 'csrfTokenValue'
              k = a.param(d)
            }
            this.postImpression = function () {
              m.increment('SDA:YourAccount:SidePanel:Impression')
              a.ajax({
                url: '/ma/api/impression?' + k,
                type: 'POST',
                contentType: 'application/json',
                dataType: 'json',
                data: l.JSON.stringify({
                  addressIssueId: e,
                  addressIssueType: g,
                  communicationChannelType: f.COMMUNICATION_CHANNEL_TYPE,
                }),
                cache: !1,
                timeout: 5e3,
              })
            }
            this.postAcceptNotification = function (b) {
              var p = function (b) {
                  'ok' === b
                    ? a('#sda-side-panel-thanks').show()
                    : a('#sda-side-panel-error').show()
                  setTimeout(function () {
                    c.sidePanel.hide()
                    if (d.fullWidthCoreFlyout) {
                      var b = a('#nav-flyout-profile').find('.nav-column')
                      b = b.eq(3)
                      b.removeClass('nav-column-break')
                    }
                    t()
                  }, 3e3)
                },
                n = function (b) {
                  a('#sda-side-panel-content').hide('fast', function () {
                    a('#sda-side-panel-content').remove()
                    p(b)
                  })
                }
              a('#sda-side-panel-buttons \x3e button').removeClass('sda-button')
              h('SDAYourAccountNoThanks')
                ? n('error')
                : (m.increment('SDA:YourAccount:SidePanel:AcceptNotification'),
                  a.ajax({
                    url: '/ma/api/customerResponse?' + k,
                    type: 'POST',
                    contentType: 'application/json',
                    dataType: 'json',
                    data: l.JSON.stringify({
                      addressIssueId: e,
                      addressIssueType: g,
                      communicationChannelType: f.COMMUNICATION_CHANNEL_TYPE,
                      customerResponseType: b,
                      customerResponseValue: null,
                    }),
                    cache: !1,
                    timeout: 5e3,
                    success: function (a) {
                      a && 'ok' === a.status
                        ? (m.increment('SDA:YourAccount:SidePanel:AcceptNotificationStatusSuccess'),
                          n('ok'))
                        : (m.increment('SDA:YourAccount:SidePanel:AcceptNotificationStatusError'),
                          n('error'))
                    },
                    error: function (a, b, c) {
                      404 === a.status
                        ? m.increment('SDA:YourAccount:SidePanel:AcceptNotificationError404')
                        : 500 === a.status
                          ? m.increment('SDA:YourAccount:SidePanel:AcceptNotificationError500')
                          : 'timeout' === b
                            ? m.increment(
                                'SDA:YourAccount:SidePanel:AcceptNotificationErrorTimeout',
                              )
                            : m.increment('SDA:YourAccount:SidePanel:AcceptNotificationUnknown')
                      n('error')
                    },
                  }))
            }
            this.redirectNotification = function () {
              m.increment('SDA:YourAccount:SidePanel:RedirectNotification')
              a('#sda-side-panel-buttons \x3e button').removeClass('sda-button')
              l.location = '/ma/addressIssuePage/addressIssueDetails?addressIssueId\x3d' + e
            }
          })(),
          v = null,
          y = function () {
            a('#sda-side-panel-content').length &&
              (m.increment('SDA:YourAccount:SidePanel:NotificationDisplayed'),
              (v = setTimeout(B.postImpression, x)))
          }
        c.onShow(function () {
          y()
        })
        c.onHide(function () {
          clearTimeout(v)
        })
        c.sidePanel.onRender(function () {
          0 !== a('#sda-side-panel-content').length &&
            (m.increment('SDA:YourAccount:SidePanel:NotificationRendered'),
            B.initializeVariables(),
            y(),
            a('#sda-side-panel-content').bind('click', function (b) {
              b.preventDefault()
              b = a(b.target)
              b.is('#sda-redirect-notification.sda-button')
                ? B.redirectNotification()
                : b.is('#sda-accept-notification.sda-button') &&
                  (B.postAcceptNotification(b.attr('data-customer-response-type')),
                  clearTimeout(v),
                  (v = null))
              return !1
            }))
        })
      }
    })
  })(l.$Nav)
  ;(function (f) {
    f.when('$', '$F', 'agent', 'flyouts', 'fixedBarWithEwcHandling').build(
      'fixedBar',
      function (a, b, d, c, e) {
        function g() {
          ;(v && 0 !== v.length) || (v = a('#nav-belt'))
          var b = a(l).width(),
            c = a('.nav-ewc-persistent-hover #nav-flyout-ewc')
          c = c && 0 < c.length && c[0] ? c[0].offsetWidth : 0
          0 == c ? v.css('width', '100%') : v.css('width', b - c + 'px')
        }
        function k() {
          var a = q.scrollTop()
          a > y ? (E -= (a - y) / 2) : a < y && (E += (y - a) / 2)
          E = Math.max(-C, Math.min(0, E))
          v.css('top', E + 'px')
          y = a
          A = !1
        }
        function m() {
          A || (l.requestAnimationFrame(k), (A = !0))
        }
        var f = !1,
          h = !1,
          q,
          p,
          w,
          x,
          t,
          u,
          r,
          B,
          v,
          y,
          E,
          C,
          A = !1,
          D = b.once().on(function () {
            q = a(l)
            a('#navbar')
            p = a('#nav-main')
            w = a('#nav-shop')
            x = a('#nav-search')
            t = a('#nav-tools')
            u = a('#nav-swmslot')
            a('#nav-xshop-container')
            r = a('#nav-main \x3e .nav-left')
            a('#nav-main \x3e .nav-right')
            B = a('#nav-main \x3e .nav-fill')
            v = a('#nav-belt')
            0 < B.find('#nav-shop').length && w.detach().appendTo(r)
            y = q.scrollTop()
            E = 0
            C = v ? v.outerHeight() : 0
          }),
          z = function () {
            t.css({ right: '' })
            u.show()
            x.css({ left: 0, right: 0 })
            v.removeClass('nav-updated-pinned-config')
            a('#navbar').hasClass('layout3') ||
              a('#nav-belt \x3e .nav-left').css({
                width: a('#nav-logo').outerWidth(!0) + a('#nav-hamburger-menu').outerWidth(!0),
              })
            e.setRelative()
            h = !1
          }
        a(l).resize(function () {
          g()
        })
        var F = function () {
          ;(v && 0 !== v.length) || (v = a('#nav-belt'))
          var b = q.scrollTop()
          0 < b && c.hideAll()
          h && p.offset().top >= b
            ? z()
            : !h && p.offset().top < b && (v.addClass('nav-updated-pinned-config'), g(), (h = !0))
        }
        return {
          enable: function () {
            f ||
              d.ie6 ||
              d.quirks ||
              (D(), q.bind('scroll.navFixed', F), q.bind('scroll.navFixed', m), F(), (f = !0))
          },
          disable: function () {
            f && (q.unbind('scroll.navFixed'), z(), (f = !1))
          },
        }
      },
    )
  })(l.$Nav)
  ;(function (f) {
    f.when('$', '$F', 'constants', 'metrics', 'config', 'agent', 'page.domReady').build(
      'carousel',
      function (a, b, d, c, e, g) {
        function k(a) {
          a = a.children()
          for (var b = a.length, c = 0, e = 0; e < b; e++) c += a.eq(e).width()
          return c + d.CAROUSEL_WIDTH_BUFFER
        }
        function m() {
          t.css({ width: C, float: 'left' })
        }
        function f(c) {
          u.hover(
            function () {
              r.fadeIn()
            },
            function () {
              r.fadeOut()
            },
          )
          z.resize(
            b.throttle(300).on(function () {
              A = a('#navbar').width()
              t.css('left', '0')
              v.removeClass('nav-feed-control-disabled')
              B.addClass('nav-feed-control-disabled')
              m()
            }),
          )
          B.click(function (a) {
            a.preventDefault()
            w(c)
            return !1
          })
          v.click(function (a) {
            a.preventDefault()
            p(c)
            return !1
          })
          g.touch && l.addEventListener('touchstart', x, !1)
        }
        function h(a) {
          y.bind('mouseenter', function () {
            a.mouseOutUtility && a.mouseOutUtility.changeTimeout(600)
          })
          u.bind('mouseenter', function () {
            a.mouseOutUtility && a.mouseOutUtility.changeTimeout(0)
          })
        }
        function q(a, b) {
          c.increment('nav-' + a.getName() + '-' + b + '-arrow-clicked')
          e.pageType &&
            c.increment(
              'nav-' + a.getName() + '-' + b + '-arrow-clicked-' + e.pageType.toLowerCase(),
            )
        }
        function p(a) {
          B.removeClass('nav-feed-control-disabled')
          var b = parseInt(t.css('left'), 10)
          if (isNaN(b) || null === b) b = 0
          var c = A - C
          b -= D
          b < c && (b = c)
          t.animate({ left: b }, 300, function () {
            b === c && v.addClass('nav-feed-control-disabled')
          })
          q(a, 'right')
        }
        function w(a) {
          v.removeClass('nav-feed-control-disabled')
          var b = t.css('left')
          b = parseInt(b, 10) + D
          0 < b && (b = 0)
          t.animate({ left: b }, 300, function () {
            0 === b && B.addClass('nav-feed-control-disabled')
          })
          q(a, 'left')
        }
        function x() {
          u.addClass('nav-carousel-swipe')
          r.remove()
        }
        var t, u, r, B, v, y, E, C, A, D, z
        return {
          create: function (b, c) {
            var e = k(b)
            0 === b.parent('.nav-carousel-container').length &&
              e >= a(l).width() &&
              0 < a('.nav-timeline-item').length &&
              ((t = b),
              t.wrap('\x3cdiv class\x3d"nav-carousel-container"\x3e\x3c/div\x3e'),
              t.after(
                '\x3cdiv class\x3d"nav-control-hidden"\x3e\x3ca class\x3d"nav-feed-carousel-control nav-feed-left nav-feed-control-disabled " href\x3d"#"\x3e\x3cspan class\x3d"nav-timeline-icon nav-feed-arrow"\x3e\x3c/span\x3e\x3c/a\x3e\x3c/div\x3e\x3cdiv class\x3d"nav-control-hidden nav-control-hidden-right"\x3e\x3ca class\x3d"nav-feed-carousel-control nav-feed-right" href\x3d"#"\x3e\x3cspan class\x3d"nav-timeline-icon nav-feed-arrow"\x3e\x3c/span\x3e\x3c/a\x3e\x3c/div\x3e',
              ),
              (u = t.parent('.nav-carousel-container')),
              (r = u.find('.nav-feed-carousel-control')),
              (B = u.find('.nav-feed-left')),
              (v = u.find('.nav-feed-right')),
              (y = u.find('.nav-control-hidden')),
              (E = t.children(':first').width()),
              (C = k(t)),
              (A = u.width()),
              (D = A - E),
              (z = a(l)),
              m(),
              f(c),
              h(c))
          },
          readjust: function (a) {
            t = a
            C = k(t)
            C <= A &&
              ((a = u.parent()), a.append(t), a.css('width', '100%'), u.remove(), t.css('left', 0))
          },
        }
      },
    )
  })(l.$Nav)
  ;(function (f) {
    f.when('$', 'metrics', 'page.domReady').run('navbackToTopButton', function (a, b) {
      a('#navBackToTop').click(function () {
        b.increment('nav-backToTop')
        a('#nav-logo-sprites').focus()
      })
    })
  })(l.$Nav)
  ;(function (f) {
    f.when('$', 'getRefTag', 'metrics').run('xshopImpressions', function (a, b, d) {
      var c = a('#nav-xshop')
      if (0 !== c.length) {
        var e = c.offset().top + c.outerHeight()
        a('#nav-xshop \x3e .nav-a').each(function () {
          var c = b(a(this).attr('href'))
          c &&
            a(this).offset().top + a(this).outerHeight() < e &&
            d.increment('Nav:Xshop:Impression:' + c)
        })
      }
    })
  })(l.$Nav)
  ;(function (f, a) {
    'object' === typeof l.P &&
      'function' === typeof l.P.when &&
      'function' === typeof l.P.register &&
      'function' === typeof l.P.execute &&
      a.when('A').register('navDesktopAssetsGlowWidgetConstants', function (a) {
        return {
          ADDRESS_SELECTIONS_ENDPOINT: '/portal-migration/hz/glow/get-rendered-address-selections',
        }
      })
  })(l.$Nav, K)
  ;(function (f, a) {
    'object' === typeof l.P &&
      'function' === typeof l.P.when &&
      'function' === typeof l.P.register &&
      'function' === typeof l.P.execute &&
      a.when('A', 'packardGlowIngressJsEnabled').execute(function (a) {
        var b = I
        a.on('a:popover:beforeShow:glow-modal', function () {
          b = document.activeElement
        })
        a.on('a:popover:afterHide:glow-modal', function () {
          document.body.contains(b) && b.focus()
        })
      })
  })(l.$Nav, K)
  ;(function (f) {
    f.when('configComplete').run('buildConfigObject', function () {
      if (!f.getNow('config')) {
        var a = {},
          b = f.stats(),
          d
        for (d in b)
          if (b.hasOwnProperty(d)) {
            var c = d.split('config.')
            2 === c.length && (a[c[1]] = b[d].value)
          }
        f.declare('config', a)
      }
    })
    f.when('$', 'data', 'debug.param', 'page.domReady').build(
      'dataProviders.primeTooltip',
      function (a, b, d) {
        var c = !1,
          e = {
            load: function () {
              if (!c) {
                var e = a('#nav-prime-tooltip').html()
                return e ? (b({ primeTooltipContent: { html: e } }), (c = !0)) : !1
              }
            },
          }
        d('navDisablePrimeTooltipData') || e.load()
        return e
      },
    )
    f.when(
      '$',
      'now',
      'debugStream',
      'data',
      'util.ajax',
      'debug.param',
      'metrics',
      'logUeError',
    ).build('provider.ajax', function (a, b, d, c, e, g, k, m) {
      var f = function (a) {
        var c = {},
          e = function (a) {
            a = a || {}
            var b = ''
            try {
              b = l.JSON.stringify(a)
            } catch (u) {
              b = a.url + '?'
              a = a.data || {}
              for (var c in a)
                a.hasOwnProperty(c) && 'string' === typeof a[c] && (b += c + ':' + a[c] + ';')
            }
            return b
          }
        return {
          add: function (a) {
            c[e(a)] = b()
          },
          ok: function (d) {
            return (d = c[e(d)]) ? d < b() - a : !0
          },
          reset: function () {
            c = {}
          },
        }
      }
      return function (b) {
        b = a.extend({ throttle: 24e4 }, b)
        var h = null,
          p = f(b.throttle)
        b.dataType = 'json'
        var n = {
          fetch: function (f) {
            f = a.extend(!0, {}, f || {}, b)
            if (h)
              setTimeout(function () {
                n.fetch(f)
              }, 250)
            else {
              if (f.isNavyaanContent || f.isRawHTMLContent || f.isNavyaanData) f.dataType = 'html'
              if (p.ok(f)) {
                var l = new Date(),
                  q = f.success,
                  r = f.error
                f.error = function (a, b, c) {
                  if (f.isShoppingPortalAjax) {
                    var e = (a.responseText || '').split('\x3c!-- sp:error_pages --\x3e')[0]
                    try {
                      if (JSON.parse(e).data && q && 'function' === typeof q) {
                        q(e)
                        return
                      }
                    } catch (C) {}
                  }
                  m({
                    logLevel: 'ERROR',
                    message: 'AJAX call failed for ' + f.url + ' with ' + b + ': ' + c,
                  })
                  f.data && (e = f.data.metricKey || '') && k.increment(e + '-AjaxCallCountError')
                  r && 'function' === typeof r && r(a, b, c)
                }
                f.success = function (a) {
                  if (g('navDisableAjax')) f.error && 'function' === typeof f.error && f.error()
                  else {
                    h = null
                    p.add(f)
                    f.isShoppingPortalAjax && (a = JSON.parse(a).data)
                    if (a) {
                      var b = /\x3c!--.*--\x3e/g
                      f.isNavyaanContent
                        ? eval(a.replace(b, ''))
                        : f.isNavyaanData && c(JSON.parse(a.replace(b, '')))
                      f.dataKey && ((b = {}), (b[f.dataKey] = a), (a = b))
                      f.data &&
                        (b = f.data.metricKey || '') &&
                        (k.increment(b + '-AjaxCallCount'),
                        k.count(b + '-AjaxLatency', new Date() - l))
                      f.isRawHTMLContent || c(a)
                    }
                    q && q(a)
                  }
                }
                d('Ajax Data Provider Fired', f)
                h = e(f)
              }
            }
          },
          boundFetch: function (a) {
            return function () {
              n.fetch(a)
            }
          },
          reset: function () {
            h && (h.abort(), (h = null))
            p.reset()
          },
        }
        return n
      }
    })
    f.when('$', 'provider.generic.subnav.flyoutAndShelf', 'constants').build(
      'provider.subnavFlyouts',
      function (a, b, d) {
        return b(
          I,
          function (b) {
            var c = []
            a('a[data-nav-key]', b).each(function () {
              var b = a(this).data('nav-key')
              0 !== b.indexOf(d.ADVANCED_PREFIX) && c.push(b)
            })
            return c
          },
          I,
        )
      },
    )
    f.when('$', 'provider.generic.subnav.flyoutAndShelf', 'constants').build(
      'provider.subnavContentShelf',
      function (a, b, d) {
        var c = a('#nav-subnav-content-shelf')
        if (0 !== c.length)
          return b(
            c,
            function (b) {
              b = a(b).data('nav-key')
              var c = []
              if (0 === b.indexOf(d.ADVANCED_PREFIX)) return c
              c.push(b)
              return c
            },
            '_nav_shelf_cs',
          )
      },
    )
    f.when('$', 'config', 'provider.ajax').build(
      'provider.generic.subnav.flyoutAndShelf',
      function (a, b, d) {
        return function (c, e, g) {
          var k = d({ url: b.subnavFlyoutUrl }),
            f = k.fetch
          k.fetch = function (b) {
            var d = a('#nav-subnav')
            if (0 !== d.length) {
              var k = d.data('category')
              k &&
                ((d = e(c ? c : d)),
                0 !== d.length &&
                  ((b = a.extend(!0, b || {}, {
                    isNavyaanData: !0,
                    dataKey: 'subnavFlyout',
                    data: {
                      ajaxTemplate: 'subnavFlyout',
                      subnavCategory: k,
                      keys: 1 === d.length ? d[0] : d.join(';'),
                      metricKey: g ? k + g : I,
                    },
                    isShoppingPortalAjax: !0,
                  })),
                  f(b)))
            }
          }
          return k
        }
      },
    )
    f.when('$', 'provider.generic.advanced.subnav.flyoutAndShelf', 'constants').build(
      'provider.advancedSubnavFlyouts',
      function (a, b, d) {
        return b(
          I,
          function (b) {
            var c = []
            a('a[data-nav-key]', b).each(function () {
              var b = a(this).data('nav-key')
              0 === b.indexOf(d.ADVANCED_PREFIX) && c.push(b)
            })
            return c
          },
          I,
        )
      },
    )
    f.when('$', 'provider.generic.advanced.subnav.flyoutAndShelf', 'constants').build(
      'provider.advancedSubnavShelf',
      function (a, b, d) {
        var c = a('#nav-subnav-content-shelf')
        if (0 !== c.length)
          return b(
            c,
            function (b) {
              b = a(b).data('nav-key')
              var c = []
              0 === b.indexOf(d.ADVANCED_PREFIX) && c.push(b)
              return c
            },
            '_nav_shelf_cs',
          )
      },
    )
    f.when('$', '$F', 'data', 'provider.ajax', 'constants', 'advKeyDecoder').build(
      'provider.generic.advanced.subnav.flyoutAndShelf',
      function (a, b, d, c, e, g) {
        return function (b, m, n) {
          var k = e.ADVANCED_PREFIX,
            l,
            p,
            w,
            x = function () {
              l = []
              p = []
              w = []
              var e = a('#nav-subnav')
              if (0 !== e.length) {
                var h = e.data('category')
                e = m(b ? b : e)
                if (0 !== e.length)
                  for (
                    var q = function (a) {
                        if ((a = g(a))) {
                          var b = a.endpoint,
                            e = { jsonkey: a.jsonkey }
                          w[b]
                            ? w[b].push(e)
                            : ((w[b] = [e]),
                              (e = c({
                                data: { metricKey: h && n ? h + n : I },
                                url: b,
                                timeout: 1e4,
                                error: function () {
                                  for (var a = w[b], c = 0; c < a.length; c++) {
                                    var e = {}
                                    e[k + a[c].jsonkey + 'Content'] = d.get('genericError')
                                    d(e)
                                  }
                                },
                                success: function (a) {
                                  if (a && 'object' === typeof a)
                                    for (var b in a)
                                      if (a.hasOwnProperty(b)) {
                                        var c = k + b + '.flyout',
                                          e = k + b + '.toplink',
                                          g = {}
                                        g[k + b + 'Content'] = a[b]
                                        d(g)
                                        a &&
                                          a[b] &&
                                          a[b].js &&
                                          f.when('$', c, e).run('[rcx-nav] adv-panel-' + c, a[b].js)
                                      }
                                },
                              })),
                              a.onload ? p.push(e) : l.push(e))
                        }
                      },
                      t = 0;
                    t < e.length;
                    t++
                  )
                    q(e[t])
              }
            },
            t = {
              refresh: function () {
                x()
              },
              fetchOnload: function () {
                for (var a = 0; a < p.length; a++) p[a].fetch()
              },
              fetchLazy: function () {
                for (var a = 0; a < l.length; a++) l[a].fetch()
              },
              fetchAll: function () {
                t.fetchOnload()
                t.fetchLazy()
              },
            }
          return t
        }
      },
    )
    f.when('util.templates', 'data').run('provider.templates', function (a, b) {
      b.observe('templates', function (b) {
        for (var c in b) b.hasOwnProperty(c) && b[c] && a.add(c, b[c])
      })
    })
    f.when('config', 'provider.ajax').build('provider.dynamicMenu', function (a, b) {
      return b({ url: a.dynamicMenuUrl, data: a.dynamicMenuArgs })
    })
    f.when('config', 'provider.ajax').build('provider.genericMenu', function (a, b) {
      return b({
        url: '/gp/navigation/ajax/generic.html',
        data: { rid: a.requestId },
        isNavyaanContent: !0,
      })
    })
    f.when('config', 'provider.ajax').build('provider.genericNavyaanData', function (a, b) {
      return b({
        url: '/gp/navigation/ajax/generic.html',
        data: { rid: a.requestId },
        isNavyaanData: !0,
      })
    })
    f.when('config', 'provider.ajax').build('provider.spAjaxEndpoint', function (a, b) {
      return function (d, c) {
        return b({
          url: '/nav/ajax/' + d,
          data: { rid: a.requestId },
          isNavyaanContent: !c,
          isNavyaanData: c,
          isShoppingPortalAjax: !0,
        })
      }
    })
    f.when('config', 'data', 'provider.ajax', 'debug.param').build(
      'provider.amazonfresh',
      function (a, b, d, c) {
        return d({
          url: '/fsx/storeingress/fresh/flyout/desktop',
          data: { rid: a.requestId },
          success: function (a) {
            b({ amazonfreshContent: { html: a.html || '' } })
          },
          error: function () {
            var c = document.createElement('a')
            c.href =
              '/alm/storefront?almBrandId\x3dQW1hem9uIEZyZXNo\x26ref\x3dnav_primefresh_startshop'
            c.innerHTML =
              {
                en_US: 'Start shopping',
                es_US: 'Comenzar a comprar',
                en_GB: 'Start shopping',
                de_DE: 'Einkauf beginnen',
                nl_NL: 'Begin met winkelen',
                pl_PL: 'Rozpocznij zakupy',
                tr_TR: 'Alverie bala',
                cs_CZ: 'Zat s nkupem',
                fr_FR: 'Commencer  acheter',
                it_IT: 'Inizia lo shopping',
                es_ES: 'Empezar a comprar',
                pt_PT: 'Comear a comprar',
                ja_JP: '',
                zh_CN: '',
                en_SG: 'Start shopping',
              }[a.languageCode] || 'Start shopping'
            b({ amazonfreshContent: { html: c.outerHTML } })
          },
        })
      },
    )
    f.when('config', 'data', 'provider.ajax', 'debug.param').build(
      'provider.groceries',
      function (a, b, d, c) {
        var e = {
            en_US: 'Explore grocery shopping options',
            es_US: 'Explore las opciones de compra de comestibles',
            cs_CZ: 'Prozkoumejte monosti nkupu potravin',
            de_DE: 'Entdecken Sie Einkaufsmglichkeiten',
            fr_FR: "Explorez les options d'achat d'picerie",
            zh_CN: '',
            pt_PT: 'Explore as opes de compras de supermercado',
            it_IT: 'Esplora le opzioni per fare la spesa',
            es_ES: 'Explore las opciones de compra de comestibles',
            ja_JP: '',
            en_GB: 'Explore grocery shopping options',
            nl_NL: 'Ontdek mogelijkheden om boodschappen te doen',
            tr_TR: 'Market alverii seeneklerini kefedin',
            pl_PL: 'Przegldaj opcje zakupw spoywczych',
            en_SG: 'Explore grocery shopping options',
            en_AE: 'Explore grocery shopping options',
            ar_AE: '   ',
            en_IN: 'Explore grocery shopping options',
            hi_IN: '     ',
            mr_IN: '    ',
            bn_IN: '    ',
            kn_IN: '   ',
            ml_IN: '    ',
            ta_IN: '   ',
            te_IN: '   ',
          },
          g = function () {
            var b = a.languageCode.toString(),
              c = function (a) {
                return (
                  '\x3ca href\x3d"/fmc/learn-more?ref\x3dnav_cs_dsk_grfl_lm"\x3e' + a + '\x3c/a\x3e'
                )
              }
            return e.hasOwnProperty(b)
              ? { html: c(e[b]) }
              : { html: c('Explore grocery shopping options') }
          }
        return d({
          url: '/fsx/storeingress/groceries/flyout/desktop',
          data: { rid: a.requestId },
          success: function (a) {
            var c = ''
            a.html && (c = a.html)
            b({ groceriesContent: { html: c } })
          },
          error: function () {
            b({ groceriesContent: g() })
          },
        })
      },
    )
    f.when('config', 'data', 'provider.ajax', 'debug.param').build(
      'provider.amazonprime',
      function (a, b, d, c) {
        return d({
          url: '/hz/primenavigation/primeflyout',
          data: { isPrime: a.isPrimeMember, rid: a.requestId },
          success: function (a) {
            b({ amazonprimeContent: { html: a.content || '' } })
          },
          error: function () {
            var c = document.createElement('a')
            c.href = a.isPrimeMember
              ? '/amazonprime?_encoding\x3dUTF8\x26ref\x3dprime_flyout_err'
              : '/gp/prime/pipeline/membersignup'
            c.innerHTML = 'Prime Flyout'
            b({ amazonprimeContent: { html: c.outerHTML } })
          },
        })
      },
    )
    f.when('config', 'data', 'provider.ajax', 'debug.param').build(
      'provider.abCatAccountLink',
      function (a, b, d, c) {
        return d({
          url: '/abcatflyout/accountLinking',
          success: function (a) {
            b({ abCatAccountLinkContent: { html: a.html || '' } })
          },
          error: function () {
            var a = document.createElement('a')
            a.href = '/business/register/welcome?return_to\x3d%2F\x26ref_\x3dnav_ab_acc_link'
            a.innerHTML = 'Check the latest status of your verification'
            b({ abCatAccountLinkContent: { html: a.outerHTML } })
          },
        })
      },
    )
    f.when('config', 'data', 'provider.ajax', 'debug.param').build(
      'provider.abCatAcquisition',
      function (a, b, d, c) {
        return d({
          url: '/abcatflyout/acquisition',
          success: function (a) {
            b({ abCatAcquisitionContent: { html: a.html || '' } })
          },
          error: function () {
            var a = document.createElement('a')
            a.href = '/business/register/org/landing?ref_\x3dnav_ab_acq_flyout_image'
            a.innerHTML = 'Find work supplies with exclusive deals at Amazon Business'
            b({ abCatAcquisitionContent: { html: a.outerHTML } })
          },
        })
      },
    )
    f.when('config', 'data', 'provider.ajax', 'debug.param').build(
      'provider.giftCards',
      function (a, b, d, c) {
        var e = {
            en_US: 'Browse All Gift Cards',
            es_US: 'Explora todas las tarjetas de regalo',
            cs_CZ: 'Prochzet vechny drkov karty',
            de_DE: 'Alle Geschenkkarten durchsuchen',
            fr_FR: 'Explorer toutes les cartes-cadeaux',
            zh_CN: '',
            pt_PT: 'Procurar todos os cartes oferta',
            it_IT: 'Sfoglia tutti i buoni regalo',
            es_ES: 'Ver todas las tarjetas regalo',
            ja_JP: '',
            en_GB: 'Browse All Gift Cards',
            nl_NL: 'Bekijk alle cadeaubonnen',
            tr_TR: 'Tm Hediye Kartlarna Gz At',
            pl_PL: 'Przegldaj wszystkie karty podarunkowe',
            en_SG: 'Browse All Gift Cards',
            en_AE: 'Browse All Gift Cards',
            ar_AE: '   ',
            en_IN: 'Browse All Gift Cards',
            hi_IN: '   ',
            mr_IN: '   ',
            bn_IN: '   ',
            kn_IN: '   ',
            ml_IN: '    ',
            ta_IN: '   ',
            te_IN: '    ',
            da_DK: 'Gennemse alle gavekort',
            en_CA: 'Browse all gift cards',
            fr_CA: 'Parcourir toutes les cartes-cadeaux',
            pt_BR: 'Procure todos os cartes-presente',
            es_MX: 'Explora todas las tarjetas de regalo',
            en_AU: 'Browse All Gift Cards',
            sv_SE: 'Blddra bland alla presentkort',
          },
          g = {
            ATVPDKIKX0DER: '2238192011',
            A2EUQ1WTGCTBG2: '9230166011',
            A1AM78C64UM0Y8: '19117234011',
            A1F83G8C2ARO7P: '1571304031',
            A1PA6795UKMFR9: '1571256031',
            A13V1IB3VIYZZH: '2524127031',
            A1RKKUPIHCS9HS: '3564279031',
            APJ6JRA9NG5V4: '3557017031',
            A1VC38T7YXB528: '2351652051',
            A39IBJ37TRP1C6: '5264602051',
            A33AVAJ2PDY3EV: '16594144031',
            A2VIGQ35RCS4UG: '15149951031',
            AAHKV2X7AFYLW: '311868071',
            A21TJRUUN4KGV: '3704982031',
            A17E79C6D8DWNP: '16636846031',
            A1805IZSGTT6HS: '16241984031',
            A19VAU5U5O7RUS: '6876351051',
            A2NODRKZP88ZB9: '20512852031',
            AMEN7PMS3EDWL: '27156732031',
            A1C3SOZRARQ6R3: '20657799031',
          },
          k = function () {
            var b = a.languageCode.toString(),
              c = a.marketplaceId.toString(),
              d = function (a) {
                var b = document.createElement('a')
                b.href =
                  c && g.hasOwnProperty(c)
                    ? 'b/ref\x3dnav_cs_gift_cards_shop_all_gift_cards_error?node\x3d' + g[c]
                    : '/gift-cards/ref\x3dnav_cs_gift_cards_shop_all_gift_cards_error'
                b.innerText = a
                return b
              }
            return e.hasOwnProperty(b) ? { html: d(e[b]) } : { html: d(e.en_US) }
          }
        return d({
          url: '/gc/flyout/desktop',
          data: { rid: a.requestId },
          success: function (a) {
            var c = ''
            a.html && (c = a.html)
            b({ giftCardsContent: { html: c } })
          },
          error: function () {
            b({ giftCardsContent: k() })
          },
        })
      },
    )
    f.when('config', 'data', 'provider.ajax', 'debug.param').build(
      'provider.abCatActivation',
      function (a, b, d, c) {
        return d({
          url: '/abcatflyout/activation',
          success: function (a) {
            b({ abCatActivationContent: { html: a.html || '' } })
          },
          error: function () {
            var a = document.createElement('a')
            a.href = '/business/register/org/status?ref_\x3dnav_ab_activation_flyout'
            a.innerHTML = 'Check the latest status of your verification'
            b({ abCatActivationContent: { html: a.outerHTML } })
          },
        })
      },
    )
    f.when('config', 'data', 'provider.ajax', 'debug.param').build(
      'provider.health',
      function (a, b, d, c) {
        var e = {
            en_US: 'See all health services',
            es_US: 'Ver todos los servicios de salud',
            en_GB: 'See all health services',
            de_DE: 'Alle Gesundheitsprodukte bei Amazon entdecken',
            nl_NL: 'Winkel alle gezondheidsproducten op Amazon',
            pl_PL: 'Przegldaj wszystkie oferty w kategorii Zdrowie na Amazon',
            tr_TR: "Tm salk rnlerini Amazon'da satn alabilirsiniz",
            cs_CZ: 'Nakupujte veker produkty pro sv zdrav na Amazonu',
            fr_FR: 'Acheter dans toute la section sant sur Amazon',
            it_IT: 'Acquista tutti i prodotti per la salute su Amazon',
            es_ES: 'Ver todos los servicios de salud',
            pt_PT: 'Comprar todos os produtos de sade na Amazon',
            ja_JP: 'Amazon',
            zh_CN: '',
            en_SG: 'See all health services',
          },
          g = function () {
            var b = a.languageCode.toString(),
              c = function (a) {
                var b = document.createElement('a')
                b.href = 'https://health.amazon.com/?ref\x3dnav_cs_ahi_homepage'
                b.innerText = a
                return b
              }
            return e.hasOwnProperty(b) ? { html: c(e[b]) } : { html: c(e.en_US) }
          }
        return d({
          url: '/hst/healthingress/flyout/desktop',
          data: { rid: a.requestId },
          success: function (a) {
            var c = ''
            a.html && (c = a.html)
            b({ healthContent: { html: c } })
          },
          error: function () {
            b({ healthContent: g() })
          },
        })
      },
    )
    f.when('config', 'data', 'provider.ajax', 'debug.param').build(
      'provider.pharmacy',
      function (a, b, d, c) {
        var e = {
            en_US: 'How it works',
            es_US: 'Entiende cmo funciona',
            en_GB: 'How it works',
            de_DE: 'So funktioniert es',
            nl_NL: 'Hoe het werkt',
            pl_PL: 'Jak to dziaa',
            tr_TR: 'Nasl alr?',
            cs_CZ: 'Jak to funguje',
            fr_FR: 'Comment a marche',
            it_IT: 'Come funziona',
            es_ES: 'Entiende cmo funciona',
            pt_PT: 'Como funciona',
            ja_JP: '',
            zh_CN: '',
            en_SG: 'How it works',
          },
          g = function () {
            var b = a.languageCode.toString(),
              c = function (a) {
                var b = document.createElement('a')
                b.href = 'https://pharmacy.amazon.com/how-it-works/?ref_\x3dnav_cs_ahi_ap_homepage'
                b.innerText = a
                return b
              }
            return e.hasOwnProperty(b) ? { html: c(e[b]) } : { html: c(e.en_US) }
          }
        return d({
          url: '/hst/healthingress/pharmacy/flyout/desktop',
          data: { rid: a.requestId },
          success: function (a) {
            var c = ''
            a.html && (c = a.html)
            b({ pharmacyContent: { html: c } })
          },
          error: function () {
            b({ pharmacyContent: g() })
          },
        })
      },
    )
  })(l.$Nav)
  ;(function (f) {
    f.when(
      '$',
      '$F',
      'config',
      'dataPanel',
      'flyout.yourAccount',
      'provider.ajax',
      'util.Proximity',
    )
      .iff({ name: 'config', prop: 'carnac' })
      .run('carnac', function (a, b, d, c, e, g, k) {
        if (d.carnac.url) {
          var f = c({
            id: 'nav-carnac-panel',
            dataKey: 'yourAccountCarnacContent',
            className: 'nav-flyout-content',
            spinner: !0,
            visible: !0,
          })
          e.elem().append(f.elem())
          var l = e.getPanel()
          l.elem().remove()
          e.getPanel = function () {
            return f
          }
          var h = g({
              url: d.carnac.url,
              dataKey: 'yourAccountCarnacContent',
              data: { rid: d.requestId },
            }),
            q = b
              .once()
              .delay(5e3)
              .on(function () {
                f.isRendered() ||
                  (f.elem().remove(),
                  e.elem().append(l.elem()),
                  (e.getPanel = function () {
                    return l
                  }))
              })
          a = function () {
            h.fetch()
            q()
          }
          e.onShow(a)
          e.link.focus(a)
          k.onEnter(e.link, [20, 40, 40, 40], a)
        }
      })
  })(l.$Nav)
  ;(function (f) {
    f.when('config.flyoutURL', 'debug.param', 'btf.full').run('provider.remote', function (a, b) {
      a &&
        !b('navDisableJsonp') &&
        ((b = document.createElement('script')),
        b.setAttribute('type', 'text/javascript'),
        b.setAttribute('src', a),
        (document.head || document.getElementsByTagName('head')[0]).appendChild(b))
    })
    f.when(
      '$',
      '$F',
      'provider.dynamicMenu',
      'provider.genericMenu',
      'provider.genericNavyaanData',
      'provider.spAjaxEndpoint',
      'provider.amazonprime',
      'provider.abCatAccountLink',
      'provider.abCatAcquisition',
      'provider.abCatActivation',
      'provider.amazonfresh',
      'provider.groceries',
      'provider.health',
      'provider.pharmacy',
      'provider.giftCards',
      'util.Proximity',
      'config',
      'flyout.amazonfresh',
      'flyout.groceries',
      'flyout.amazonprime',
      'flyout.wishlist',
      'flyout.accountList',
      'flyout.timeline',
      'flyout.abCatAccountLink',
      'flyout.abCatAcquisition',
      'flyout.abCatActivation',
      'flyout.health',
      'flyout.pharmacy',
      'flyout.giftCards',
      'bindFlyoutAnchorReftagMetrics',
      'flyout.groceriesFlyoutUpdate',
    ).run(
      'bindProvidersToEvents',
      function (
        a,
        b,
        d,
        c,
        e,
        g,
        k,
        m,
        l,
        h,
        q,
        p,
        w,
        x,
        t,
        u,
        r,
        B,
        v,
        y,
        E,
        C,
        A,
        D,
        z,
        F,
        G,
        H,
        L,
        J,
        M,
      ) {
        if (!r.primeDay) {
          var n = {
            prefetchGatewayHero: b.once().on(function () {
              r.prefetchGatewayHero &&
                'function' === typeof r.prefetchGatewayHero &&
                r.prefetchGatewayHero()
            }),
            setupAmazonFreshFlyout: function () {
              if (B) {
                var a = q.boundFetch({
                  data: { amazonfreshContent: 'amazonfresh', metricKey: 'amazonfreshMetric' },
                })
                n._bindProviderToEvents(B, B.link, a)
                u.onEnter(B.link, [20, 40, 40, 40], function () {
                  a()
                  n.prefetchGatewayHero()
                })
              }
            },
            setupGroceriesFlyout: function () {
              if (v) {
                f.publish('nav.refreshGroceriesProvider', function () {
                  p.reset()
                  r.groceriesFlyoutNeedsRefresh = !0
                })
                var a = p.boundFetch({
                  data: { groceriesContent: 'groceries', metricKey: 'groceriesMetric' },
                })
                n._bindProviderToEvents(v, v.link, a)
                u.onEnter(
                  v.link,
                  [20, 40, 40, 40],
                  function () {
                    r.groceriesFlyoutHasBeenFetchedBefore ||
                      (a(),
                      (r.groceriesFlyoutHasBeenFetchedBefore = !0),
                      (r.groceriesFlyoutNeedsRefresh = !1))
                    r.groceriesFlyoutNeedsRefresh &&
                      (a(), M(), (r.groceriesFlyoutNeedsRefresh = !1))
                    v.onShow(function () {
                      J(v.elem().find('.f3-cgi-flyout-section a'), 'Grocery', !0, !0, 'Store')
                      J(
                        v.elem().find('.f3-cgi-flyout-static-links-section a'),
                        'Grocery',
                        !0,
                        !0,
                        'Store',
                      )
                      J(
                        v.elem().find('.f3-cgi-store-finder-section-container a'),
                        'Grocery',
                        !0,
                        !0,
                        'StoreFinder',
                      )
                    })
                    n.prefetchGatewayHero()
                  },
                  1e3,
                )
              }
            },
            _getWishlistFetch: function () {
              var a = {
                wishlistItems: 'wishlist',
                metricKey: 'wishlistMetric',
                ajaxTemplate: 'wishlist',
              }
              r.alexaListEnabled && ((a.alexaItems = 'alexa'), (a.metricKey = 'alexaMetric'))
              return g('wishlist', !0).boundFetch({ data: a })
            },
            setupTimeline: function () {
              var a = [100, 100, 100, 100]
              r.timelineAsinPriceEnabled && (a = [20, 50, 30, 30])
              var b = g('timeline', !1).boundFetch({
                data: {
                  timelineContent: 'timeline',
                  pageType: r.pageType,
                  subPageType: r.subPageType,
                  metricKey: 'timelineMetric',
                  ajaxTemplate: 'timeline',
                },
              })
              n._bindProviderToEvents(A, A.link, b)
              u.onEnter(A.link, a, function () {
                b()
                n.prefetchGatewayHero()
              })
            },
            setupWishlistFlyout: function () {
              var a = n._getWishlistFetch(),
                b = E
              r.accountList && (b = C)
              n._bindProviderToEvents(b, b.link, a)
              u.onEnter(b.link, [20, 20, 40, 100], function () {
                a()
                n.prefetchGatewayHero()
              })
            },
            setupAmazonPrimeFlyout: function () {
              if (y) {
                var a = k.boundFetch({
                  data: { amazonprimeflyoutContent: 'amazonprime', metricKey: 'primeMetric' },
                })
                n._bindProviderToEvents(y, y.link, a)
                u.onEnter(y.link, [20, 40, 40, 40], function () {
                  a()
                  n.prefetchGatewayHero()
                })
              }
            },
            setupAccountListFlyout: function () {
              if (C)
                if (r.accountListFlyoutRedesign) {
                  var a = c.boundFetch({
                    data: {
                      accountListRedesignContent: 'accountListRedesign',
                      metricKey: 'accountListRedesignMetric',
                      ajaxTemplate: 'accountListFlyoutRedesign',
                    },
                  })
                  n._bindProviderToEvents(C, C.link, a)
                  u.onEnter(C.link, [20, 40, 40, 40], function () {
                    a()
                    n.prefetchGatewayHero()
                  })
                } else {
                  var b = c.boundFetch({
                    data: {
                      accountListContent: 'accountList',
                      metricKey: 'accountListMetric',
                      ajaxTemplate: 'accountListFlyout',
                    },
                  })
                  n._bindProviderToEvents(C, C.link, b)
                  u.onEnter(C.link, [20, 40, 40, 40], function () {
                    b()
                    n.prefetchGatewayHero()
                  })
                }
            },
            setupABCATAccountLink: function () {
              if (D) {
                var a = m.boundFetch({
                  data: {
                    abCatAccountLinkContent: 'abCatAccountLink',
                    metricKey: 'abCatAccountLinkMetric',
                    pageType: r.pageType,
                    subPageType: r.subPageType,
                  },
                })
                n._bindProviderToEvents(D, D.link, a)
                u.onEnter(D.link, [15, 15, 15, 15], function () {
                  a()
                })
              }
            },
            setupABCATAcquisition: function () {
              if (z) {
                var a = l.boundFetch({
                  data: {
                    abCatAcquisitionContent: 'abCatAcquisition',
                    metricKey: 'abCatAcquisitionMetric',
                    pageType: r.pageType,
                    subPageType: r.subPageType,
                  },
                })
                n._bindProviderToEvents(z, z.link, a)
                u.onEnter(z.link, [15, 15, 15, 15], function () {
                  a()
                })
              }
            },
            setupGiftCardsFlyout: function () {
              if (L) {
                var a = t.boundFetch({
                  data: { giftCardsContent: 'giftCards', metricKey: 'giftCardsMetric' },
                })
                n._bindProviderToEvents(L, L.link, a)
                u.onEnter(L.link, [20, 40, 40, 40], function () {
                  a()
                  L.onShow(function () {
                    J(L.elem().find('.gc-flyout-section a'), 'GiftCards', !0, !0, 'Store')
                    J(
                      L.elem().find('.gc-flyout-static-links-section a'),
                      'GiftCards',
                      !0,
                      !0,
                      'Store',
                    )
                  })
                  n.prefetchGatewayHero()
                })
              }
            },
            setupABCATActivation: function () {
              if (F) {
                var a = h.boundFetch({
                  data: {
                    abCatActivationContent: 'abCatActivation',
                    metricKey: 'abCatActivationMetric',
                    pageType: r.pageType,
                    subPageType: r.subPageType,
                  },
                })
                n._bindProviderToEvents(F, F.link, a)
                u.onEnter(F.link, [15, 15, 15, 15], function () {
                  a()
                })
              }
            },
            setupHealthFlyout: function () {
              if (G) {
                var a = w.boundFetch({
                  data: { healthContent: 'health', metricKey: 'healthMetric' },
                })
                n._bindProviderToEvents(G, G.link, a)
                u.onEnter(G.link, [20, 40, 40, 40], function () {
                  a()
                  G.onShow(function () {
                    J(G.elem().find('.ahi-flyout-section a'), 'Health', !0, !0, 'Store')
                    J(
                      G.elem().find('.ahi-flyout-static-links-section a'),
                      'Health',
                      !0,
                      !0,
                      'Store',
                    )
                  })
                  n.prefetchGatewayHero()
                })
              }
            },
            setupPharmacyFlyout: function () {
              if (H) {
                var a = x.boundFetch({
                  data: { pharmacyContent: 'pharmacy', metricKey: 'pharmacyMetric' },
                })
                n._bindProviderToEvents(H, H.link, a)
                u.onEnter(H.link, [20, 40, 40, 40], function () {
                  a()
                  H.onShow(function () {
                    J(H.elem().find('.ahi-ap-flyout-section a'), 'Pharmacy', !0, !0, 'Store')
                    J(
                      H.elem().find('.ahi-ap-flyout-static-links-section a'),
                      'Pharmacy',
                      !0,
                      !0,
                      'Store',
                    )
                  })
                  n.prefetchGatewayHero()
                })
              }
            },
            _bindProviderToEvents: function (a, b, c) {
              a.onShow(c)
              b.focus(c)
            },
            init: function () {
              n.setupAmazonPrimeFlyout()
              n.setupWishlistFlyout()
              n.setupABCATAccountLink()
              n.setupABCATAcquisition()
              n.setupABCATActivation()
              n.setupAmazonFreshFlyout()
              n.setupGroceriesFlyout()
              n.setupHealthFlyout()
              n.setupPharmacyFlyout()
              n.setupGiftCardsFlyout()
              r.isPureAjaxALF && n.setupAccountListFlyout()
              r.timeline && n.setupTimeline()
            },
          }
          n.init()
        }
      },
    )
  })(l.$Nav)
  ;(function (f) {
    f.when(
      '$',
      '$F',
      'panels',
      'util.checkedObserver',
      'flyouts.anchor',
      'flyouts.fixers',
      'metrics',
      'config',
      'nav.inline',
    ).run('flyouts', function (a, b, d, c, e, g, k, f) {
      var m = {}
      a(l).bind('resize', function () {
        for (var a in m) m.hasOwnProperty(a) && m[a].align()
      })
      return {
        create: function (b) {
          b = a.extend(
            {
              enableFlyoutBuffer: !0,
              elem: function () {
                var c = b.buildNode ? b.buildNode() : a('\x3cdiv\x3e\x3c/div\x3e')
                c.addClass('nav-flyout').appendTo(b.anchor || e())
                b.enableFlyoutBuffer &&
                  c.append(
                    "\x3cdiv class\x3d'nav-flyout-buffer-left'\x3e\x3c/div\x3e\x3cdiv class\x3d'nav-flyout-buffer-right'\x3e\x3c/div\x3e\x3cdiv class\x3d'nav-flyout-buffer-top'\x3e\x3c/div\x3e\x3cdiv class\x3d'nav-flyout-buffer-bottom'\x3e\x3c/div\x3e",
                  )
                return c
              },
              groups: ['flyouts'],
              transition: {
                show: function () {
                  h.elem().show()
                  h.flyoutFullyAnimated = !1
                  if (h.animateDown) {
                    a.extend(a.easing, {
                      easeOutCubic: function (a, b, c, e, d) {
                        return e * ((b = b / d - 1) * b * b + 1) + c
                      },
                      easeInCubic: function (a, b, c, e, d) {
                        return e * (b /= d) * b * b + c
                      },
                    })
                    var b = h.elem().height()
                    h.elem()
                      .stop(!0, !0)
                      .css({ height: '10px' })
                      .animate({ height: b }, 250, 'easeOutCubic', function () {
                        a(this).css('height', 'auto')
                        h.initiateSidePanel()
                        h.flyoutFullyAnimated = !0
                      })
                    h.elem()
                      .find(
                        '.nav-flyout-content, #nav-flyout-wl-items, #nav-profile-bottom-bia-wrapper',
                      )
                      .hide()
                      .addClass('nav-add-filter')
                      .stop(!0, !0)
                      .fadeIn({ duration: 300, easing: 'easeInCubic' }, function () {
                        a(this).removeClass('nav-add-filter')
                      })
                  }
                  h.align()
                  k.increment('nav-flyout-' + h.getName() + '-show')
                  k.increment('nav-flyout-aggregate-show')
                  f.pageType &&
                    k.increment(
                      'nav-flyout-' + h.getName() + '-' + f.pageType.toLowerCase() + '-show',
                    )
                },
                hide: function () {
                  h.elem().stop(!0, !0).hide()
                },
              },
            },
            b,
          )
          var h = d.create(b)
          h.align = c({
            context: h,
            check: function () {
              if (!h.isVisible()) return !1
            },
          })
          h.onAlign = h.align.observe
          h.show.observe(function () {
            b.transition.show.apply(h, arguments)
          })
          h.hide.observe(function () {
            b.transition.hide.apply(h, arguments)
          })
          h.lock.observe(function () {
            h.elem().addClass('nav-locked')
          })
          h.unlock.observe(function () {
            h.elem().removeClass('nav-locked')
          })
          g(h)
          return (m[b.name] = h)
        },
        destroy: function (a) {
          return m[a] ? (m[a].destroy(), delete m[a], d.destroy(a), !0) : !1
        },
        hideAll: function () {
          d.hideAll({ group: 'flyouts' })
        },
        lockAll: function () {
          d.lockAll({ group: 'flyouts', lockKey: 'global-flyout-lock-key' })
        },
        unlockAll: function () {
          d.unlockAll({ group: 'flyouts', lockKey: 'global-flyout-lock-key' })
        },
        get: function (a) {
          return m[a]
        },
        getAll: function () {
          return m
        },
      }
    })
    f.when('$', '$F').build('flyouts.anchor', function (a, b) {
      return b.memoize().on(function () {
        return a("\x3cdiv id\x3d'nav-flyout-anchor' /\x3e").insertAfter('#nav-belt')
      })
    })
    f.when('$', '$F', 'cover', 'debugStream').build('flyouts.cover', function (a, b, d, c) {
      var e = null,
        g = !1,
        k = function () {
          e && (clearTimeout(e), (e = null))
        },
        f = function () {
          k()
          g ||
            (e = setTimeout(function () {
              g || (k(), d.hide(), (g = !1))
              e = null
            }, 10))
        },
        n = function () {
          k()
          d.show({
            layer: 'SUB',
            click: function () {
              f()
              g = !1
            },
          })
        }
      return function (b, c) {
        b.onShow(function () {
          ;(0 < a('#navbar.nav-pinned').length && c) || n()
        })
        b.onHide(f)
      }
    })
    f.when('$', '$F', 'agent').build('flyouts.fixers', function (a, b, d) {
      return function (c) {
        if (d.kindleFire) {
          var e = a([])
          c.onShow(function () {
            var b = this.elem(),
              c = a('img[usemap]').filter(function () {
                return 0 === a(this).parents(b).length
              })
            e = e.add(c)
            c.each(function () {
              this.disabledUseMap = a(this).attr('usemap')
              a(this).attr('usemap', '')
            })
          })
          c.onHide(function () {
            e.each(function () {
              a(this).attr('usemap', this.disabledUseMap)
            })
            e = a([])
          })
        }
        if (d.touch)
          c.onShow(function () {
            var c = a('video')
            c.css('visibility', 'hidden')
            b.delay(10).run(function () {
              c.css('visibility', '')
            })
          })
      }
    })
    f.when(
      '$',
      '$F',
      'agent',
      'config',
      'util.ClickOut',
      'util.mouseOut',
      'util.velocityTracker',
      'util.MouseIntent',
      'debug.param',
      'util.onKey',
    ).build('flyouts.linkTrigger', function (a, b, d, c, e, g, f, m, n, h) {
      var k = n('navFlyoutClick')
      return function (c, d, n, l, q, r, B) {
        r = k || r
        var p = new e(),
          y = f(),
          t = B ? g(B) : g(),
          w = null,
          u = !1,
          x = function () {
            w && (w.cancel(), (w = null), (u = !1))
          }
        a(d).bind('mouseleave', function () {
          x()
          c.isVisible() &&
            (w = new m(c.elem(), { slop: 0 })
              .onArrive(function () {
                x()
              })
              .onStray(function () {
                u && c.hide()
                x()
              }))
        })
        n ? t.add(n) : t.add(d)
        r ||
          t.action(function () {
            w ? (u = !0) : c.hide()
          })
        p.action(function () {
          c.hide()
        })
        c.onShow(
          b.once().on(function () {
            var a = c.elem()
            p.ignore(a)
            p.ignore(d)
            r || (t.add(a), t.enable())
          }),
        )
        c.onShow(function () {
          d.addClass('nav-active')
          d.attr('aria-expanded', 'true')
          p.enable()
          y.disable()
        })
        c.onHide(function () {
          d.removeClass('nav-active')
          d.attr('aria-expanded', 'false')
          p.disable()
          x()
        })
        c.onLock(function () {
          c.isVisible() || a('.nav-icon, .nav-arrow', d).css({ visibility: 'hidden' })
        })
        c.onUnlock(function () {
          a('.nav-icon, .nav-arrow', d).css({ visibility: 'visible' })
        })
        var z = !1,
          F = b.debounce(500, !0).on(function () {
            if (c.isVisible() || c.isLocked()) {
              if (q || c.isLocked()) {
                z = !1
                return
              }
              c.hide()
            } else c.show()
            z = !0
          }),
          G = function (a) {
            F()
            if (z || !q) return a.stopPropagation(), a.preventDefault(), !1
          }
        d.bind('touchstart', G)
        h(
          d,
          function () {
            if (this.isEnter()) return G(this.evt)
          },
          'keydown',
        )
        r ||
          d.hover(
            function (a) {
              a.originalEvent.acknowledge && a.originalEvent.acknowledge()
              y.enable()
              l && l()
            },
            function () {
              y.disable()
            },
          )
        var H = b.debounce(500, !0).on(function () {
          c.show()
        })
        y.addThreshold({ below: 40 }, function () {
          c.isVisible() ||
            setTimeout(function () {
              H()
            }, 1)
          y.disable()
        })
        a('.nav-icon', d).show().css({ visibility: 'visible' })
        return t
      }
    })
    f.when('$', '$F', 'noOp', 'Observer', 'util.tabbing', 'util.onKey').build(
      'flyouts.accessibility',
      function (a, b, d, c, e, g) {
        var f = b.memoize().on(function () {
          var b = new c()
          g(
            a(document),
            function () {
              this.isEscape() && b.notify()
            },
            'keydown',
          )
          return b.boundObserve()
        })
        return function (b) {
          b = a.extend({ link: null, onEscape: d }, b)
          var c = {},
            k = !1,
            m = !1,
            p = null,
            l = !1,
            x = a([])
          f()(function () {
            k && m && (b.onEscape(), c.disable())
          })
          g(
            b.link,
            function () {
              ;(this.isEnter() || this.isSpace()) && c.enable()
            },
            'keyup',
          )
          var t = null,
            u = function () {
              p && (clearTimeout(p), (p = null))
              m = !0
            },
            r = function () {
              p && (clearTimeout(p), (p = null))
              p = setTimeout(function () {
                m = !1
              }, 10)
            },
            B = function () {
              !l &&
                k &&
                ((t = e(x)),
                t.tailAction('loop'),
                t.enable(),
                x.focus(u),
                x.blur(r),
                t.focus(),
                (l = !0))
            }
          c.elems = function (a) {
            l = !1
            x.unbind('focus blur')
            t && (t.destroy(), (t = null))
            x = a
            B()
          }
          c.disable = function () {
            k = !1
            t && t.disable()
          }
          c.enable = function () {
            k = !0
            B()
            t && !t.isEnabled() && (t.enable(), t.focus())
          }
          return c
        }
      },
    )
    f.when('$', '$F', 'agent', 'dataPanel', 'config').build(
      'flyouts.sidePanel',
      function (a, b, d, c, e) {
        return function (g) {
          var f = g.getName()
          'accountList' === f && (f = 'yourAccount')
          var m = c({
              dataKey: f + '-sidePanel',
              className: 'nav-flyout-sidePanel-content',
              spinner: !1,
              visible: !1,
              doNotExecuteScripts: !0,
            }),
            l = b.memoize().on(function () {
              var b = a("\x3cdiv class\x3d'nav-flyout-sidePanel' /\x3e")
                  .appendTo(g.elem())
                  .append(m.elem()),
                c = -b.width()
              g.elem()
                .find('.nav-flyout-buffer-left')
                .css({ left: c - 10 })
              g.elem().find('.nav-flyout-buffer-top, .nav-flyout-buffer-bottom').css({ left: c })
              return b
            }),
            h = function () {
              if (m.isVisible() && g.isVisible()) {
                var b = function () {
                  var b = m.elem().height()
                  a('.nav-item', m.elem()).each(function () {
                    var c = a(this)
                    b -= c.outerHeight(!0)
                    c[0 <= b ? 'show' : 'hide']()
                  })
                  g.a11ysetup()
                }
                e.flyoutAnimation ? g.setSidePanelCallback(b) : b()
              }
            }
          g.onShow(h)
          g.onRender(h)
          m.onShow(function () {
            l().css({ width: '0px', display: 'block' }).animate({ width: '240px' }, 300, 'swing', h)
          })
          m.onHide(function () {
            l().animate({ width: '0px' }, 300, function () {
              a(this).hide()
            })
          })
          m.onRender(m.show)
          m.onReset(m.hide)
          if (d.quirks)
            g.onShow(function () {
              l().css({ height: g.elem().outerHeight() })
            })
          g.sidePanel = m
        }
      },
    )
    f.when(
      '$',
      '$F',
      'config',
      'data',
      'dataPanel',
      'logEvent',
      'phoneHome',
      'flyouts',
      'flyouts.cover',
      'flyouts.linkTrigger',
      'flyouts.aligner',
      'flyouts.accessibility',
      'flyouts.sidePanel',
      'debugStream',
      'panels',
      'flyoutMetrics',
      'btf.exists',
    ).build('flyouts.create', function (a, b, d, c, e, g, f, m, l, h, q, p, w, x, t, u) {
      return function (d) {
        d = a.extend(
          {
            key: null,
            panelDataKey: null,
            event: {},
            elem: null,
            link: null,
            altMouseoutElem: null,
            mouseEnterCallback: null,
            arrow: null,
            fullWidth: !1,
            animateDown: !1,
            cover: !1,
            aligner: null,
            sidePanel: !1,
            linkCounter: !1,
            clickThrough: !0,
            clickTrigger: !1,
            spinner: !0,
            className: 'nav-coreFlyout',
            suspendTabbing: !1,
            disableCoverPinned: !1,
            timeoutDelay: 5e3,
            mouseoutTimeOut: 250,
            enableFlyoutBuffer: !0,
          },
          d,
        )
        ;(d.key && d.link && 0 !== d.link.length) || x('Bad Flyout Config (key: ' + d.key + ')')
        'string' === typeof d.event && (d.event = { t: d.event })
        var k = e({
            dataKey: d.panelDataKey || d.key + 'Content',
            className: 'nav-flyout-content',
            spinner: d.spinner,
            visible: !0,
            timeoutDataKey: d.key + 'Timeout',
            timeoutDelay: d.timeoutDelay,
          }),
          n = m.create({
            name: d.key,
            link: d.link,
            buildNode: function () {
              var b = d.elem || a("\x3cdiv id\x3d'nav-flyout-" + d.key + "'\x3e\x3c/div\x3e")
              b.addClass(d.className)
              d.arrow &&
                b.append(
                  "\x3cdiv class\x3d'nav-arrow'\x3e\x3cdiv class\x3d'nav-arrow-inner'\x3e\x3c/div\x3e\x3c/div\x3e",
                )
              b.append(k.elem())
              return b
            },
            anchor: d.anchor,
            transition: d.transition,
            enableFlyoutBuffer: d.enableFlyoutBuffer,
          }),
          y = null
        n.onAlign(function () {
          y ||
            (y = (d.aligner || q)({
              $flyout: n.elem(),
              $link: d.link,
              $key: d.key,
              arrow: d.arrow,
              fullWidth: d.fullWidth,
            }))
          y()
        })
        if (d.link) {
          var r = p({
            link: d.link,
            onEscape: function () {
              n.hide()
              d.link.focus()
            },
          })
          n.a11y = r
          u.attachTo(n)
          n.a11ysetup = function () {
            if (!d.suspendTabbing) {
              var b = a(n.elem().find('.nav-flyout-content').find('.nav-link,\x3ea,\x3espan'))
              0 < b.length ? r.elems(b) : r.elems(a(n.elem().find('a')))
            }
          }
          n.onShow(
            b.once().on(function () {
              n.a11ysetup()
            }),
          )
          n.onShow(function () {
            d.link.addClass('nav-active')
          })
          n.onHide(function () {
            d.link.removeClass('nav-active')
            r.disable()
          })
          n.onShow(function () {
            if ('ewc' !== n.getName()) {
              var b = m.get('ewc')
              b && b.isPersistent() && b.elem().css({ zIndex: '1' })
              ;(b = a('.nav-ewc-arrow')) && b.css({ borderRight: '6px solid #666666' })
            }
          })
          n.onHide(function () {
            if ('ewc' !== n.getName()) {
              var b = m.get('ewc'),
                c = a('.nav-ewc-arrow')
              b && b.isPersistent() && b.elem().css({ zIndex: '' })
              c && c.css({ borderRight: '' })
            }
          })
        }
        n.onShow(function () {
          k.startTimeout()
        })
        n.onInteract(
          b.once().on(function () {
            g(d.event)
          }),
        )
        k.onData(function (a) {
          if ('wlTriggers' in a)
            if (n.hasInteracted() && n.isVisible()) f.trigger(a.wlTriggers)
            else
              n.onInteract(
                b.once().on(function () {
                  f.trigger(a.wlTriggers)
                }),
              )
        })
        n.getPanel = function () {
          return k
        }
        d.sidePanel && w(n)
        if (d.link) {
          d.cover && l(n, d.disableCoverPinned)
          if (d.linkCounter) {
            var C = b.memoize().on(function () {
              return a("\x3cspan class\x3d'nav-counter'\x3e\x3c/span\x3e").insertBefore(
                a('.nav-icon', d.link),
              )
            })
            c.observe(d.key + '-counter', function (a) {
              0 >= a
                ? (C().hide(), d.link.removeClass('nav-hasCounter'))
                : (C().show().text(a), d.link.addClass('nav-hasCounter'))
            })
          }
          var A = h(
            n,
            d.link,
            d.altMouseoutElem,
            d.mouseEnterCallback,
            d.clickThrough,
            d.clickTrigger,
            d.mouseoutTimeOut,
          )
          n.mouseOutUtility = A
          n.animateDown = d.animateDown
        }
        n.onDestroy(function () {
          t.destroy(k.getName())
        })
        return n
      }
    })
  })(l.$Nav)
  ;(function (f) {
    f.when('$', 'flyouts.anchor', 'util.Aligner', 'config').build(
      'flyouts.aligner',
      function (a, b, d, c) {
        var e = a('#navbar')
        return function (c) {
          c = a.extend({ $flyout: null, $link: null, arrow: null, fullWidth: !1 }, c)
          var g = new d({
              base: c.$link,
              target: c.$flyout,
              offsetTo: e,
              constrainTo: e,
              constrainBuffer: [3, 3, 0, 3],
              constrainChecks: [!0, !0, !1, !0],
              alignTo: b(),
              anchor: 'top left',
              from: 'bottom left',
              to: 'nav-flyout-accountList' === c.$flyout.context.id ? 'top center' : 'top left',
              fullWidth: c.fullWidth,
              fullWidthCss: {
                'border-radius': '0px',
                'border-right': '0px',
                'border-left': '0px',
                'padding-left': '0px',
                'padding-right': '0px',
                'min-width': '1000px',
                'max-width': e.width(),
              },
            }),
            f = null
          'top' === c.arrow &&
            (f = new d({
              base: a('.nav-arrow, .nav-icon', c.$link).filter(':visible'),
              target: a('.nav-arrow', c.$flyout),
              offsetTo: e,
              alignTo: c.$flyout,
              anchor: 'top left',
              from: 'center',
              to: 'center',
            }))
          return function () {
            'accountListRedesign' !== c.$key && g.align()
            f && f.align()
          }
        }
      },
    )
  })(l.$Nav)
  ;(function (f) {
    f.when('$', 'data', 'config', 'nav.createTooltip', 'SignInRedirect')
      .iff({ name: 'config', prop: 'signInTooltip' })
      .run('tooltip.signin', function (a, b, d, c, e) {
        b.observe('signinContent', function (b) {
          if (b.html && !d.primeDay) {
            var g = a('#navbar'),
              f = a('#nav-link-yourAccount')
            d.accountList && (f = a('#nav-link-accountList'))
            var n = c({
              name: 'signinTT',
              content: b.html,
              className: 'nav-signin-tt',
              timeout: 1e4,
              align: {
                base: f,
                from: 'bottom center',
                to: 'top center',
                constrainTo: g,
                constrainBuffer: [3, 3, 0, 3],
                constrainChecks: [!0, !0, !1, !0],
              },
              arrow: 'top',
            })
            if (d.signInOverride)
              n.onRender(function () {
                var b = a('[data-nav-role\x3d"signin"]', n.elem())
                a.each(b, function (b, c) {
                  e.setRedirectUrl(a(c), null, null)
                })
              })
            n.fadeIn()
          }
        })
      })
  })(l.$Nav)
  ;(function (f) {
    f.when(
      '$',
      '$F',
      'config',
      'flyouts.create',
      'SignInRedirect',
      'dataPanel',
      'util.addCssRule',
      'flyout.accountList',
    ).run('flyout.yourAccount', function (a, b, d, c, e, g, f, m) {
      return d.accountList
        ? m
        : (function () {
            var b = { t: 'ya' }
            1 === a('#nav-noti-wrapper .nav-noti-content').length && (b.noti = 1)
            var g = !1,
              f = !1
            d.primeDay || (f = g = !0)
            var k = c({
                key: 'yourAccount',
                link: a('#nav-link-yourAccount'),
                event: b,
                sidePanel: !0,
                linkCounter: !0,
                arrow: 'top',
                cover: g,
                disableCoverPinned: f,
                animateDown: d.flyoutAnimation,
              }),
              m = !1
            k.getPanel().onData(function (b) {
              b.signInHtml &&
                !m &&
                (k.elem().prepend(b.signInHtml),
                (m = !0),
                d.signInOverride &&
                  ((b = a('[data-nav-role\x3d"signin"]', k.elem())),
                  a.each(b, function (b, c) {
                    e.setRedirectUrl(a(c), null, null)
                  })))
            })
            return k
          })()
    })
    f.when(
      '$',
      'agent',
      '$F',
      'data',
      'flyout.yourAccount',
      'config.dismissNotificationUrl',
      'config',
      'page.domReady',
    ).run('sidepanel.yaNotis', function (a, b, d, c, e, g, f) {
      if (!f.primeDay) {
        var k = a('#nav-noti-wrapper'),
          n = a('.nav-noti-content', k),
          h = {
            count: parseInt(n.attr('data-noti-count') || '0', 10),
            render: function () {
              var a = h.count
              1 > a && (a = 0)
              9 < a && (a = '9+')
              c({ 'yourAccount-counter': a })
            },
            decrement: function () {
              h.count = Math.max(h.count - 1, 0)
              h.render()
            },
          }
        k.remove()
        if (1 !== n.length || 1 > h.count) return !1
        e.sidePanel.onRender(function () {
          var c = this.elem(),
            k = a('.nav-noti-item', c).not('#nav-noti-empty'),
            m = function () {
              var b = function () {
                var b = a('#nav-noti-all', c)
                a('.nav-noti-title')
                var d = c.height() - b.outerHeight(!0),
                  e = !1
                k.each(function () {
                  var b = a(this)
                  e
                    ? b.hide()
                    : ((d -= a(this).outerHeight()), 0 < d ? b.show() : ((e = !0), b.hide()))
                })
              }
              f.flyoutAnimation ? e.setSidePanelCallback(b) : b()
            }
          k.each(function () {
            var c = a(this)
            b.touch
              ? c.addClass('nav-noti-touch')
              : c.hover(
                  function () {
                    a(this).addClass('nav-noti-hover')
                  },
                  function () {
                    a(this).removeClass('nav-noti-hover')
                  },
                )
            a('.nav-noti-x', c)
              .click(function (b) {
                a.ajax({
                  url: g,
                  type: 'POST',
                  data: { id: c.attr('data-noti-id') },
                  cache: !1,
                  timeout: 500,
                })
                c.slideUp(300, function () {
                  c.remove()
                  m()
                })
                h.decrement()
                0 === h.count && e.sidePanel.hide()
                b.preventDefault()
                return !1
              })
              .hover(
                function () {
                  a(this).addClass('nav-noti-x-hover')
                },
                function () {
                  a(this).removeClass('nav-noti-x-hover')
                },
              )
          })
          if (e.isVisible()) m()
          else e.onShow(d.once().on(m))
        })
        c({ 'yourAccount-sidePanel': { html: n[0].outerHTML } })
        h.render()
        return !0
      }
    })
    f.when('$', 'data', 'logEvent', 'sidepanel.csYourAccount', 'page.domReady')
      .iff({ name: 'sidepanel.csYourAccount', op: 'falsey' })
      .run('sidepanel.yaHighConf', function (a, b, d) {
        var c = a('#csr-hcb-wrapper')
        a = a('.csr-hcb-content', c)
        c.remove()
        if (1 !== a.length) return !1
        d({ t: 'hcb' })
        b({ 'yourAccount-sidePanel': { html: a[0].outerHTML } })
        return !0
      })
    f.when('$', '$F', 'config', 'flyout.yourAccount', 'SignInRedirect').run(
      function (a, b, d, c, e) {
        c.onRender(function () {
          a('#nav-item-switch-account').click(function () {
            var b = a('#nav-item-switch-account')
            e.setRedirectUrl(
              a(b),
              0 <= l.location.pathname.indexOf('/gp/buy/thankyou')
                ? new URL('/', l.location.origin).href
                : null,
              null,
            )
          })
        })
        if (d.yourAccountPrimeURL) {
          var g = b.once().on(function () {
            new Image().src = d.yourAccountPrimeURL
          })
          c.onRender(function () {
            a('#nav_prefetch_yourorders').mousedown(function () {
              g()
            })
            if (d.yourAccountPrimeHover) {
              var b = null
              a('#nav_prefetch_yourorders').hover(
                function () {
                  b = l.setTimeout(function () {
                    g()
                  }, 75)
                },
                function () {
                  b && (l.clearTimeout(b), (b = null))
                },
              )
            }
          })
        }
      },
    )
  })(l.$Nav)
  ;(function (f) {
    f.when('$', 'config').build('prime.presentation', function (a, b) {
      var d = {}
      return function (b, e, g) {
        b = { id: b, pt: e, et: new Date().getTime() }
        b = a.extend(b, g)
        g = b
        e = []
        for (c in g) g.hasOwnProperty(c) && 'et' !== c && e.push(c + ':' + g[c])
        e.sort()
        var c = e.join('|')
        d[c] || ((d[c] = !0), l.ue && l.ue.log && l.ue.log(b, 'prime-presentation-metrics'))
      }
    })
    f.when('$', 'config').build('prime.metadata', function (a, b) {
      return function (d) {
        var c = {}
        b.requestId && (c.r = b.requestId)
        b.sessionId && (c.s = b.sessionId)
        a(d).each(function (b) {
          b = a(this).attr('data-metadata')
          'string' === typeof b &&
            Object.prototype.hasOwnProperty.call(l, 'JSON') &&
            (b = l.JSON.parse(b))
          var d = {}
          b && b.hasOwnProperty('customerID') && (d.cid = b.customerID)
          b && b.hasOwnProperty('marketplaceID') && (d.mid = b.marketplaceID)
          b && b.hasOwnProperty('containerRequestID') && (d.mgid = b.containerRequestID)
          c = a.extend(c, d)
          return !1
        })
        return c
      }
    })
    f.when(
      '$',
      '$F',
      'config',
      'data',
      'prime.presentation',
      'prime.metadata',
      'flyouts.create',
      'flyouts.accessibility',
      'util.checkedObserver',
    ).run('flyout.amazonprime', function (a, b, d, c, e, g, f, m, n) {
      if (!(d.genz && d.genzMap && d.genzMap.genzPrime)) {
        var k = a('#nav-link-amazonprime'),
          l = function (c) {
            var f = m({
                link: k,
                onEscape: function () {
                  c.hide()
                  k.focus()
                },
              }),
              h = 0,
              l = n({
                check: function (a) {
                  return 2 === h
                },
                observe: function (a) {
                  e(1, 'PrimeNavigationMenu', g('div#prime-ms3-nav-metadata'))
                },
              })
            c.getPanel().onRender(
              b.once().on(function () {
                d.dynamicMenuArgs &&
                  d.dynamicMenuArgs.primeMenuWidth &&
                  c.elem().css({ width: d.dynamicMenuArgs.primeMenuWidth + 'px' })
                f.elems(a('.nav-hasPanel, a', c.elem()))
                c.align()
                h++
                l()
              }),
            )
            c.onInteract(
              b.once().on(function () {
                h++
                l()
              }),
            )
            c.onShow(
              b.once().on(function () {
                f.elems(a('.nav-hasPanel, a', c.elem()))
              }),
            )
          }
        return (function () {
          c.observe('primeMenu', function (a) {
            c({ primeContent: { html: a } })
          })
          var a = f({
            key: 'amazonprime',
            link: k,
            clickThrough: !0,
            event: 'amazonprime',
            arrow: 'top',
            suspendTabbing: !0,
            cover: !0,
            animateDown: d.flyoutAnimation,
          })
          l(a)
          return a
        })()
      }
    })
    f.when(
      '$',
      '$F',
      'flyouts.create',
      'util.Aligner',
      'flyouts.anchor',
      'dataProviders.primeTooltip',
    ).run('flyout.primeTooltip', function (a, b, d, c, e, g) {
      if (a('#nav-logo .nav-prime-try').html()) {
        var f = d({
          key: 'primeTooltip',
          link: a('#nav-logo .nav-logo-tagline'),
          event: 'prime-tt',
          arrow: 'top',
          className: '',
          aligner: function (b) {
            var d = new c({
              base: b.$link,
              target: b.$flyout,
              from: 'middle right',
              to: 'middle left',
              anchor: 'top left',
              alignTo: e(),
              constrainTo: a('#navbar'),
              constrainBuffer: [3, 0, 0, 3],
              constrainChecks: [!0, !1, !1, !0],
              offsetTo: a('#navbar'),
            })
            return function () {
              d.align()
            }
          },
        })
        f.getPanel().onRender(
          b.once().on(function () {
            f.getPanel().elem().attr('id', 'nav-prime-tooltip')
          }),
        )
        f.show.check(function () {
          if (!this.getPanel().isRendered())
            return (
              g.load() &&
                setTimeout(function () {
                  f.show()
                }, 10),
              !1
            )
        })
        a('#nav-prime-tooltip').remove()
        return f
      }
    })
  })(l.$Nav)
  ;(function (f) {
    f.when('$', '$F', 'flyouts.create', 'util.Aligner', 'config', 'cover').build(
      'iss.flyout',
      function (a, b, d, c, e, g) {
        a('#navbar')
        var k = a('#nav-search'),
          m = a('#twotabsearchtextbox'),
          n = a('.nav-search-field', k),
          h = a('.nav-search-submit'),
          q = a(l),
          p = !e.primeDay,
          w = b.memoize().on(function () {
            return a("\x3cdiv id\x3d'nav-flyout-iss-anchor' /\x3e").insertAfter('#nav-belt')
          }),
          x = d({
            key: 'searchAjax',
            className: 'nav-issFlyout',
            event: 'searchAjax',
            spinner: !1,
            enableFlyoutBuffer: !1,
            anchor: w(),
            aligner: function (a) {
              var b = new c({
                base: m,
                target: a.$flyout,
                from: 'bottom left',
                to: 'top left',
                anchor: 'top left',
                alignTo: w(),
              })
              return function () {
                b.align()
              }
            },
          }),
          t = function () {
            var b = n.width()
            b += h.width()
            a(x.elem()).width(b)
          }
        x.onShow(function () {
          q.bind('resize', t)
          t()
          p && g.show()
        })
        x.onHide(function () {
          q.unbind('resize', t)
          p && g.hide()
        })
        f.declare('search.flyout', x)
        return x
      },
    )
  })(l.$Nav)
  ;(function (f) {
    f.when(
      '$',
      '$F',
      'config',
      'nav.createTooltip',
      'util.ajax',
      'data',
      'logUeError',
      'now',
      'util.Aligner',
      'metrics',
      'page.domReady',
    )
      .iff({ name: 'config', prop: 'primeTooltip' })
      .run('tooltip.prime', function (a, b, d, c, e, g, f, m, n, h) {
        g = {
          type: 'load',
          isPrime: d.isPrimeMember,
          referrer: document.referrer,
          height: a(l).height(),
          width: a(l).width(),
        }
        d = d.primeTooltip.url
        var k = a('#navbar'),
          p = a('#nav-link-amazonprime'),
          w = null,
          x = b.memoize().on(function (b) {
            var c = a('.nav-arrow', b)
            return 0 < c.length
              ? new n({
                  base: p,
                  target: c,
                  offsetTo: k,
                  alignTo: b,
                  anchor: 'top left',
                  from: 'center',
                  to: 'center',
                })
              : { align: function () {} }
          })
        f = a('#nav-xshop')
        b = a('#nav-link-amazonprime')
        if (b.length && f.length)
          return (
            (f = f.offset().top + f.outerHeight()),
            b.offset().top + b.outerHeight() < f &&
              e({
                url: d,
                data: g,
                error: function () {
                  h.increment('nav-tooltip-Prime-errorCount')
                },
                success: function (b) {
                  b &&
                    b.content &&
                    ((w = c({
                      key: 'primeFlyoutTT',
                      event: 'primeFlyoutTT',
                      content: a('\x3cdiv\x3e\x3c/div\x3e').html(b.content),
                      name: 'primeFlyoutTT',
                      className: 'nav-prime-tt',
                      timeout: 1e4,
                      align: {
                        base: p,
                        from: 'bottom center',
                        to: 'top center',
                        constrainTo: k,
                        constrainBuffer: [3, 3, 0, 3],
                        constrainChecks: [!0, !0, !1, !0],
                      },
                      arrow: 'top',
                      onAlign: function () {
                        x(this.elem()).align()
                      },
                    })),
                    w.fadeIn())
                },
              }),
            w
          )
      })
  })(l.$Nav)
  ;(function (f) {
    f.when('$', 'config', 'flyouts.create', 'util.ajax', 'metrics', 'page.domReady')
      .iff({ name: 'config', prop: 'pseudoPrimeFirstBrowse' })
      .run('tooltip.pseudoPrime', function (a, b, d, c, e) {
        var f = {
            triggerType: 'load',
            referrer: document.referrer,
            height: a(l).height(),
            width: a(l).width(),
          },
          k = b.pseudoPrimeFirstBrowse.url,
          m = a('#nav-cart'),
          n = null
        c({
          url: k,
          data: f,
          error: function () {
            e.increment('nav-pseudo-prime-first-browse-errorCount')
          },
          success: function (c) {
            c &&
              c.content &&
              ((n = d({
                key: 'pseudoPrimeFirstBrowseMessage',
                link: m,
                event: 'pseudoPrimeFirstBrowseMessage',
                arrow: 'top',
                elem: a('\x3cdiv\x3e\x3c/div\x3e').html('\x3cdiv\x3e' + c.content + '\x3c/div\x3e'),
                className: 'nav-pseudo-prime-first-browse-message',
                spinner: !1,
                animateDown: b.flyoutAnimation,
              })),
              n.show())
          },
        })
        return n
      })
  })(l.$Nav)
  ;(function (f) {
    f.when(
      '$',
      '$F',
      'data',
      'config',
      'flyouts.create',
      'flyouts.accessibility',
      'debug.param',
    ).run('flyout.cart', function (a, b, d, c, e, g, k) {
      if (!k('navShowCart') && (c.cartFlyoutDisabled || c.ewc)) return !1
      var m = a('#nav-cart'),
        n = e({
          key: 'cart',
          link: m,
          event: 'cart',
          className: 'nav-cartFlyout',
          arrow: 'top',
          suspendTabbing: !0,
          cover: !0,
          disableCoverPinned: !0,
        }),
        h = g({
          link: m,
          onEscape: function () {
            n.hide()
            m.focus()
          },
        })
      n.getPanel().onRender(function () {
        a('#nav-cart-flyout').removeClass('nav-empty')
        a('.nav-dynamic-full', n.elem()).addClass('nav-spinner')
        f.when('CartContent').run('CartContentApply', function (b) {
          d.observe('cartItems', function (c) {
            b.render(c)
            var e = 0
            c.count && (e = parseInt(c.count, 10))
            c.fresh && c.fresh.count
              ? (e += parseInt(c.fresh.count, 10))
              : c.cart &&
                c.cart.fresh &&
                c.cart.fresh.count &&
                (e += parseInt(c.cart.fresh.count, 10))
            d({ cartCount: e })
            a('.nav-dynamic-full', n.elem()).removeClass('nav-spinner')
            h.elems(a('.nav-hasPanel, a', n.elem()))
            n.isVisible() && n.align()
          })
        })
      })
      n.onShow(
        b.once().on(function () {
          h.elems(a('.nav-hasPanel, a', n.elem()))
        }),
      )
      n.onShow(function () {
        0 < a('#navbar.nav-pinned').length && n.hide()
      })
      return n
    })
    f.when('$', 'data', 'config', 'nav.inline').run('setupCartCount', function (a, b, d) {
      b.observe('cartCount', function (b) {
        var c = {
            en_US: '${count} item in cart',
            ml_IN: '${count}  ',
            zh_TW: '${count} ',
            hi_IN: '  ${count} ',
            it_IT: '${count} articolo nel carrello',
            mr_IN: '${count}',
            kn_IN: '  ${count} ',
            ar_AE: '${count}    ',
            he_IL: ' ${count} ',
            en_CA: '${count} item in cart',
            en_GB: '${count} item in shopping basket',
            en_IE: '${count} item in shopping basket',
            cs_CZ: '${count} poloka v nkupnm koku',
            es_MX: '${count} artculo en el carrito',
            en_ZA: '${count} item in shopping basket',
            ko_KR: ' ${count} ',
            da_DK: '${count} vare i indkbskurven',
            en_AE: '${count} item in cart',
            ja_JP: '${count}',
            nl_NL: '${count} item in winkelwagen',
            es_ES: '${count} artculo en la cesta',
            el_GR: '${count}   ',
            fr_CA: '${count} article dans le panier',
            zh_CN: ' ${count} ',
            es_CL: '${count} artculo en el carrito',
            nl_BE: '${count} item in winkelwagen',
            en_AU: '${count} item in shopping basket',
            ms_MY: '${count} item dalam troli',
            bn_IN: ' ${count} ',
            es_CO: '${count} artculo en el carrito',
            te_IN: '  ${count} ',
            en_IN: '${count} item in cart',
            pt_BR: '${count} item no carrinho',
            pl_PL: 'Liczba przedmiotw w koszyku: ${count}',
            en_NG: '${count} item in shopping basket',
            en_SG: '${count} item in cart',
            tr_TR: 'Alveri sepetinde ${count} rn var',
            ta_IN: '  ${count}  ',
            es_US: '${count} artculo en el carrito',
            pt_PT: '${count} produtos no carrinho de compras',
            ru_RU: '${count}   ',
            fr_BE: '${count} article dans le panier',
            sv_SE: '${count} artiklar i kundvagnen',
            de_DE: '${count} Artikel in Einkaufswagen',
            fr_FR: '${count} article dans le panier',
          },
          f = {
            en_US: '${count} items in cart',
            es_ES: '${count} artculos en la cesta',
            de_DE: '${count} Artikel in Einkaufswagen',
            en_AU: '${count} items in shopping basket',
            pt_PT: '${count} produtos no carrinho de compras',
            cs_CZ: '${count} poloek v koku',
            nl_BE: '${count} items in winkelwagen',
            pl_PL: 'Liczba przedmiotw w koszyku: ${count}',
            en_IN: '${count} items in cart',
            kn_IN: '  ${count} ',
            ml_IN: '${count}  ',
            hi_IN: '   ${count} ',
            ta_IN: ' ${count} ',
            da_DK: '${count} varer i indkbskurven',
            es_CO: '${count} artculos en el carrito',
            he_IL: '${count}  ',
            sv_SE: '${count} artiklar i kundvagnen',
            es_US: '${count} artculos en el carrito',
            ja_JP: '${count}',
            en_NG: '${count} items in shopping basket',
            nl_NL: '${count} items in winkelwagen',
            fr_CA: '${count} articles dans le panier',
            pt_BR: '${count} itens no carrinho',
            en_GB: '${count} items in shopping basket',
            ko_KR: ' ${count} ',
            ms_MY: '${count} item dalam troli',
            es_CL: '${count} artculos en el carrito',
            zh_CN: ' ${count} ',
            en_CA: '${count} items in cart',
            en_ZA: '${count} items in shopping basket',
            es_MX: '${count} artculos en el carrito',
            en_SG: '${count} items in cart',
            it_IT: '${count} articoli nel carrello',
            zh_TW: '${count} ',
            en_AE: '${count} items in cart',
            en_IE: '${count} items in shopping basket',
            fr_BE: '${count} articles dans le panier',
            fr_FR: '${count} articles dans le panier',
            el_GR: '${count}   ',
            bn_IN: ' ${count}  ',
            mr_IN: '${count}',
            ru_RU: '${count}   ',
            tr_TR: 'Alveri sepetinde ${count} rn var',
            te_IN: '  ${count}  ',
            ar_AE: '${count}    ',
          },
          k = {
            en_US: '${count} items in cart',
            ml_IN: '${count}  ',
            kn_IN: '  ${count} ',
            hi_IN: '   ${count} ',
            ko_KR: ' ${count} ',
            ja_JP: '${count}',
            en_GB: '${count} items in shopping basket',
            el_GR: '${count}   ',
            zh_CN: ' ${count} ',
            pt_BR: '${count} itens no carrinho',
            pl_PL: 'Liczba przedmiotw w koszyku: ${count}',
            en_NG: '${count} items in shopping basket',
            de_DE: '${count} Artikel in Einkaufswagen',
            en_IN: '${count} items in cart',
            pt_PT: '${count} produtos no carrinho de compras',
            ms_MY: '${count} item dalam troli',
            es_CL: '${count} artculos en el carrito',
            nl_NL: '${count} items in winkelwagen',
            ta_IN: ' ${count} ',
            en_AU: '${count} items in shopping basket',
            cs_CZ: 'Poet poloek v nkupnm koku: ${count}',
            fr_FR: '${count} articles dans le panier',
            tr_TR: 'Alveri sepetinde ${count} rn var',
            es_CO: '${count} artculos en el carrito',
            en_AE: '${count} items in cart',
            en_CA: '${count} items in cart',
            es_ES: '${count} artculos en la cesta',
            he_IL: '${count}  ',
            en_IE: '${count} items in shopping basket',
            da_DK: '${count} varer i indkbskurven',
            it_IT: '${count} articoli nel carrello',
            en_ZA: '${count} items in shopping basket',
            es_MX: '${count} artculos en el carrito',
            nl_BE: '${count} items in winkelwagen',
            es_US: '${count} artculos en el carrito',
            zh_TW: '${count} ',
            ar_AE: '${count}    ',
            te_IN: '  ${count}  ',
            fr_CA: '${count} articles dans le panier',
            fr_BE: '${count} articles dans le panier',
            en_SG: '${count} items in cart',
            bn_IN: ' ${count}  ',
            mr_IN: '${count}',
            ru_RU: '${count}   ',
            sv_SE: '${count} artiklar i kundvagnen',
          },
          m = a('#nav-cart-menu-button-count .nav-cart-count, #nav-cart .nav-cart-count'),
          n = a('#nav-cart .nav-cart-count')
        b += ''
        b.match(/^(|0|[1-9][0-9]*|99\+)$/) || (b = 0)
        b = parseInt(b, 10) || 0
        n.removeClass('nav-cart-0 nav-cart-1 nav-cart-10 nav-cart-20 nav-cart-100')
        var h =
          0 === b
            ? 'nav-cart-0'
            : 10 > b
              ? 'nav-cart-1'
              : 20 > b
                ? 'nav-cart-10'
                : 100 > b
                  ? 'nav-cart-20'
                  : 'nav-cart-100'
        m.html(100 <= b ? '99+' : b.toString())
        n.addClass(h)
        m = d.languageCode.toString()
        m = m in k ? m : 'en_US'
        c = (c = 1 < b ? k[m] : 1 === b ? c[m] : f[m])
          ? c.replace('${count}', 100 <= b ? '99+' : b.toString())
          : c
        a('#nav-cart').attr('aria-label', c)
        0 === b
          ? (a('#nav-cart-one, #nav-cart-many').hide(), a('#nav-cart-zero').show())
          : 1 >= b
            ? (a('#nav-cart-zero, #nav-cart-many').hide(), a('#nav-cart-one').show())
            : (a('#nav-cart-zero, #nav-cart-one').hide(), a('#nav-cart-many').show())
      })
    })
    f.when('$', 'data', 'nav.inline').run('setupVehicleCartCount', function (a, b) {
      b.observe('vehicleCartCount', function (b) {
        b = String(b)
        b.match(/^(|0|[1-9][0-9]*|99\+)$/) || (b = 0)
        b = parseInt(b, 10) || 0
        100 <= b && (b = '99+')
        a('#cosworth-subnav-cart-count').html(b)
      })
    })
    f.when(
      '$',
      '$F',
      'util.templates',
      'util.Ellipsis',
      'util.inlineBlock',
      'nav.inline',
      'cartTemplateAvailable',
    ).build('CartContent', function (a, b, d, c, e) {
      var g = f.getNow('config.doubleCart'),
        k = a('#nav-cart-flyout'),
        m = { content: a('#nav-cart-standard') }
      m.title = a('.nav-cart-title', m.content)
      m.subtitle = a('.nav-cart-subtitle', m.content)
      m.items = a('.nav-cart-items', m.content)
      var n = { content: a('#nav-cart-pantry') }
      n.title = a('.nav-cart-title', n.content)
      n.subtitle = a('.nav-cart-subtitle', n.content)
      n.items = a('.nav-cart-items', n.content)
      var h = { content: a('#nav-cart-fresh') }
      h.title = a('.nav-cart-title', h.content)
      h.subtitle = a('.nav-cart-subtitle', h.content)
      h.items = a('.nav-cart-items', h.content)
      var l = k.attr('data-one'),
        p = k.attr('data-many'),
        w = n.content.attr('data-box'),
        x = n.content.attr('data-boxes'),
        t = n.content.attr('data-box-filled'),
        u = n.content.attr('data-boxes-filled'),
        r = function (b) {
          b = a.extend(
            !0,
            {
              title: !0,
              subtitle: !0,
              boxes: 0,
              items: [],
              count: 0,
              $parent: null,
              doubleWide: !1,
            },
            b,
          )
          var f = b.$parent
          b.title && b.doubleWide
            ? e(f.title)
            : b.title
              ? f.title.css({ display: 'block' })
              : f.title.hide()
          f.subtitle.html('').hide()
          if (b.subtitle) {
            var g = [],
              k = ''
            if (0 < b.boxes) {
              var h = Math.ceil(b.boxes)
              1 === h ? g.push(w.replace('{count}', h)) : g.push(x.replace('{count}', h))
            }
            1 === b.count
              ? g.push(l.replace('{count}', b.count))
              : 1 < b.count && g.push(p.replace('{count}', b.count))
            if (0 < b.boxes) {
              h = Math.floor(b.boxes)
              var m = Math.round(1e3 * (b.boxes - h)) / 10
              0 === h || 0 === m
                ? g.push(t.replace('{pct}', 0 === m ? 100 : m))
                : g.push(u.replace('{pct}', m))
            }
            for (h = 0; h < g.length; h++)
              k +=
                "\x3cspan class\x3d'nav-cart-subtitle-item " +
                (0 === h ? 'nav-firstChild ' : '') +
                (h === g.length - 1 ? 'nav-lastChild ' : '') +
                "'\x3e" +
                g[h] +
                '\x3c/span\x3e'
            f.subtitle.html(k)
            b.doubleWide ? e(f.subtitle) : f.subtitle.css({ display: 'block' })
          }
          0 < b.items.length && f.items && f.items.html(d.use('cart', { items: b.items }))
          c.newInstance()
            .elem(a('.nav-cart-item-title', f.content))
            .external(!0)
            .dimensions(function (a) {
              return {
                width: parseInt(a.css('width'), 10),
                height: 2 * parseInt(a.css('line-height'), 10),
              }
            })
            .truncate()
          f.content.show()
        },
        B = b.once().on(function () {
          k.addClass('nav-cart-double')
        }),
        v = b.once().on(function () {
          k.addClass('nav-cart-dividers')
        })
      return {
        render: function (b) {
          b = a.extend(
            !0,
            {
              status: !1,
              count: 0,
              items: [],
              pantry: {
                status: !1,
                count: 0,
                weight: { unit: '', value: -1 },
                boxes: 0,
                items: [],
              },
              fresh: { status: !1, count: 0, items: [] },
            },
            b,
          )
          k.removeClass('nav-cart-double nav-cart-dividers')
          var c = {
              title: !1,
              subtitle: !1,
              count: b.count - b.pantry.count,
              items: b.items,
              $parent: m,
            },
            d = {
              count: b.pantry.count,
              boxes: parseFloat(b.pantry.boxes, 10),
              items: b.pantry.items,
              $parent: n,
            },
            e = { count: b.fresh.count, items: b.fresh.items, $parent: h }
          if (b.status) k.addClass('nav-ajax-success')
          else return k.addClass('nav-ajax-error'), !1
          if (0 === b.items.length && 0 === b.pantry.items.length && 0 === b.fresh.items.length)
            return k.addClass('nav-empty').removeClass('nav-full'), !0
          k.removeClass('nav-empty').addClass('nav-full')
          if (0 < b.items.length && 0 === b.pantry.items.length && 0 === b.fresh.items.length)
            5 >= b.items.length
              ? r(c)
              : g
                ? (B(), r(a.extend(c, { items: b.items.slice(0, 10), doubleWide: !0 })))
                : r(a.extend(c, { items: b.items.slice(0, 5) }))
          else if (0 === b.items.length && 0 < b.pantry.items.length && 0 === b.fresh.items.length)
            5 >= b.pantry.items.length
              ? r(d)
              : (B(), r(a.extend(d, { items: b.pantry.items.slice(0, 10), doubleWide: !0 })))
          else if (0 === b.items.length && 0 === b.pantry.items.length && 0 < b.fresh.items.length)
            r(a.extend(e, { items: b.fresh.items.slice(0, 5), doubleWide: !0 }))
          else if (0 < b.fresh.items.length && 0 < b.items.length && 0 === b.pantry.items.length)
            v(),
              r(
                a.extend(c, {
                  items: b.items.slice(0, 4),
                  title: !0,
                  subtitle: !0,
                  doubleWide: !0,
                }),
              ),
              r(a.extend(e, { items: b.fresh.items.slice(0, 4), doubleWide: !0 }))
          else if (0 < b.fresh.items.length && 0 === b.items.length && 0 < b.pantry.items.length)
            v(),
              r(a.extend(d, { items: b.pantry.items.slice(0, 4), doubleWide: !0 })),
              r(a.extend(e, { items: b.fresh.items.slice(0, 4), doubleWide: !0 }))
          else if (0 < b.items.length && 0 < b.pantry.items.length && 0 === b.fresh.items.length)
            if ((v(), 4 >= b.items.length + b.pantry.items.length))
              r(a.extend(c, { title: !0, subtitle: !0 })), r(d)
            else {
              B()
              e = Math.ceil(b.items.length / 2)
              var f = Math.ceil(b.pantry.items.length / 2)
              2 >= e || (1 >= f && 3 === e)
                ? r(a.extend(c, { title: !0, subtitle: !0, doubleWide: !0 }))
                : r(
                    a.extend(c, {
                      items: b.items.slice(0, 1 >= f ? 6 : 4),
                      title: !0,
                      subtitle: !0,
                      doubleWide: !0,
                    }),
                  )
              2 >= f || (1 >= e && 3 === f)
                ? r(a.extend(d, { doubleWide: !0 }))
                : r(a.extend(d, { items: b.pantry.items.slice(0, 1 >= e ? 6 : 4), doubleWide: !0 }))
            }
          else
            0 < b.fresh.items.length &&
              0 < b.items.length &&
              0 < b.pantry.items.length &&
              (v(),
              r(
                a.extend(c, {
                  items: b.items.slice(0, 4),
                  title: !0,
                  subtitle: !0,
                  doubleWide: !0,
                }),
              ),
              r(a.extend(d, { items: b.pantry.items.slice(0, 4), doubleWide: !0 })),
              r(a.extend(e, { items: b.fresh.items.slice(0, 4), doubleWide: !0 })))
          return !0
        },
      }
    })
  })(l.$Nav)
  ;(function (f) {
    f.when('$', 'config', 'flyouts.create', 'dataPanel').run(
      'flyout.wishlist',
      function (a, b, d, c) {
        if (!b.accountList) {
          var e = {
            createFlyout: function () {
              return d({
                key: 'wishlist',
                link: a('#nav-link-wishlist'),
                event: 'wishlist',
                arrow: 'top',
                cover: !0,
                animateDown: b.flyoutAnimation,
              })
            },
            createWishlistDataPanel: function () {
              return c({
                id: 'nav-flyout-wl-items',
                dataKey: 'wishlistItems',
                spinner: !0,
                visible: !1,
              })
            },
            createAlexaListDataPanel: function () {
              return c({
                id: 'nav-flyout-wl-alexa',
                dataKey: 'alexaItems',
                spinner: !1,
                visible: !1,
              })
            },
            setPanelVisibilityRules: function (a) {
              a.onData(function (a) {
                0 === a.count ? this.hide() : this.show()
              })
              a.onTimeout(function () {
                this.hide()
              })
            },
            onFlyoutPanelRender: function (a) {
              e.flyout.getPanel().onRender(function (c) {
                if (!c.data || !c.data.isTimeout) {
                  var d = e.flyout.elem()
                  c = d
                  b.fullWidthCoreFlyout && (c = d.find('.nav-column:first-child .nav-panel'))
                  for (d = 0; d < a.length; d++) {
                    var f = a[d]
                    f.elem().prependTo(c).show()
                    f.startTimeout()
                  }
                }
              })
            },
            init: function () {
              var a = []
              e.flyout = e.createFlyout()
              if (b.isRecognized) {
                var c = e.createWishlistDataPanel()
                e.setPanelVisibilityRules(c)
                a.push(c)
                b.alexaListEnabled &&
                  ((c = e.createAlexaListDataPanel()), e.setPanelVisibilityRules(c), a.push(c))
              }
              e.onFlyoutPanelRender(a)
            },
          }
          e.init()
          return e.flyout
        }
      },
    )
  })(l.$Nav)
  ;(function (f) {
    f.when('$', 'flyouts.create', 'config', 'dataPanel', 'SignInRedirect', 'nav.inline').run(
      'flyout.accountList',
      function (a, b, d, c, e) {
        if (d.accountList) {
          var f = {
              createAndShowListDataPanel: function (b, d, e, f, g, h) {
                b = c({ id: b, className: e, dataKey: d, spinner: f, visible: !1 })
                this.setPanelVisibilityRules(b)
                this.setA11yRules(h, b)
                g
                  ? b.elem().appendTo(a('#nav-al-wishlist'))
                  : b.elem().insertAfter(a('#nav-al-title'))
                this.showListPanel(b)
                return b
              },
              showListPanel: function (a) {
                a.show()
                a.startTimeout()
              },
              setPanelVisibilityRules: function (a) {
                a.onData(function (a) {
                  0 === a.count ? this.hide() : this.show()
                })
                a.onTimeout(function () {
                  this.hide()
                })
              },
              setA11yRules: function (a, b) {
                b.onRender(function (b) {
                  a.a11ysetup && a.a11ysetup()
                })
              },
            },
            k = a('#a-page'),
            m = a('body'),
            n = 0,
            h = 0,
            q = b({
              key: d.accountListFlyoutRedesign ? 'accountListRedesign' : 'accountList',
              className: 'nav-coreFlyout',
              link: a('#nav-link-accountList'),
              cover: !d.primeDay,
              clickThrough: !0,
              sidePanel: !0,
              event: { t: 'ya' },
              arrow: 'top',
              animateDown: d.flyoutAnimation,
            })
          q.getPanel().onData(function (b) {
            d.signInOverride &&
              ((b = a('[data-nav-role\x3d"signin"]', q.elem())),
              a.each(b, function (b, c) {
                e.setRedirectUrl(a(c), null, null)
              }))
          })
          q.a11ysetup = function () {
            if (!opts.suspendTabbing) {
              var b = a([])
              a.each(
                '#nav-flyout-ya-signin #nav-flyout-ya-newCust #nav-al-your-account #nav-al-profile #nav-al-wishlist #bia-hcb-widget'.split(
                  ' ',
                ),
                function (c, d) {
                  b = a.merge(
                    b,
                    q
                      .elem()
                      .find(d)
                      .find('.nav-link,\x3ea,\x3espan,.a-link-normal,.a-button-input,button'),
                  )
                },
              )
              0 < b.length ? q.a11y.elems(b) : q.a11y.elems(a(q.elem().find('a')))
            }
          }
          q.getPanel().onRender(function (a) {
            d.isRecognized &&
              (f.createAndShowListDataPanel(
                'nav-flyout-wl-items',
                'wishlistItems',
                d.isNavALFRegistryGiftList ? null : 'have-bot-border',
                !0,
                !1,
                q,
              ),
              d.alexaListEnabled &&
                f.createAndShowListDataPanel(
                  'nav-flyout-wl-alexa',
                  'alexaItems',
                  d.isALFRedesignPT2 ? null : 'have-bot-border',
                  !1,
                  d.isALFRedesignPT2,
                  q,
                ))
          })
          d.accountListFlyoutRedesign &&
            (q.onShow(function () {
              var b = a('#nav-link-accountList')
              b = b.offset().top + b.outerHeight()
              a('#nav-flyout-accountListRedesign').css('top', b - l.pageYOffset)
              n = l.pageYOffset
              h = l.pageXOffset
              m.addClass('lock-position').css({ top: '-' + n + 'px', width: '100%' })
              d.isTabletBrowser || m.css({ position: 'fixed', 'overflow-y': 'scroll' })
              0 != h && m.css({ left: '-' + h + 'px' })
              k.attr('aria-hidden', 'true')
            }),
            q.onHide(function () {
              m.attr('tabIndex', 0)
                .focus()
                .removeAttr('tabIndex')
                .removeClass('lock-position')
                .css({ position: 'static', top: '', left: '' })
              d.isTabletBrowser || m.css({ 'overflow-y': 'auto' })
              l.scrollTo(h, n)
            }))
          return q
        }
      },
    )
  })(l.$Nav)
  ;(function (f) {
    f.when('$', 'config', 'util.cleanUrl').run('SignInRedirect', function (a, b, d) {
      var c = {
          setRedirectUrl: function (a, c, e) {
            var f = a.attr('href')
            if (!f) return !0
            c = c ? c : l.location.href
            var g = a.attr('data-nav-ref') || !1
            'nav-item-switch-account' === a.attr('id') && (g = 'nav_youraccount_switchacct')
            c = d(c, { https: !0, encode: !0, ref: g })
            f =
              -1 === f.indexOf('currentPageURL')
                ? f.replace(/(openid.return_to(%3D|=))[^&\?]+/g, 'openid.return_to\x3d' + c)
                : f.replace(/(currentPageURL(%3D|=))[^&\?]+/g, 'currentPageURL\x3d' + c)
            f = f.replace(/(pageType(%3D|=))[^&\?]*/g, 'pageType\x3d' + b.pageType)
            a.attr('href', f)
            e && e(f)
          },
        },
        e = a('#navbar [data-nav-role\x3d"signin"]')
      a.each(e, function (b, d) {
        c.setRedirectUrl(a(d), null, null)
      })
      return c
    })
  })(l.$Nav)
  ;(function (f) {
    f.when('$', 'data', 'config', 'page.domReady').run('timelineContent', function (a, b, d) {
      if (d.timeline) {
        d = a('#nav-timeline-wrapper')
        var c = a('#nav-timeline', d)
        b.observe('flyoutErrorContent', function (d) {
          d = a('#nav-timeline-error', a(d)[0])
          var e =
            "\x3cdiv id\x3d'nav-timeline'\x3e\x3cdiv id\x3d'nav-timeline-data' class\x3d'nav-center'\x3e" +
            d[0].outerHTML +
            '\x3c/div\x3e\x3c/div\x3e'
          0 === c.length && 1 === d.length && b({ timelineContent: { html: e } })
        })
        1 > c.length || (d.remove(), b({ timelineContent: { html: c[0].outerHTML } }))
      }
    })
    f.when(
      '$',
      '$F',
      'flyouts.create',
      'config',
      'util.Aligner',
      'flyouts.anchor',
      'carousel',
      'util.Ellipsis',
      'data',
      'provider.dynamicMenu',
      'provider.genericNavyaanData',
      'agent',
      'log',
    ).run('flyout.timeline', function (a, b, d, c, e, f, k, m, l, h, q, p, w) {
      if (c.timeline) {
        b = a('#nav-recently-viewed')
        var g = d({
            key: 'timeline',
            className: 'nav-coreFlyout nav-fullWidthFlyout',
            link: b,
            cover: !0,
            clickThrough: !0,
            event: 'timeline',
            arrow: 'top',
            fullWidth: 1,
            animateDown: c.flyoutAnimation,
          }),
          n = !1
        b.hover(
          function () {
            n = !0
          },
          function () {
            n = !1
          },
        )
        b.click(function () {
          a(this).blur()
          n && (g.show(), (n = !1))
        })
        var u = function () {
            m.newInstance()
              .elem(a('.nav-timeline-asin-title', '.nav-timeline-asin'))
              .external(!0)
              .dimensions(function (a) {
                return {
                  width: parseInt(a.css('width'), 10),
                  height: 2 * parseInt(a.css('line-height'), 10),
                }
              })
              .truncate()
          },
          r = function () {
            l.observe('timelineContent', function (b) {
              k.create(a('#nav-timeline-data'), g)
              c.timelineAsinPriceEnabled || u()
            })
          }
        g.getPanel().onRender(function () {})
        g.onShow(function () {
          r()
        })
        return g
      }
    })
    f.when('$', 'nav.createTooltip', 'config', 'flyout.timeline', 'data', 'page.domReady').run(
      'timelineTooltipDynamic',
      function (a, b, d, c, e) {
        d.timeline &&
          e.observe('timelineTooltipContent', function (c) {
            if (c.html) {
              var d = a('#navbar'),
                e = a('#nav-recently-viewed'),
                f = b({
                  name: 'timelineTT',
                  content: c.html,
                  className: 'nav-timeline-tt',
                  timeout: 'none',
                  cover: !0,
                  addCloseX: !0,
                  align: {
                    base: e,
                    from: 'bottom center',
                    to: 'top center',
                    constrainTo: d,
                    constrainBuffer: [3, 3, 0, 3],
                    constrainChecks: [!0, !0, !1, !0],
                  },
                  arrow: 'top',
                  clickCallback: function () {
                    f.hide()
                    e.trigger('mouseover')
                  },
                })
              f.fadeIn()
            }
          })
      },
    )
  })(l.$Nav)
  ;(function (f) {
    f.when('$', 'flyouts.create', 'config').run('flyout.amazonfresh', function (a, b, d) {
      return b({
        key: 'amazonfresh',
        link: a('#nav-link-amazonfresh'),
        cover: !0,
        clickThrough: !0,
        sidePanel: !0,
        event: 'amazonfresh',
        arrow: 'top',
        animateDown: d.flyoutAnimation,
      })
    })
  })(l.$Nav)
  ;(function (f) {
    f.when('$', '$F', 'flyouts.create', 'config', 'flyouts.accessibility').run(
      'flyout.groceries',
      function (a, b, d, c, e) {
        var f = a('#nav-link-groceries'),
          k = d({
            key: 'groceries',
            link: f,
            cover: !0,
            clickThrough: !0,
            sidePanel: !0,
            event: 'groceries',
            arrow: 'top',
            suspendTabbing: !0,
            animateDown: c.flyoutAnimation,
          }),
          m = e({
            link: f,
            onEscape: function () {
              k.hide()
              f.focus()
            },
          })
        k.getPanel().onRender(
          b.once().on(function () {
            m.elems(a('.nav-hasPanel, a', k.elem()))
            k.align()
          }),
        )
        k.onShow(
          b.once().on(function () {
            m.elems(a('.nav-hasPanel, a', k.elem()))
          }),
        )
        return k
      },
    )
    f.when('$', 'data').build('flyout.groceriesFlyoutUpdate', function (a, b) {
      return function () {
        b.get('groceriesContent') &&
          a('#nav-flyout-groceries').find('.nav-flyout-content').html(b.get('groceriesContent'))
      }
    })
  })(l.$Nav)
  ;(function (f) {
    f.when('$', '$F', 'util.Proximity', 'config', 'flyout.accountList').run(
      'flyout.profilePicker',
      function (a, b, d, c, e) {
        if (e) {
          var f = !1,
            k = function (a) {
              l.ue && 'function' === typeof l.ue.count && l.ue.count(a, (l.ue.count(a) || 0) + 1)
            },
            m = function (b) {
              'function' === typeof l.uex &&
                l.uex('ld', 'p13nprofilepicker:nav:fetch-flyout-desktop', { wb: 1 })
              k('p13nprofilepicker:nav:fetch-flyout-desktop:success')
              a('#nav-al-profile').append(b)
            },
            n = function () {
              k('p13nprofilepicker:nav:fetch-flyout-desktop:failure')
            },
            h = b.once().on(function () {
              k('p13nprofilepicker:nav:fetch-flyout-desktop')
              'function' === typeof l.uet &&
                l.uet('bb', 'p13nprofilepicker:nav:fetch-flyout-desktop', { wb: 1 })
              a.ajax({ type: 'GET', url: '/hz/profilepicker', success: m, error: n })
              f = !0
            }),
            q = function () {
              0 !== a('#nav-al-profile').length && h()
            }
          if (!d || c.isTabletBrowser)
            l.addEventListener ? l.addEventListener('load', q, !1) : l.attachEvent('onload', q),
              c.isTabletBrowser
                ? k('p13nprofilepicker:nav:fetch-flyout-desktop:tablet')
                : k('p13nprofilepicker:nav:fetch-flyout-desktop:no-proximity')
          else d.onEnter(e.link, [100, 100, 100, 100], q)
          e.onRender(function () {
            f || (q(), k('p13nprofilepicker:nav:fetch-flyout-desktop:onRender'))
          })
        }
      },
    )
  })(l.$Nav)
  ;(function (f) {
    f.when('$', 'config', 'nav.inline').run('enableNavbarTabbing', function (a, b) {
      if (!(2 > a('#navbar [tabindex]').get().length)) {
        a('#nav-upnav')
          .find('map area, a')
          .each(function () {
            a(this).attr('tabindex', 0)
          })
        a('#nav-swmslot')
          .find('map area, a')
          .each(function () {
            a(this).attr('tabindex', 0)
          })
          .focus(function () {
            a('#navSwmHoliday').addClass('nav-focus')
          })
          .blur(function () {
            a('#navSwmHoliday').removeClass('nav-focus')
          })
        b = a('#nav-subnav')
        var d = b.children('.nav-a')
        b.length && 2 <= d.length && d.attr('tabindex', 0)
      }
    })
    f.when('$', '$F', 'config', 'now', 'logEvent', 'util.Proximity').run(
      'setupSslTriggering',
      function (a, b, d, c, e, g) {
        var k = d.sslTriggerType,
          m = d.sslTriggerRetry
        if ('pageReady' === k || 'flyoutProximityLarge' === k) {
          var n = 'https://' + l.location.hostname + '/empty.gif',
            h = 0
          d = b.after(m + 1, !0).on(function () {
            new Image().src = n + '?' + c()
            h++
            e({ t: 'ssl', id: h + '-' + k })
          })
          var q = m ? b.debounce(45e3, !0).on(d) : b.once().on(d)
          'pageReady' === k &&
            f.when('btf.full').run('NavbarSSLPageReadyTrigger', function () {
              if (m) {
                var a = m,
                  b = function () {
                    q()
                    0 < a &&
                      (a--,
                      setTimeout(function () {
                        b()
                      }, 45100))
                  }
                b()
              } else q()
            })
          if ('flyoutProximityLarge' === k)
            var p = g.onEnter(
              a('#navbar'),
              [0, 0, 250, 0],
              function () {
                p.unbind()
                q()
              },
              m ? 45e3 : 0,
            )
        }
      },
    )
  })(l.$Nav)
  ;(function (f) {
    f.when('$', 'metrics', 'page.domReady').run('upnavMetrics', function (a, b) {
      var d = a('#nav-upnav')
      if (0 !== d.length) {
        a = d.find('a')
        d = d.find('map area')
        var c = a.length,
          e = d.length
        if (0 !== c || 0 !== e)
          if ((a = 0 < c ? a.attr('href') : d.attr('href')))
            (a = a.split('/')),
              1 < a.length &&
                ((a = a[a.length - 1].split('?')[0].split('\x3d')) && 1 < a.length && 'ref' === a[0]
                  ? b.increment('upnav-' + a[1] + '-show')
                  : b.increment('upnav show'))
      }
    })
    f.when('$', 'config.upnavAiryVideoPlayerAlignment', 'page.domReady', 'Airy.PlayerReady').run(
      'upnavAiryVideoAlignment',
      function (a, b) {
        if (b) {
          var d = a('#nav-airy-player-container .airy-renderer-container')
          if (0 !== d.length) {
            var c = a('.nav-airy-widget-wrapper'),
              e = function () {
                var a = c.width() / 2,
                  b = d.width() / 2
                d.css('left', Math.floor(a - b))
              }
            a(l).resize(function () {
              e()
            })
            e()
          }
        }
      },
    )
  })(l.$Nav)
  ;(function (f) {
    f.when('$', 'util.ajax', 'metrics', 'config').run('upnavSuppressionJS', function (a, b, d, c) {
      function e() {
        var a = Date.now()
        l.ue_t0 && d.count('Nav:Upnav:Suppress:ClickTime', Math.floor((a - l.ue_t0) / 1e3))
        d.increment('Nav:Upnav:Suppression:Click')
        b({
          retryMetric: 'nav-upnav-suppression-ajax-retry',
          errorMetric: 'nav-upnav-suppression-ajax-error',
          url: '/gp/navigation/ajax/generic.html',
          dataType: 'html',
          data: { ajaxTemplate: 'upnavSuppression' },
          error: function (a, b, c) {
            var d = { attribution: 'AmazonNavigationCards', logLevel: 'ERROR' }
            a =
              ' Upnav Suppression AJAX Call failed. Status Code : ' +
              a.status +
              ' Status text : ' +
              b +
              ' Exception : ' +
              c
            l.ueLogError && ((d.message = a), l.ueLogError(d))
          },
          success: function (b) {
            d.increment('Nav:Upnav:Suppression:Success')
            a && d.count('Nav:Upnav:Suppress:TotalTime', Math.floor((Date.now() - a) / 1e3))
          },
        })
      }
      c = a('#nav-upnav-close')
      var f = a('#nav-upnav')
      c.click(function () {
        e()
        f.hide()
      })
    })
  })(l.$Nav)
  ;(function (f) {
    f.when('$', '$F', 'config')
      .iff({ name: 'config', prop: 'newTabClick' })
      .run('newTabClick', function (a, b, d) {
        var c = d.newTabClick.targetUrlPatterns
        if (c && 0 !== c.length) {
          for (b = 0; b < c.length; b++) c[b] = new RegExp(c[b])
          var e = document.location.href.split(/#/)[0]
          a(document).click(function (b) {
            var d = b.target || b.srcElement
            if (!b.which || 1 === b.which)
              if (
                ((d = a(d)
                  .parents('a:first, area:first')
                  .andSelf()
                  .filter('a:first, area:first')
                  .eq(0)),
                0 !== d.length)
              ) {
                b = d.attr('href')
                var f
                ;(f = 0 !== (d.attr('target') || '').length || !b || b.match(/^javascript:/i)) ||
                  ((f = b.split(/#/)[0]), (f = 0 <= e.indexOf(f) ? 1 : 0))
                if (!(f = f || d.parents('#navbar').length)) {
                  a: {
                    b = b.split('?')[0]
                    for (f = 0; f < c.length; f++)
                      if (b.match(c[f])) {
                        b = 1
                        break a
                      }
                    b = 0
                  }
                  f = !b
                }
                f || d.attr('target', '_blank')
              }
          })
        }
      })
  })(l.$Nav)
  ;(function (f) {
    f.when(
      '$',
      '$F',
      'data',
      'flyouts.create',
      'flyouts.anchor',
      'util.Aligner',
      'config.transientFlyoutTrigger',
    )
      .iff({ name: 'config', prop: 'transientFlyoutTrigger' })
      .run('flyout.transient', function (a, b, d, c, e, f, k) {
        var g = a('#navbar'),
          l = a(k),
          h = function () {
            var a = l.offset().left,
              b = a + l.innerWidth()
            a = (a + b) / 2
            q.elem()
              .find('.nav-arrow')
              .css({ position: 'absolute', left: a - q.elem().offset().left })
            q.align()
          },
          q = c({
            key: 'transientFlyout',
            link: l,
            arrow: 'top',
            aligner: function (a) {
              var b = new f({
                base: a.$link,
                target: a.$flyout,
                from: 'bottom right',
                to: 'top center',
                anchor: 'top',
                alignTo: e(),
                constrainTo: g,
                constrainBuffer: [3, 0, 0, 3],
                constrainChecks: [!0, !1, !1, !0],
                offsetTo: g,
              })
              return function () {
                b.align()
              }
            },
          })
        q.onRender(
          b.once().on(function () {
            d.observe('transientFlyoutContent', function () {
              h()
            })
          }),
        )
        q.onShow(function () {
          h()
        })
        return q
      })
  })(l.$Nav)
  ;(function (f) {
    f.when(
      '$',
      '$F',
      'agent',
      'flyouts',
      'config',
      'constants',
      'metrics',
      'flyout.yourAccount',
      'nav.inline',
    ).build('pinnedNav', function (a, b, d, c, e, f, k, m) {
      if (e.pinnedNav) {
        var g = !1,
          h = !1,
          q = 'nav-pinned',
          p,
          w,
          x,
          t,
          u,
          r = 700,
          B,
          v,
          y,
          E,
          C,
          A,
          D,
          z
        e.pinnedNavStart && (r = e.pinnedNavStart)
        if (e.iPadTablet) var F = e.iPadTablet
        e.pinnedNavWithEWC && (q = 'nav-pinned nav-pinned-ewc')
        var G = b.once().on(function () {
            p = a(l)
            w = a('#navbar')
            y = a('#nav-belt')
            a('#nav-main')
            t = a('#nav-subnav')
            x = a('#nav-tools')
            v = a('#nav-shop')
            E = a('#nav-search')
            C = a('#nav-logo')
            B = "\x3cdiv class\x3d'nav-divider'\x3e\x3c/div\x3e"
            u =
              "\x3cdiv id\x3d'nav-sbd-pinned'\x3e\x3cspan class\x3d'nav-line1'\x3e\x3c/span\x3e\x3cspan class\x3d'nav-line2'\x3e\x3c/span\x3e\x3cspan class\x3d'nav-line3'\x3e\x3c/span\x3e\x3c/div\x3e"
            A = a('.nav-search-field \x3e input')
            D = a('#searchDropdownBox')
            z = c.get('cart') || J
          }),
          H = function () {
            var b = 'Search' === e.pageType
            ;((!b && 0 < t.children().length) ||
              (b && 0 === t.find('.nav-category-button').length)) &&
              t.show()
            w.removeClass(q)
            y.css('width', '100%')
            a('div', v).remove('#nav-sbd-pinned')
            a('div', x).remove('.nav-divider')
            F && (A.unbind('focus'), D.unbind('click'))
            a('#navbar').hasClass('layout3') ||
              a('#nav-belt \x3e .nav-left').css({ width: a('#nav-logo').outerWidth() })
            m.unlock()
            z.unlock()
            h = !1
          },
          L = function () {
            F &&
              ('twotabsearchtextbox' === document.activeElement.id && A.blur(),
              A.bind('focus', function (a) {
                p.scrollTop(0, 0)
              }),
              D.bind('click', function (a) {
                p.scrollTop(0, 0)
                D.blur()
              }))
            t.hide()
            w.addClass(q)
            y.css('width', N())
            w.css({ top: '-55px' })
            C.css({ top: '-55px' })
            E.css({ top: '-55px' })
            w.animate({ top: '0' }, 300)
            E.animate({ top: '0' }, 300)
            C.animate({ top: '0' }, 300)
            a('a', v).append(u)
            a(B).insertBefore('#nav-cart')
            m.lock()
            if (z.isVisible())
              z.onHide(
                b.once().on(function () {
                  z.isVisible() || z.isLocked() || !h || z.lock()
                }),
              )
            else z.lock()
            h = !0
            a('#nav-search, #nav-link-yourAccount, #nav-cart').click(function () {
              var b = a(this).attr('id')
              k.increment('nav-pinned-' + b + '-clicked')
            })
            a('#nav-link-shopall').hover(
              function () {
                var b = a(this).attr('id')
                k.increment('nav-pinned-' + b + '-hovered')
              },
              function () {},
            )
          },
          J = { lock: b.noOp, unlock: b.noOp, isVisible: b.noOp, onHide: b.noOp },
          M = function () {
            var b = a('#nav-flyout-ewc')
            0 < b.length ? '0px' !== b.css('right') && c.hideAll() : c.hideAll()
          },
          N = function () {
            var a = x.width(),
              b = v.width()
            return p.width() - a - b + f.PINNED_NAV_SEARCH_SPACING
          },
          O = function () {
            var a = p.scrollTop()
            h && a < r ? (M(), H()) : !h && a >= r && (M(), L())
          }
        return {
          enable: function () {
            g ||
              d.ie6 ||
              d.quirks ||
              (G(),
              p.bind('scroll.navFixed', O),
              p.resize(
                b.throttle(300).on(function () {
                  w.hasClass(q) && y.css('width', N())
                }),
              ),
              O(),
              (g = !0))
          },
          disable: function () {
            g && (p.unbind('scroll.navFixed'), H(), (g = !1))
          },
        }
      }
    })
  })(l.$Nav)
  ;(function (f) {
    f.when('page.loaded', '$').run('registerMoment', function (a, b) {
      document.getElementById('countdown') &&
        b.getScript(
          'https://images-na.ssl-images-amazon.com/images/G/01/poppin/JavaScript/moment.min._TTD_.js',
          function () {
            b.getScript(
              'https://images-na.ssl-images-amazon.com/images/G/01/poppin/JavaScript/moment-timezone-with-data.min._TTD_.js',
              function () {
                f.declare('moment', l.moment)
              },
            )
          },
        )
    })
    f.when('page.loaded', 'moment').run('countdowntimer', function (a, b) {
      var d = { log: function (a) {}, warn: function (a) {} },
        c = document.getElementById('countdown')
      a = c.getAttribute('data-server-time-str')
      var e = c.getAttribute('data-timer-start-at'),
        f = c.getAttribute('data-live-start-at'),
        k = c.getAttribute('data-live-end-at'),
        m = c.getAttribute('data-live-days'),
        l = c.getAttribute('data-standby-text'),
        h = c.getAttribute('data-countdown-text-prefix')
      c = c.getAttribute('data-live-text')
      ;(function (a, c, e, f, g, h, k, m) {
        var l = 'Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec'.split(' '),
          n = new Date(a)
        d.log('[poppinCountDown] loadServerTime: ' + n)
        var p = new Date(),
          q = function (a, c) {
            var d = a.split(' '),
              e = d[0].split(':')
            a = n.getFullYear()
            var f = parseInt(n.getMonth(), 10) + 1,
              g = n.getDate(),
              h =
                'pm' === d[1].toLowerCase()
                  ? (parseInt(e[0], 10) % 12) + 12
                  : parseInt(e[0], 10) % 12
            e = e[1]
            d = d[2]
            var k = b.tz('' + a + '-01-01T12:00:00', 'America/Los_Angeles').format('Z')
            f = b
              .tz(
                '' +
                  a +
                  '-' +
                  (10 > f ? '0' : '') +
                  f +
                  '-' +
                  (10 > g ? '0' : '') +
                  g +
                  'T12:00:00',
                'America/Los_Angeles',
              )
              .format('Z')
            d = k !== f ? d[0] + 'D' + d[1] : d[0] + 'S' + d[1]
            for (
              a = new Date(
                '' +
                  l[parseInt(n.getMonth(), 10)] +
                  ' ' +
                  g +
                  ' ' +
                  a +
                  ' ' +
                  h +
                  ':' +
                  e +
                  ':0 ' +
                  d,
              );
              c && a.getTime() <= c.getTime();

            )
              a = new Date(a.getTime() + 864e5)
            return a
          }
        a = q(c)
        var r = q(e, a)
        q = q(f, r)
        d.log('[csTimeStrTimerStartAt] csTimeStrTimerStartAt: ' + c)
        d.log('[countdownStart] countdownStart: ' + a)
        d.log('[csTimeStrLiveStartAt] csTimeStrLiveStartAt: ' + e)
        d.log('[liveStart] liveStart: ' + r)
        d.log('[csTimeStrLiveEndAt] csTimeStrLiveEndAt: ' + f)
        d.log('[liveEnd] liveEnd: ' + q)
        var t = a.getTime(),
          u = r.getTime(),
          w = q.getTime(),
          x = function () {
            var a = function (a) {
                document.getElementById('countdown-text').innerHTML = a
              },
              b = function (a) {
                document.getElementById('countdown-timer').innerHTML = a
              },
              c = new Date().getTime() - p.getTime(),
              d = function (a) {
                a = 'UMTWRFS'.charAt(a.getDay())
                var b
                for (b = 0; b < g.length; b++) if (g.charAt(b) === a) return !0
                return !1
              },
              e = new Date(n.getTime() + c)
            c = e.getTime()
            if (c < t || (g && !d(e))) setTimeout(x, t - c), a(h), b('')
            else if (c < u) {
              d = Math.round((u - c) / 1e3)
              e = Math.floor(d / 3600)
              var f = Math.floor((d % 3600) / 60)
              f = 10 > f ? '0' + f : f
              d %= 60
              d = 10 > d ? '0' + d : d
              a(k)
              b(' ' + e + ':' + f + ':' + d)
              setTimeout(x, 1e3 * (Math.floor((c - t) / 1e3) + 1) - (c - t))
            } else c < w ? (setTimeout(x, w - c), a(m)) : a(h), b('')
          }
        x()
      })(a, e, f, k, m, l, h, c)
    })
  })(l.$Nav)
  ;(function (f) {
    f.when(
      '$',
      'config',
      'flyout.yourAccount',
      'flyout.amazonprime',
      'flyout.wishlist',
      'nav.inline',
    ).run('primeDayNav', function (a, b, d, c, e) {
      b.primeDay && (c.lock(), e.lock())
    })
  })(l.$Nav)
  ;(function (f, a) {
    'object' === typeof l.P &&
      'function' === typeof l.P.when &&
      'function' === typeof l.P.register &&
      'function' === typeof l.P.execute &&
      (a.when('A', 'nav.refreshGroceriesProvider').execute(function (a, d) {
        a.on('packard:glow:destinationChangeAll', function () {
          d()
        })
      }),
      a
        .when(
          'A',
          'a-modal',
          'packardGlowIngressJsEnabled',
          'packardGlowStoreName',
          'navDesktopAssetsGlowWidgetConstants',
        )
        .execute('GLOWWidget', function (a, d, c, e, f) {
          function b(a) {
            l.ue && 'function' === typeof l.ue.count && l.ue.count(a, (l.ue.count(a) || 0) + 1)
          }
          if (c) {
            var g = a.$
            a.on('packard:glow:destinationChangeNav', function () {
              g.ajax({
                type: 'GET',
                url: '/portal-migration/hz/glow/get-location-label',
                data: {
                  storeContext: e,
                  pageType: l.ue_pty ? l.ue_pty : 'NoPageType',
                  actionSource: 'desktop-modal',
                },
                success: function (c) {
                  a: {
                    var h = c
                    try {
                      c = h && 'object' === typeof h ? h : l.JSON.parse(h)
                      break a
                    } catch (q) {
                      b('GLOW:parse-glow-label-response:failure')
                    }
                    c = h
                  }
                  c.deliveryLine1 && g('#glow-ingress-line1').html(c.deliveryLine1)
                  c.deliveryLine2 && g('#glow-ingress-line2').html(c.deliveryLine2)
                  c.deliveryShortLine &&
                    (g('#nav-packard-delivery').html(c.deliveryShortLine),
                    c.customerIntent &&
                      'REALM_DEFAULT' !== c.customerIntent.locationType &&
                      g('#nav-packard-glow-fy-header').removeClass('aok-hidden'))
                  c.selectedDestination &&
                    (c.selectedDestination.destinationObfuscatedAddressId &&
                      g('#unifiedLocation1ClickAddress').val(
                        c.selectedDestination.destinationObfuscatedAddressId,
                      ),
                    c.selectedDestination.destinationType &&
                      c.selectedDestination.destinationValue &&
                      (h = d.get('glow-modal')) &&
                      h.attrs(
                        'url',
                        f.ADDRESS_SELECTIONS_ENDPOINT +
                          '?selectedLocationType\x3d' +
                          c.selectedDestination.destinationType +
                          '\x26selectedLocationValue\x3d' +
                          c.selectedDestination.destinationValue +
                          '\x26deviceType\x3ddesktop\x26pageType\x3d' +
                          (l.ue_pty ? l.ue_pty : 'NoPageType') +
                          '\x26storeContext\x3d' +
                          e +
                          '\x26actionSource\x3ddesktop-modal',
                      ))
                  a.trigger('packard:glow:destinationChangeNavAck')
                },
              })
            })
            a.on('a:popover:beforeShow:glow-modal', function () {
              'function' === typeof l.uet && l.uet('bb', 'glow-modal-api-timer:desktop', { wb: 1 })
            })
            a.on('a:popover:ajaxContentLoaded:glow-modal', function () {
              'function' === typeof l.uex && l.uex('ld', 'glow-modal-api-timer:desktop', { wb: 1 })
            })
            a.on('a:popover:ajaxSuccess:glow-modal', function () {
              b('GLOW:fetch-modal:DESKTOP:success')
            })
            a.on('a:popover:ajaxFail:glow-modal', function () {
              b('GLOW:fetch-modal:DESKTOP:failure')
            })
            g('#nav-packard-glow-fy').click(function () {
              g('#nav-global-location-slot').click()
            })
          }
        }),
      f
        .when(
          '$',
          'nav.createTooltip',
          'config',
          'util.session',
          'metrics',
          'util.ajax',
          'page.domReady',
        )
        .iff({ name: 'config', prop: 'packardGlowTooltip' })
        .run('packardGlowTooltip', function (a, d, c, e, f, k) {
          var b = e.get('nav-packard-tt'),
            g = new Date().getDate(),
            h = !0,
            l = 0
          b && ((h = g >= b.date + 3), (l = b.count))
          if (!b || (3 > l && h))
            e.set('nav-packard-tt', { count: l + 1, date: g }),
              k({
                url: c.dynamicMenuUrl,
                data: {
                  packardContent: 'packardGlowFlyout',
                  pageType: c.pageType,
                  subPageType: c.subPageType,
                },
                error: function () {
                  f.increment('nav-tooltip-packard-errorCount')
                },
                success: function (b) {
                  if (b && b.packardContent.html) {
                    var e = d({
                      content: a('\x3cdiv\x3e\x3c/div\x3e').html(b.packardContent.html),
                      name: 'packardTT',
                      className: 'nav-packard-tt',
                      timeout: 7e3,
                      cover: !1,
                      align: {
                        base: a('#nav-packard-glow-fy'),
                        from: 'bottom center',
                        to: 'top center',
                        constrainTo: a('#navbar'),
                        constrainBuffer: [3, 3, 0, 0],
                        constrainChecks: [!0, !0, !1, !0],
                      },
                      arrow: 'top',
                      clickCallback: function () {
                        e.hide()
                        a('#nav-packard-glow-fy').trigger('mouseover')
                      },
                    })
                    e.fadeIn()
                    f.increment('nav-tooltip-packard-show')
                    c.pageType &&
                      f.increment('nav-tooltip-packard-' + c.pageType.toLowerCase() + '-show')
                  }
                },
              })
        }))
  })(l.$Nav, K)
  ;(function (f) {
    f.when('$', '$F', 'flyouts.create', 'config').run('flyout.packardGlow', function (a, b, d, c) {
      if (c.packardGlowFlyout)
        return (
          (a = a('#nav-packard-glow-fy')),
          d({
            key: 'packard',
            className: 'nav-coreFlyout',
            link: a,
            cover: !0,
            clickThrough: !1,
            arrow: 'top',
            event: 'packard',
          })
        )
    })
  })(l.$Nav)
  ;(function (f) {
    f.when('$', '$F', 'agent', 'flyouts', 'config.fixedBarBeacon', 'nav.inline').build(
      'fixedSubBar',
      function (a, b, d, c, e) {
        var f = !1,
          k = !1,
          m,
          n,
          h,
          q,
          p,
          w = b.once().on(function () {
            m = a(l)
            n = a('#navbar')
            h = a('#nav-main')
            p = a('#nav-subnav')
            q = a('\x3cdiv\x3e\x3c/div\x3e')
              .css({
                position: 'relative',
                display: 'none',
                width: '100%',
                height: p.height() + 'px',
              })
              .insertBefore(p)
          }),
          x = function () {
            n.removeClass('subnav-fixed')
            p.css({ top: 0 })
            q.hide()
            k = !1
          },
          t = function () {
            var a = m.scrollTop()
            c.hideAll()
            e && (a += h.height())
            k && q.offset().top >= a
              ? x()
              : !k &&
                p.offset().top < a &&
                (n.addClass('subnav-fixed'),
                (a = e ? h.height() : 0),
                p.css({ top: a }),
                q.show(),
                (k = !0))
          }
        return {
          enable: function () {
            f || d.ie6 || d.quirks || (w(), m.bind('scroll.navFixed', t), t(), (f = !0))
          },
          disable: function () {
            f && (m.unbind('scroll.navFixed'), x(), (f = !1))
          },
        }
      },
    )
  })(l.$Nav)
  ;(function (f) {
    f.when('$', '$F', 'agent', 'flyouts', 'config.stickySubnavConfig', 'nav.inline').build(
      'stickySubNav',
      function (a, b, d, c) {
        var e = !1,
          f = !1,
          k,
          m,
          n,
          h,
          q = b.once().on(function () {
            k = a(l)
            m = a('#navbar')
            h = a('#nav-subnav')
            n = a('\x3cdiv\x3e\x3c/div\x3e')
              .css({
                position: 'relative',
                display: 'none',
                width: '100%',
                height: h.outerHeight() + 'px',
              })
              .insertBefore(h)
          }),
          p = function () {
            m.removeClass('subnav-sticky')
            h.css({ top: 0 })
            n.hide()
            f = !1
          },
          w = function () {
            var a = k.scrollTop()
            c.hideAll()
            f && n.offset().top >= a
              ? p()
              : !f &&
                h.offset().top < a &&
                (m.addClass('subnav-sticky'),
                h.css({ top: 0 }),
                h.css({ width: m.width() }),
                n.show(),
                (f = !0))
          }
        return {
          enable: function () {
            e || d.ie6 || d.quirks || (q(), k.bind('scroll.navFixed', w), w(), (e = !0))
          },
          disable: function () {
            e && (k.unbind('scroll.navFixed'), p(), (e = !1))
          },
          setWidth: function () {
            m = a('#navbar')
            h = a('#nav-subnav')
            h.css({ width: m.width() })
          },
        }
      },
    )
  })(l.$Nav)
  ;(function (f) {
    f.when('$', 'config').run('genzXshopAlign', function (a, b) {
      function d() {
        for (
          var b = a('#nav-xshop').children('a'), d = b.get(0).offsetTop, f = b.length - 1;
          0 < f;
          f--
        )
          b.get(f).offsetTop > d && a(b.get(f)).addClass('nav-a-removed')
      }
      b.genz &&
        (a(l).resize(function () {
          for (var b = a('#nav-xshop').children('a'), e = 0; e < b.length; e++)
            a(b.get(e)).removeClass('nav-a-removed')
          d()
        }),
        a(document).ready(function () {
          d()
          for (var b = a('#nav-xshop').children('a'), e = 0; e < b.length; e++)
            a(b.get(e)).removeClass('nav-a-hidden')
        }))
    })
  })(l.$Nav)
  ;(function (f) {
    f.when('util.ajax', 'config').build('util.ajaxReftagLogger', function (a, b) {
      return function (b) {
        var c = { attribution: 'AmazonNavigationCards', logLevel: 'ERROR' }
        b = [
          'hitType\x3dpageTouch',
          'pageType\x3d' + (l.ue_pty ? l.ue_pty : 'NavUnknownPageType'),
          'ref_\x3d' + b,
        ].join('\x26')
        return a({
          type: 'POST',
          url: '/acp/navigation/v1/ajax-reftag-logger/track?' + b,
          headers: { 'x-amz-acp-params': 'ajax-reftag-logger' },
          retryMetric: 'nav-ajax-reftag-logger-retry',
          errorMetric: 'nav-ajax-reftag-logger-error',
          error: function (a, b, d) {
            a =
              ' Reftag logger AJAX Call failed. Status Code : ' +
              a.status +
              ' Status text : ' +
              b +
              ' Exception : ' +
              d
            l.ueLogError && l.ueLogError(a, c)
          },
        })
      }
    })
  })(l.$Nav)
  ;(function (f, a) {
    f.when('$', 'HamburgerMenuFirstLayerAJAXCall', 'SignInRedirect', 'metrics').run(
      'HamburgerMenuFirstLayerAJAXCallDesktop',
      function (a, d, c, e) {
        var b = function () {
          var b = a('#hmenu-customer-profile-link')
          c.setRedirectUrl(a(b), null, null)
          !0 === f.getNow('navHMenuIconClicked') &&
            (e.increment('Nav:Hmenu:HMenuIconClickDelayedComplete'),
            setTimeout(function () {
              a('#nav-hamburger-menu').click()
            }, 50))
        }
        return function () {
          d('desktop', b)
        }
      },
    )
  })(l.$Nav, K)
  ;(function (f, a) {
    f.when(
      'jQuery',
      'hamburgerMenuIconAvailableOnLoad',
      'config',
      'HamburgerMenuFirstLayerAJAXCallDesktop',
      'util.Proximity',
      'agent',
    ).run('HamburgerMenuAJAXCall', function (a, d, c, e, f, k) {
      var b = 'rtl' === a('body').css('direction'),
        g = function () {
          function d() {
            e()
            a('#nav-hamburger-menu').unbind('focus', d)
          }
          f.onEnter(a('#nav-hamburger-menu'), c.HmenuProximityArea, d, !1, c.fixedBarBeacon || b)
          a('#nav-hamburger-menu').bind('focus', d)
        }
      c.isTabletBrowser || k.touch || !c.HMenuIsProximity
        ? d
          ? (l.onload = hamburgerAjaxCall)
          : e()
        : g()
    })
  })(l.$Nav, K)
  ;(function (f) {
    f.when('$', 'metrics').run('searchDropdownMetrics', function (a, b) {
      a('.nav-search-dropdown').change(function () {
        b.increment('Nav:SearchDropdown:Change')
      })
    })
  })(l.$Nav)
  ;(function (f, a) {
    a.when('A', 'a-popover', 'ready').execute(function (a, d) {
      var b = a.$
      a = b('#nav-checkout-privacy-popover-content')
      var e = b('#nav-checkout-privacy-popover-a11y-label'),
        f = b('#nav-checkout-privacy-popover-close-button-label')
      b = b('#nav-checkout-title-header')
      if (0 !== a.length && 0 !== e.length && 0 !== f.length && 0 !== b.length) {
        var k = a.find('a')
        k.length && (k.attr('target', '_blank'), k.attr('rel', 'noopener noreferrer'))
        a = {
          activate: 'onclick',
          position: 'triggerBottom',
          dataStrategy: 'inline',
          inlineContent: a.html(),
          popoverLabel: e.text(),
          closeButtonLabel: f.text(),
        }
        d.create(b, a)
      }
    })
  })(l.$Nav, K)
  ;(function (f) {
    f.when('$', 'metrics').run('accessibilityNav', function (a) {
      document.body.addEventListener('keydown', function () {
        a('#navbar').removeClass('using-mouse')
      })
      document.body.addEventListener('mousedown', function () {
        a('#navbar').addClass('using-mouse')
      })
    })
  })(l.$Nav)
  ;(function (f) {
    f.when('$', '$F', 'flyouts.create', 'config', 'flyouts.accessibility').run(
      'flyout.health',
      function (a, b, d, c, e) {
        var f = a('#nav_link_allhealthingress'),
          k = d({
            key: 'health',
            link: f,
            cover: !0,
            clickThrough: !0,
            sidePanel: !0,
            event: 'health',
            arrow: 'top',
            animateDown: c.flyoutAnimation,
          }),
          l = e({
            link: f,
            onEscape: function () {
              k.hide()
              f.focus()
            },
          })
        k.getPanel().onRender(
          b.once().on(function () {
            l.elems(a('.nav-hasPanel, a', k.elem()))
            k.align()
          }),
        )
        k.onShow(
          b.once().on(function () {
            l.elems(a('.nav-hasPanel, a', k.elem()))
          }),
        )
        return k
      },
    )
  })(l.$Nav)
  ;(function (f) {
    f.when('$', '$F', 'flyouts.create', 'config', 'flyouts.accessibility').run(
      'flyout.pharmacy',
      function (a, b, d, c, e) {
        var f = a('#nav_link_allpharmacyingress'),
          k = d({
            key: 'pharmacy',
            link: f,
            cover: !0,
            clickThrough: !0,
            sidePanel: !0,
            event: 'pharmacy',
            arrow: 'top',
            animateDown: c.flyoutAnimation,
          }),
          l = e({
            link: f,
            onEscape: function () {
              k.hide()
              f.focus()
            },
          })
        k.getPanel().onRender(
          b.once().on(function () {
            l.elems(a('.nav-hasPanel, a', k.elem()))
            k.align()
          }),
        )
        k.onShow(
          b.once().on(function () {
            l.elems(a('.nav-hasPanel, a', k.elem()))
          }),
        )
        return k
      },
    )
  })(l.$Nav)
  ;(function (f) {
    f.when('$', '$F', 'flyouts.create', 'config', 'flyouts.accessibility').run(
      'flyout.giftCards',
      function (a, b, d, c, e) {
        var f = a('#nav_link_gift_cards')
        if (f) {
          var k = d({
              key: 'giftCards',
              link: f,
              cover: !0,
              clickThrough: !0,
              sidePanel: !0,
              event: 'giftCards',
              arrow: 'top',
              animateDown: c.flyoutAnimation,
            }),
            l = e({
              link: f,
              onEscape: function () {
                k.hide()
                f.focus()
              },
            })
          k.getPanel().onRender(
            b.once().on(function () {
              l.elems(a('.nav-hasPanel, a', k.elem()))
              k.align()
            }),
          )
          k.onShow(
            b.once().on(function () {
              l.elems(a('.nav-hasPanel, a', k.elem()))
            }),
          )
          return k
        }
      },
    )
  })(l.$Nav)
})
/* ******** */
;(function (a) {
  var c = window.AmazonUIPageJS || window.P,
    d = c._namespace || c.attributeErrors,
    b = d ? d('SearchAutocompleteConfig', '') : c
  b.guardFatal
    ? b.guardFatal(a)(b, window)
    : b.execute(function () {
        a(b, window)
      })
})(function (a, c, d) {
  a.register('autocomplete-endpoints', function () {
    return { completion: 'completion.amazon.com' }
  })
  ;('use strict')
  a.register('autocomplete-config', function () {
    return { endpoints: { completion: 'completion.amazon.com' }, marketplaceId: 'ATVPDKIKX0DER' }
  })
})
/* ******** */
;(function (b) {
  var c = window.AmazonUIPageJS || window.P,
    d = c._namespace || c.attributeErrors,
    a = d ? d('SearchAutocompleteStrings', '') : c
  a.guardFatal
    ? a.guardFatal(b)(a, window)
    : a.execute(function () {
        b(a, window)
      })
})(function (b, c, d) {
  b.register('autocomplete-translations-localizedStrings', function () {
    return {
      crossCategoryString: '${query} in ${category}',
      filterByString: 'filter ${keyword} by ${refinement}',
      askRufus: 'Ask Rufus',
    }
  })
})
/* ******** */
;(function (x) {
  var q = window.AmazonUIPageJS || window.P,
    p = q._namespace || q.attributeErrors,
    K = p ? p('RetailSearchAutocompleteAssets', '') : q
  K.guardFatal
    ? K.guardFatal(x)(K, window)
    : K.execute(function () {
        x(K, window)
      })
})(function (x, q, p) {
  q.$Nav.when('$', 'nav.inline').run(function (p) {
    q.$Nav.declare('config.blackbelt', 0 < p('#nav-belt').length)
  })
  q.$Nav.when('config.blackbelt').run(function (p) {
    p
      ? q.$Nav.when('searchApi').run(function (p) {
          q.$Nav.declare('sxSearchApi', p)
        })
      : q.$Nav.declare('sxSearchApi')
  })
  q.$Nav.when('$', 'sxSearchApi', 'sx.iss.AttributionUtil').build('NavDomApi', function (t, r, L) {
    function A() {
      if (M) return H().find('input[type\x3d"text"]')
      'undefined' === typeof a && (a = t(d.searchBox))
      return a
    }
    function I() {
      if (M) return r.flyout.elem()
      'undefined' === typeof h && ((h = t(f)), H().after(h))
      return h
    }
    function D() {
      if (M) return r.options().parents('select')
      'undefined' === typeof g && (g = t(d.aliasDropdown))
      return g
    }
    function G() {
      M ? r.flyout.hide() : I().hide()
      K(!1)
      R(null)
    }
    function H() {
      return M ? r.options().parents('form') : t(d.form)
    }
    function x() {
      var c = A()
      return c ? c[0].selectionStart || (c.val() ? c.val().length : 0) : 0
    }
    function F() {
      return w && z && y
    }
    function O() {
      F() && ((w.innerText = ''), (z.innerText = ''), (y.innerText = ''))
    }
    function R(c) {
      var e = A()
      e &&
        0 !== e.length &&
        (c && '' != c
          ? e[0].setAttribute(u.activeDescendant, c)
          : e[0].removeAttribute(u.activeDescendant))
    }
    function K(c) {
      var e = A()
      e && 0 !== e.length && e[0].setAttribute(u.expanded, c)
    }
    function S(c) {
      if (!c) return D().find('option:selected')
      c = D().find('option[value$\x3d"search-alias\x3d' + c + '"]')
      return 0 < c.length ? t(c[0]) : t()
    }
    function N() {
      return A().get(0) === document.activeElement
    }
    function P() {
      var c = Q(),
        e = I()
      !I().is(':visible') ||
        1 > e.html().length ||
        e.css({ left: c.offset().left, width: c.width() })
    }
    function Q() {
      k === p && (k = t('#nav-iss-attach'))
      return k
    }
    var M = r !== p,
      d = {
        searchBox: '#twotabsearchtextbox',
        searchSuggestions: '#srch_sggst',
        navBar: '#navbar',
        aliasDropdown: '#searchDropdownBox',
        dropdownId: 'search-dropdown',
        form: '#nav-search-bar-form',
        issPrefixEl: '#issprefix',
        issFieldRestriction: '#issFieldRestriction',
        browseNodeId: '#issBrowseNodeId',
        issCridEl: '#isscrid',
        suggestion: '.s-suggestion',
      },
      a,
      b,
      h,
      g,
      k,
      m = '',
      n = !1,
      f = '\x3cdiv id\x3d"' + d.dropdownId + '" class\x3d"search-dropdown"\x3e\x3c/div\x3e',
      c = /search-alias\s*=\s*([\w-]+)/,
      e = /^\s+/,
      l = document.getElementById('twotabsearchtextbox'),
      w = document.getElementById('ac-prefix'),
      z = document.getElementById('ac-prediction'),
      y = document.getElementById('ac-liveField'),
      u = { expanded: 'aria-expanded', activeDescendant: 'aria-activedescendant' }
    r === p && t(q).resize(P)
    return {
      setAttribution: function (c, e, l) {
        L.setRefTag(H(), c)
        L.setCompletionResponseId(H(), e)
        L.setPrefix(H(), l)
      },
      getAliasDropdown: D,
      getSearchBox: A,
      setRefTag: function (c) {
        L.setRefTag(H(), c)
      },
      getSearchInput: function () {
        return A()[0]
      },
      getSearchBoxId: function () {
        return d.searchBox
      },
      getSearchSuggestions: function () {
        'undefined' === typeof b && (b = t(d.searchSuggestions))
        return b
      },
      getKeyword: function () {
        var c = (r !== p ? r : A()).val()
        return c ? c.replace(e, '') : c
      },
      getCursorPosition: x,
      setKeyword: function (c) {
        if (r !== p) r.val(c)
        else return A().val(c)
      },
      getAliasFromDropdown: function () {
        var e = D().val()
        return (e = e && e.match(c)) ? e[1] : p
      },
      setAlias: function (c, e, l) {
        var f = S(c),
          m = D(),
          a = void 0
        0 !== f.length
          ? (a = f.val())
          : l &&
            e &&
            c &&
            ((e = l({ value: c, display: e })), m.append(e), (a = 'search-alias\x3d' + c))
        a && m.val(a).trigger('change')
      },
      getCategoryNameFromDropdown: function (c) {
        var e = ''
        c
          ? ((c = D().find('option[value$\x3d"search-alias\x3d' + c + '"]')),
            (e = 0 < c.length ? t(c[0]).text() : e))
          : (e = D().find('option:selected').text())
        return t.trim(e)
      },
      getDropdown: I,
      showDropdown: function (c) {
        N() &&
          (M
            ? ('undefined' !== typeof c && r.flyout.elem().html(c), r.flyout.show())
            : ('undefined' !== typeof c && I().hide().html(c),
              (c = Q()),
              I().css({ left: c.offset().left, width: c.width() }).show()),
          K(!0))
      },
      hideDropdown: G,
      getOption: S,
      getForm: H,
      getIssPrefixElem: function () {
        return t(d.issPrefixEl)
      },
      getIssFieldRestrictionElem: function () {
        return t(d.issFieldRestriction)
      },
      getIssBrowseNodeIdElem: function () {
        return t(d.browseNodeId)
      },
      getIssCridElem: function () {
        return t(d.issCridEl)
      },
      getSuggestions: function () {
        return t(d.suggestion)
      },
      submitForm: function () {
        H().submit()
      },
      getOriginalSearchTerm: function () {
        return H().data('originalSearchTerm')
      },
      getOriginalAlias: function () {
        return H().data('originalAlias')
      },
      isSearchBoxFocused: N,
      activateSearchBox: function () {
        H().addClass('nav-active')
      },
      deactivateSearchBox: function () {
        H().removeClass('nav-active')
      },
      getSearchApi: function () {
        return r
      },
      blurAutocomplete: function () {
        G()
        A()[0].blur()
      },
      getSelectedSearchDropdownUrl: function () {
        return D().val() || p
      },
      setSelectedSearchDropdownUrl: function (c) {
        D()
          .has("option[value\x3d'" + c + "']")
          .val(c)
          .trigger('change')
      },
      setPredictedText: function (c, e, f) {
        x()
        var a = {
          en_US: 'Press right arrow key or Tab key to accept suggestion',
          es_US:
            'Presione la tecla de flecha derecha o la tecla de tabulacin para aceptar la sugerencia.',
          es_ES:
            'Presione la tecla de flecha derecha o la tecla de tabulacin para aceptar la sugerencia.',
          es_MX:
            'Presione la tecla de flecha derecha o la tecla de tabulacin para aceptar la sugerencia.',
          ar_AE: '       Tab  ',
          ar_SA: '       Tab  ',
          de_DE:
            'Drcken Sie die rechte Pfeiltaste oder die Tabulatortaste, um den Vorschlag zu akzeptieren',
          hi_IN: '           ',
          fr_FR:
            'Appuyez sur la touche flche droite ou sur la touche Tab pour accepter la suggestion',
          fr_CA:
            'Appuyez sur la touche flche droite ou sur la touche Tab pour accepter la suggestion',
          ja_JP: 'Tab',
          tr_TR: 'neriyi kabul etmek iin sa ok tuuna veya sekme tuuna basn',
          nl_NL: 'Druk op de pijl-rechts of de tab-toets om de suggestie te accepteren',
          it_IT: 'Premere il tasto freccia destra o il tasto Tab per accettare il suggerimento',
          pt_BR: 'Pressione a tecla de seta para a direita ou a tecla Tab para aceitar a sugesto',
        }
        f && (m = a[f] || a.en_US)
        l &&
          F() &&
          (e && c
            ? e === c
              ? O()
              : ((f = /[A-Z]/.test(l.value)),
                (w.innerText = f ? l.value : e),
                (z.innerText = c.slice(e.length)),
                (y.innerText = m ? m + ' ' + c : ''))
            : O())
      },
      dismissPredictiveText: O,
      showPredictiveTextOnSearchBar: function () {
        l &&
          z &&
          0 < z.textContent.trim().length &&
          ((l.value += z.innerText), (w.innerText = ''), (z.innerText = ''))
      },
      updatePreviousCursorPosition: function () {
        x()
      },
      getPrediction: function () {
        return z ? z.innerText : ''
      },
      isPredictiveTextElementsPresent: F,
      setDeletePressed: function (c) {
        n = c
      },
      getDeleteKeyPressed: function () {
        return n
      },
      notifySearchBoxSelection: R,
    }
  })
  ;('use strict')
  q.$Nav.when('$', 'NavDomApi').build('sx.iss.PublicApi', function (q, r) {
    function t(p) {
      r.getSearchBox().focus(p)
    }
    function A(q) {
      q === p ? r.getSearchBox().blur() : r.getSearchBox().blur(q)
    }
    var I = /node\s*=\s*([\d]+)/,
      D = /bbn\s*=\s*([\d]+)/,
      G = /^me=([0-9A-Z]*)/,
      H = /^\s+/,
      x = /\s+/g,
      F = /gp\/help\/customer\/display\.html/
    return {
      searchAlias: function () {
        return r.getAliasFromDropdown()
      },
      searchNode: function () {
        var p = r.getAliasDropdown().val().match(I)
        return p ? p[1] : null
      },
      bbn: function () {
        var p = r.getAliasDropdown().val().match(D)
        return p ? p[1] : null
      },
      merchant: function () {
        var p = r.getAliasDropdown().val().match(G)
        return p ? p[1] : null
      },
      encoding: function () {
        var p = r.getForm().find('input[name^\x3d"__mk_"]')
        if (p.length) return [p.attr('name'), p.val()]
      },
      keyword: function (q) {
        return q !== p ? r.setKeyword(q) : r.getKeyword().replace(H, '').replace(x, ' ')
      },
      submit: function (p) {
        var q = r.getForm()
        q.submit(function (r) {
          if (!(q && q[0] && q[0].action && q[0].action.match(F)))
            return console.log('Attaching the submit event handler to the form...'), p.call(this, r)
        })
      },
      onFocus: t,
      onBlur: A,
      focus: t,
      blur: A,
      keydown: function (p) {
        var q = '#' + r.getSearchBox().attr('id')
        r.getForm().delegate(q, 'keydown', p)
      },
      keyup: function (p) {
        var q = '#' + r.getSearchBox().attr('id')
        r.getForm().delegate(q, 'keyup', p)
      },
      setupFastLab: function (p) {
        console.log('Weblabs are no longer triggered in the front end. Fastlab', p)
      },
    }
  })
  ;('use strict')
  q.$Nav.importEvent('jQuery', { as: '$', global: 'jQuery' })
  q.$Nav
    .when('$', 'sx.iss.IssParentCoordinator', 'sx.iss.PublicApi')
    .build('sx.iss', function (p, q, L) {
      q = { IssParentCoordinator: q, isNewIss: !0 }
      p.extend(q, q, L)
      return q
    })
  q.$Nav.when('sx.iss').run(function (p) {
    q.$Nav.publish('sx.iss', p)
    q.$Nav.publish('search-js-autocomplete', p)
  })
  ;('use strict')
  q.$Nav.build('sx.iss.Platform', function () {
    return { name: 'desktop', cid: 'search-ui', maxSuggestions: 11 }
  })
  ;('use strict')
  q.$Nav.build('sx.iss.Defaults', function () {
    return {}
  })
  ;('use strict')
  var K = (function () {
      return function (q, r) {
        if (Array.isArray(q)) return q
        if (Symbol.iterator in Object(q)) {
          var t = [],
            A = !0,
            I = !1,
            D = p
          try {
            for (
              var G = q[Symbol.iterator](), H;
              !(A = (H = G.next()).done) && (t.push(H.value), !r || t.length !== r);
              A = !0
            );
          } catch (T) {
            ;(I = !0), (D = T)
          } finally {
            try {
              if (!A && G['return']) G['return']()
            } finally {
              if (I) throw D
            }
          }
          return t
        }
        throw new TypeError('Invalid attempt to destructure non-iterable instance')
      }
    })(),
    Z = (function () {
      function p(p, q) {
        for (var r = 0; r < q.length; r++) {
          var t = q[r]
          t.enumerable = t.enumerable || !1
          t.configurable = !0
          'value' in t && (t.writable = !0)
          Object.defineProperty(p, t.key, t)
        }
      }
      return function (q, t, A) {
        t && p(q.prototype, t)
        A && p(q, A)
        return q
      }
    })(),
    F =
      'function' === typeof Symbol && 'symbol' === typeof Symbol.iterator
        ? function (p) {
            return typeof p
          }
        : function (p) {
            return p &&
              'function' === typeof Symbol &&
              p.constructor === Symbol &&
              p !== Symbol.prototype
              ? 'symbol'
              : typeof p
          },
    W = function (t, r) {
      var L = 2 < arguments.length && arguments[2] !== p ? arguments[2] : {},
        A = 3 < arguments.length && arguments[3] !== p ? arguments[3] : {},
        I = 4 < arguments.length && arguments[4] !== p ? arguments[4] : {}
      return function (D, G, H, x) {
        function T(d) {
          d.$searchbox[0].addEventListener('focus', function () {
            return G.showDropdown()
          })
          var a = function (a) {
            a: {
              for (a = a.target; a; ) {
                if (a === d.$form[0] || a === N) {
                  a = !0
                  break a
                }
                a = a.parentElement
              }
              a = !1
            }
            a || (d.$form.find('input')[0].blur(), G.hideDropdown(), O())
          }
          ;(A.focusOutDismissEvents || ['click', 'touch']).forEach(function (b) {
            return document.addEventListener(b, a)
          })
          G.getForm().submit(function () {
            return G.hideDropdown()
          })
        }
        function O() {
          var d = document.getElementById('ac-prefix'),
            a = document.getElementById('ac-prediction')
          d &&
            a &&
            ((document.getElementById('ac-prefix').innerText = ''),
            (document.getElementById('ac-prediction').innerText = ''))
        }
        var R = (function (d) {
            function a(h) {
              if (b[h]) return b[h].exports
              var g = (b[h] = { i: h, l: !1, exports: {} })
              d[h].call(g.exports, g, g.exports, a)
              g.l = !0
              return g.exports
            }
            var b = {}
            a.m = d
            a.c = b
            a.d = function (b, g, k) {
              a.o(b, g) || Object.defineProperty(b, g, { enumerable: !0, get: k })
            }
            a.r = function (a) {
              'undefined' !== typeof Symbol &&
                Symbol.toStringTag &&
                Object.defineProperty(a, Symbol.toStringTag, { value: 'Module' })
              Object.defineProperty(a, '__esModule', { value: !0 })
            }
            a.t = function (b, g) {
              g & 1 && (b = a(b))
              if (
                g & 8 ||
                (g & 4 &&
                  'object' === ('undefined' === typeof b ? 'undefined' : F(b)) &&
                  b &&
                  b.__esModule)
              )
                return b
              var k = Object.create(null)
              a.r(k)
              Object.defineProperty(k, 'default', { enumerable: !0, value: b })
              if (g & 2 && 'string' != typeof b)
                for (var m in b)
                  a.d(
                    k,
                    m,
                    function (a) {
                      return b[a]
                    }.bind(null, m),
                  )
              return k
            }
            a.n = function (b) {
              var g =
                b && b.__esModule
                  ? function () {
                      return b['default']
                    }
                  : function () {
                      return b
                    }
              a.d(g, 'a', g)
              return g
            }
            a.o = function (a, b) {
              return Object.prototype.hasOwnProperty.call(a, b)
            }
            a.p = ''
            return a((a.s = 82))
          })([
            function (d, a, b) {
              var h =
                (this && this.__createBinding) ||
                (Object.create
                  ? function (a, b, m, n) {
                      n === p && (n = m)
                      Object.defineProperty(a, n, {
                        enumerable: !0,
                        get: function () {
                          return b[m]
                        },
                      })
                    }
                  : function (a, b, m, n) {
                      n === p && (n = m)
                      a[n] = b[m]
                    })
              d =
                (this && this.__exportStar) ||
                function (a, b) {
                  for (var m in a)
                    'default' === m || Object.prototype.hasOwnProperty.call(b, m) || h(b, a, m)
                }
              Object.defineProperty(a, '__esModule', { value: !0 })
              d(b(12), a)
              d(b(132), a)
              d(b(6), a)
              d(b(157), a)
              d(b(72), a)
            },
            function (d, a, b) {
              d.exports = {
                MultiKeywordSuggestions: b(161),
                EntityEgressDropDown: b(162),
                ProductPreview: b(163),
                EntityBasicContainer: b(41),
                EntityBasicDropdown: b(164),
                EntityBasic: b(165),
                Highlighted: b(13),
                DisplayKeywordWithByline: b(74),
                KeywordWithByline: b(166),
                DisplayString: b(25),
                SuggestionWithoutTitle: b(75),
                TrendingSearchSuggestion: b(167),
                TextWithLink: b(168),
                NileSearchSuggestionsWidget: b(169),
                ResizableTileRows: b(170),
                MultiAsinsMobile: b(171),
                ButtonCarousel: b(172),
                TileRows: b(173),
                MultiAsins: b(174),
                TileCarousel: b(175),
                NileSearchSuggestionsWidgetDesktop: b(176),
                Stores: b(177),
                CarouselControl: b(26),
                AsinHeader: b(76),
                LowercaseHeader: b(27),
                UppercaseHeader: b(7),
                CardsWidget: b(178),
                ImageRefinement: b(179),
                SuggestionWithTitle: b(180),
                ImageAndTextSuggestion: b(181),
                TextRefinement: b(182),
                ImageSuggestion: b(183),
                Options: b(184),
                ThumbnailImage: b(77),
                KeywordSuggestion: b(42),
                RecentSearchSuggestion: b(185),
                KeywordImageSuggestion: b(186),
                WidgetHeader: b(78),
                WidgetAsin: b(187),
                Separator: b(188),
              }
            },
            function (d, a, b) {
              ;(function (a) {
                var b = function (a) {
                  return a && a.Math == Math && a
                }
                d.exports =
                  b(
                    'object' == ('undefined' === typeof globalThis ? 'undefined' : F(globalThis)) &&
                      globalThis,
                  ) ||
                  b('object' == ('undefined' === typeof q ? 'undefined' : F(q)) && q) ||
                  b('object' == ('undefined' === typeof self ? 'undefined' : F(self)) && self) ||
                  b('object' == ('undefined' === typeof a ? 'undefined' : F(a)) && a) ||
                  (function () {
                    return this
                  })() ||
                  Function('return this')()
              }).call(this, b(87))
            },
            function (d, a, b) {
              function h(c) {
                return c && (c = c.metadata) && c.entityTemplateConfig
                  ? JSON.parse(c.entityTemplateConfig)
                  : p
              }
              function g(c) {
                return c.template === a.ENTITY_TEMPLATE
              }
              function k(c) {
                var l
                return null ===
                  (l = null === c || void 0 === c ? void 0 : c.disclosurePaneTriggeringList) ||
                  void 0 === l
                  ? void 0
                  : l.includes(e.EntityDisclosurePaneTriggeringSource.DEFAULT_SHOW)
              }
              function m(c) {
                return null === c || void 0 === c
                  ? void 0
                  : c.find(function (c) {
                      return g(c.data)
                    })
              }
              function n(c, e) {
                var l, f
                e = e ? a.ENTITY_WIDGET_CSS_DISPLAY_STYLE : a.ENTITY_WIDGET_CSS_NO_DISPLAY_STYLE
                null ===
                  (f =
                    null === (l = m(c)) || void 0 === l
                      ? void 0
                      : l.domElement
                          .getElementsByClassName(a.ENTITY_DISCLOSURE_PANE_CONTAINER_CLASS_NAME)
                          .item(0)) || void 0 === f
                  ? void 0
                  : f.setAttribute('style', e)
              }
              function f(c) {
                var l
                c = h(c)
                return (
                  null ===
                    (l = null === c || void 0 === c ? void 0 : c.disclosurePaneTriggeringList) ||
                  void 0 === l
                    ? 0
                    : l.includes(e.EntityDisclosurePaneTriggeringSource.MOUSEOVER)
                )
                  ? !0
                  : !1
              }
              function c(c) {
                var e = new RegExp(/browse\/node=/)
                return new RegExp(/b[\/]?\?(?:node=|.*?&node=)/).test(c) || e.test(c)
              }
              Object.defineProperty(a, '__esModule', { value: !0 })
              a.TOGGLE_CHEVRON_ICON_MAP =
                a.getEntityLinkURL =
                a.isEntityPDKeyboardA11yEnabled =
                a.isBrowseNodePageLink =
                a.generateCSATag =
                a.canTriggerEntityDisclosurePaneByDropdownButton =
                a.canTriggerEntityDisclosurePaneByKeyboardSelect =
                a.hasMouseoverTriggeringEntityWidget =
                a.canTriggerEntityDisclosurePaneByMouseOver =
                a.triggerEntityWidgetDisclosurePane =
                a.setEntityWidgetLeftDisclosurePaneVisibility =
                a.getEntityWidgetElementInAutocompleteList =
                a.getEntityWidgetSuggestion =
                a.isEntityDisclosurePaneDefaultShow =
                a.isEntityWidget =
                a.getEntityTemplateConfig =
                a.ENTITY_WIDGET_CSS_NO_DISPLAY_STYLE =
                a.ENTITY_WIDGET_CSS_DISPLAY_STYLE =
                a.DROPDOWN_BUTTON_CHEVRON_ICON_ID_NAME =
                a.DROPDOWN_BUTTON_CONTAINER_ID_NAME =
                a.DROPDOWN_BUTTON_CLASS_NAME =
                a.ENTITY_DISCLOSURE_PANE_CONTAINER_CLASS_NAME =
                a.ENTITY_DEFAULT_PANE_CONTAINER_CLASS_NAME =
                a.ENTITY_TEMPLATE =
                  void 0
              var e = b(12),
                l = b(6),
                w = b(0)
              a.ENTITY_TEMPLATE = 'entity'
              a.ENTITY_DEFAULT_PANE_CONTAINER_CLASS_NAME = 's-entity-default-pane'
              a.ENTITY_DISCLOSURE_PANE_CONTAINER_CLASS_NAME = 's-entity-disclosure-pane'
              a.DROPDOWN_BUTTON_CLASS_NAME = 's-entity-chevron-button'
              a.DROPDOWN_BUTTON_CONTAINER_ID_NAME = 's-entity-dropdown-button-container-id'
              a.DROPDOWN_BUTTON_CHEVRON_ICON_ID_NAME = 's-entity-chevron-icon-id'
              a.ENTITY_WIDGET_CSS_DISPLAY_STYLE = ''
              a.ENTITY_WIDGET_CSS_NO_DISPLAY_STYLE = 'display:none'
              a.getEntityTemplateConfig = h
              a.isEntityWidget = g
              a.isEntityDisclosurePaneDefaultShow = k
              a.getEntityWidgetSuggestion = function (c) {
                return null === c || void 0 === c
                  ? void 0
                  : c.find(function (c) {
                      return g(c)
                    })
              }
              a.getEntityWidgetElementInAutocompleteList = m
              a.setEntityWidgetLeftDisclosurePaneVisibility = n
              a.triggerEntityWidgetDisclosurePane = function (c) {
                var l,
                  f = c.getAutocompleteView().list,
                  a = c.getAutocompleteView().twoPanelists,
                  b = null === (l = m(f.autocompleteListElements)) || void 0 === l ? void 0 : l.data
                b &&
                  (l = h(b)) &&
                  k(l) &&
                  ((l = l.entityLayout),
                  l === e.EntityLayout.LEFT_AND_RIGHT_PANE
                    ? a.triggerEntityProgressiveDisclosureTwoPane(b, c)
                    : l === e.EntityLayout.LEFT_PANE_ONLY && n(f.autocompleteListElements, !0))
              }
              a.canTriggerEntityDisclosurePaneByMouseOver = f
              a.hasMouseoverTriggeringEntityWidget = function (c) {
                var e
                return (c = null === (e = m(c)) || void 0 === e ? void 0 : e.data)
                  ? g(c) && f(c)
                  : !1
              }
              a.canTriggerEntityDisclosurePaneByKeyboardSelect = function (c) {
                var l
                c = h(c)
                return (
                  null ===
                    (l = null === c || void 0 === c ? void 0 : c.disclosurePaneTriggeringList) ||
                  void 0 === l
                    ? 0
                    : l.includes(e.EntityDisclosurePaneTriggeringSource.KEYBOARD_SELECT)
                )
                  ? !0
                  : !1
              }
              a.canTriggerEntityDisclosurePaneByDropdownButton = function (c) {
                var l
                c = h(c)
                return (
                  null ===
                    (l = null === c || void 0 === c ? void 0 : c.disclosurePaneTriggeringList) ||
                  void 0 === l
                    ? 0
                    : l.includes(e.EntityDisclosurePaneTriggeringSource.DROPDOWN_BUTTON_CLICK)
                )
                  ? !0
                  : !1
              }
              a.generateCSATag = function (c) {
                return 'false' === c.metadata.removeWidgetIdFromRefTag
                  ? c.strategyId + '-' + c.widgetId
                  : c.strategyId
              }
              a.isBrowseNodePageLink = c
              a.isEntityPDKeyboardA11yEnabled = function (c) {
                return (
                  'desktop' === l.getSiteVariant() &&
                  c.some(function (c) {
                    return 'WIDGET' === c.type ? g(c) : !1
                  })
                )
              }
              a.getEntityLinkURL = function (e, f, a) {
                var m = w.normalizeInputObject(e),
                  n = JSON.parse(m.metadata.link)
                e = l.constructRefTag(
                  e.refTag,
                  e.strategyId,
                  a,
                  n.tag,
                  e.widgetId,
                  e.metadata.removeWidgetIdFromRefTag,
                )
                return l.buildEntityLinkURL(m, n.link, f, e, c(n.link))
              }
              a.TOGGLE_CHEVRON_ICON_MAP = {
                's-entity-chevron-icon-downward': 's-entity-chevron-icon-upward',
                's-entity-chevron-icon-upward': 's-entity-chevron-icon-downward',
                's-entity-chevron-button-downward': 's-entity-chevron-button-upward',
                's-entity-chevron-button-upward': 's-entity-chevron-button-downward',
              }
            },
            function (d, a, b) {
              function h(a, n, f, c, e) {
                var l = a.value
                a = a.crid
                f = f.getContextField('prefix')
                n.startsWith('/') && (n = n.substr(1))
                c = { k: l, ref_: c, crid: a, sprefix: f }
                e && delete c.k
                e = n.includes('?') ? '\x26' : '?'
                return n.includes('#')
                  ? ((n = n.split('#')),
                    (l = n[1]),
                    'https://' +
                      g.searchDomain +
                      '/' +
                      n[0] +
                      e +
                      k.paramsToURLParameters(c) +
                      '#' +
                      l)
                  : 'https://' + g.searchDomain + '/' + n + e + k.paramsToURLParameters(c)
              }
              Object.defineProperty(a, '__esModule', { value: !0 })
              a.updateEntityWidgetLinkUrls = void 0
              var g = b(0),
                k = b(24)
              a.default = h
              a.updateEntityWidgetLinkUrls = function (a, n, f, c) {
                f.forEach(function (e, l) {
                  f[l].constructedLinkUrl = h(
                    a,
                    e.link,
                    n,
                    e.constructedRefTag ? e.constructedRefTag : a.refTag,
                    c,
                  )
                })
                return f
              }
            },
            function (d, a, b) {
              a = b(9)
              d.exports = !a(function () {
                return (
                  7 !=
                  Object.defineProperty({}, 1, {
                    get: function () {
                      return 7
                    },
                  })[1]
                )
              })
            },
            function (d, a, b) {
              var h =
                (this && this.__createBinding) ||
                (Object.create
                  ? function (a, b, m, n) {
                      n === p && (n = m)
                      Object.defineProperty(a, n, {
                        enumerable: !0,
                        get: function () {
                          return b[m]
                        },
                      })
                    }
                  : function (a, b, m, n) {
                      n === p && (n = m)
                      a[n] = b[m]
                    })
              d =
                (this && this.__exportStar) ||
                function (a, b) {
                  for (var m in a)
                    'default' === m || Object.prototype.hasOwnProperty.call(b, m) || h(b, a, m)
                }
              Object.defineProperty(a, '__esModule', { value: !0 })
              d(b(67), a)
              d(b(136), a)
              d(b(38), a)
              d(b(154), a)
              d(b(155), a)
              d(b(156), a)
            },
            function (d, a) {
              function b(a, m, n) {
                n = m.customCss !== p && null !== m.customCss ? m.customCss : ''
                a.assertNotNull(m, ['header', 'cssPrefix'])
                return a.root('autocomplete', 'UppercaseHeader', [
                  a.createElement(
                    'div',
                    {
                      class: g([
                        's-heavy',
                        m.cssPrefix + '-suggestion-header',
                        'single-line-header',
                        n,
                      ]),
                      role: 'text',
                      'aria-label': m.header,
                      id: 'sac-widget-suggestion-header',
                    },
                    m.header,
                  ),
                ])
              }
              function h(a) {
                return null !== a && a !== p && '' !== a
              }
              function g(a) {
                a = a.join(' ').split(' ').filter(h).join(' ')
                return 0 < a.length ? a : p
              }
              d.exports = {}
              d.exports.default = b
              d.exports.UppercaseHeader = b
            },
            function (d, a, b) {
              var h = b(2),
                g = b(44).f,
                k = b(33),
                m = b(93),
                n = b(32),
                f = b(96),
                c = b(100)
              d.exports = function (e, l) {
                var a = e.target,
                  b = e.global,
                  d = e.stat,
                  u,
                  v,
                  C
                if ((v = b ? h : d ? h[a] || n(a, {}) : (h[a] || {}).prototype))
                  for (C in l) {
                    var J = l[C]
                    var E = e.noTargetGet ? (u = g(v, C)) && u.value : v[C]
                    u = c(b ? C : a + (d ? '.' : '#') + C, e.forced)
                    if (!u && E !== p) {
                      if (
                        ('undefined' === typeof J ? 'undefined' : F(J)) ===
                        ('undefined' === typeof E ? 'undefined' : F(E))
                      )
                        continue
                      f(J, E)
                    }
                    ;(e.sham || (E && E.sham)) && k(J, 'sham', !0)
                    m(v, C, J, e)
                  }
              }
            },
            function (d, a) {
              d.exports = function (a) {
                try {
                  return !!a()
                } catch (h) {
                  return !0
                }
              }
            },
            function (d, a) {
              d.exports = function (a) {
                return 'object' === ('undefined' === typeof a ? 'undefined' : F(a))
                  ? null !== a
                  : 'function' === typeof a
              }
            },
            function (d, a, b) {
              var h = b(17),
                g = {}.hasOwnProperty
              d.exports =
                Object.hasOwn ||
                function (a, m) {
                  return g.call(h(a), m)
                }
            },
            function (d, a, b) {
              var h =
                (this && this.__createBinding) ||
                (Object.create
                  ? function (a, b, m, n) {
                      n === p && (n = m)
                      Object.defineProperty(a, n, {
                        enumerable: !0,
                        get: function () {
                          return b[m]
                        },
                      })
                    }
                  : function (a, b, m, n) {
                      n === p && (n = m)
                      a[n] = b[m]
                    })
              d =
                (this && this.__exportStar) ||
                function (a, b) {
                  for (var m in a)
                    'default' === m || Object.prototype.hasOwnProperty.call(b, m) || h(b, a, m)
                }
              Object.defineProperty(a, '__esModule', { value: !0 })
              d(b(129), a)
              d(b(130), a)
              d(b(131), a)
            },
            function (d, a) {
              function b(a, b, m) {
                a.assertNotNull(b, ['highlightFragments'])
                return a.root('autocomplete', 'Highlighted', [
                  h(b.highlightFragments).map(function (m, f) {
                    return [
                      m.hit
                        ? '' + m.text
                        : a.createElement('span', { class: 's-heavy' }, '' + m.text),
                    ]
                  }),
                ])
              }
              function h(a) {
                return !a.map && Java.from ? Java.from(a) : a
              }
              d.exports = {}
              d.exports.default = b
              d.exports.Highlighted = b
            },
            function (d, a, b) {
              var h =
                (this && this.__extends) ||
                (function () {
                  var a = function (c, e) {
                    a =
                      Object.setPrototypeOf ||
                      ({ __proto__: [] } instanceof Array &&
                        function (c, e) {
                          c.__proto__ = e
                        }) ||
                      function (c, e) {
                        for (var l in e) Object.prototype.hasOwnProperty.call(e, l) && (c[l] = e[l])
                      }
                    return a(c, e)
                  }
                  return function (c, e) {
                    function l() {
                      this.constructor = c
                    }
                    a(c, e)
                    c.prototype =
                      null === e ? Object.create(e) : ((l.prototype = e.prototype), new l())
                  }
                })()
              d =
                (this && this.__importDefault) ||
                function (a) {
                  return a && a.__esModule ? a : { default: a }
                }
              Object.defineProperty(a, '__esModule', { value: !0 })
              var g = b(0),
                k = d(b(4)),
                m = b(0),
                n = b(3)
              b = (function (a) {
                function c(c, l, f) {
                  void 0 === f && (f = g.EntityWidgetPane.Disclosure)
                  var e = a.call(this) || this
                  e.kataRuntime = c
                  e.api = l
                  e.pane = f
                  e.$ = l.getJQuery()
                  return e
                }
                h(c, a)
                c.prototype.accept = function (c, l) {
                  l = this.transformInputObject(c, l)
                  l.metadata.csaTag = n.generateCSATag(c)
                  return l
                }
                c.prototype.navigateToSelectedLink = function (c, l) {
                  l = l instanceof HTMLAnchorElement ? l : l.querySelector('a')
                  ;(null === l || void 0 === l ? 0 : l.href) && q.location.assign(l.href)
                  this.click(c)
                  return !0
                }
                c.prototype.getEntityLinkURL = function (c) {
                  var e = JSON.parse(c.metadata.link),
                    a = g.constructRefTag(
                      c.refTag,
                      c.strategyId,
                      g.EntityWidgetPane.Disclosure,
                      e.tag,
                      c.widgetId,
                      c.metadata.removeWidgetIdFromRefTag,
                    )
                  return k.default(c, e.link, this.api.getContext(), a)
                }
                c.prototype.click = function (c) {
                  m.logOneTimeEvent(m.SearchAcceptanceMetric)
                  m.emitCounter(m.SearchAcceptanceMetric)
                  a.prototype.click.call(this, c)
                  return !0
                }
                return c
              })(g.InstrumentedSuggestion)
              a.default = b
            },
            function (d, a, b) {
              var h = b(29),
                g = b(47)
              d.exports = function (a) {
                return h(g(a))
              }
            },
            function (d, a, b) {
              var h = b(2)
              d.exports = function (a, b) {
                if (2 > arguments.length) {
                  var m = h[a]
                  m = 'function' == typeof m ? m : p
                } else m = h[a] && h[a][b]
                return m
              }
            },
            function (d, a, b) {
              var h = b(47)
              d.exports = function (a) {
                return Object(h(a))
              }
            },
            function (d, a, b) {
              d = b(5)
              var h = b(54),
                g = b(19),
                k = b(48),
                m = Object.defineProperty
              a.f = d
                ? m
                : function (a, f, c) {
                    g(a)
                    f = k(f)
                    g(c)
                    if (h)
                      try {
                        return m(a, f, c)
                      } catch (e) {}
                    if ('get' in c || 'set' in c) throw TypeError('Accessors not supported')
                    'value' in c && (a[f] = c.value)
                    return a
                  }
            },
            function (d, a, b) {
              var h = b(10)
              d.exports = function (a) {
                if (!h(a)) throw TypeError(String(a) + ' is not an object')
                return a
              }
            },
            function (d, a, b) {
              var h = b(60),
                g = Math.min
              d.exports = function (a) {
                return 0 < a ? g(h(a), 9007199254740991) : 0
              }
            },
            function (d, a, b) {
              a = b(30)
              var h = b(102)
              b = b(18)
              var g = a('unscopables'),
                k = Array.prototype
              k[g] == p && b.f(k, g, { configurable: !0, value: h(null) })
              d.exports = function (a) {
                k[g][a] = !0
              }
            },
            function (d, a, b) {
              var h = b(2),
                g = b(36),
                k = Function.call
              d.exports = function (a, b, f) {
                return g(k, h[a].prototype[b], f)
              }
            },
            function (d, a, b) {
              Object.defineProperty(a, '__esModule', { value: !0 })
              a.getSiteVariant = void 0
              var h = null,
                g = {
                  Android: (function () {
                    var a
                    try {
                      var b = new RegExp(/amzn-app-id\s*=\s*([^;]*)?;/g).exec(
                        '; ' + document.cookie,
                      )
                      if (b && 2 === b.length)
                        return (
                          '850' ===
                          (null === (a = b[1].split('/')[1].split('.').pop()) || void 0 === a
                            ? void 0
                            : a.trim())
                        )
                    } catch (n) {
                      console.error('Invalid Version Number')
                    }
                    return !1
                  })()
                    ? 'android-tablet-mshop'
                    : 'android-mshop',
                  iOS: 'ios-iphone-mshop',
                }
              a.getSiteVariant = function () {
                if (!h) {
                  var a =
                    (a = new RegExp(/amzn-app-ctxt\s*=\s*([^;]*)?;/g).exec(
                      '; ' + document.cookie,
                    )) && 2 === a.length
                      ? a[1]
                      : ''
                  a
                    ? ((a = decodeURIComponent(a)),
                      (h =
                        (a = new RegExp(/"os"\s*:\s*"([^"]*)?"/g).exec(a)) && 2 === a.length && a[1]
                          ? a[1] in g
                            ? g[a[1]]
                            : 'unknown'
                          : 'unknown'))
                    : (h = document.documentElement.classList.contains('a-mobile')
                        ? 'mobile'
                        : 'desktop')
                }
                return h
              }
            },
            function (d, a, b) {
              function h(a, f) {
                return a.replace(/\${(.+?)}/g, function (c, e) {
                  return 'undefined' === typeof f[e] ? c : f[e]
                })
              }
              Object.defineProperty(a, '__esModule', { value: !0 })
              a.MID_TO_PRIMARY_LOP =
                a.guardError =
                a.onScroll =
                a.onResize =
                a.createThrottledEventHandler =
                a.throttle =
                a.getDocument =
                a.getWindow =
                a.getElement =
                a.getElements =
                a.getVisibleArea =
                a.setDefaultMetadata =
                a.buildCrossCategoryString =
                a.substituteStringInterpolations =
                a.paramsToURLParameters =
                a.shouldWarmUp =
                  void 0
              b(146)
              var g = b(0),
                k = ['CreRedTeamBotThatsSignedIn']
              a.shouldWarmUp = function () {
                return navigator
                  ? !k.some(function (a) {
                      return navigator.userAgent.includes(a)
                    })
                  : !0
              }
              a.paramsToURLParameters = function (a) {
                return Object.entries(a)
                  .filter(function (a) {
                    a = a[1]
                    return a !== p && null !== a
                  })
                  .flatMap(function (a) {
                    var c = a[0]
                    a = a[1]
                    return Array.isArray(a)
                      ? a.map(function (e) {
                          return [c, e]
                        })
                      : [[c, a]]
                  })
                  .map(function (a) {
                    var c = a[1]
                    return encodeURIComponent(a[0]) + '\x3d' + encodeURIComponent(c)
                  })
                  .join('\x26')
              }
              a.substituteStringInterpolations = h
              a.buildCrossCategoryString = function (a, f, c) {
                return f && 0 < f.length
                  ? f[0] !== p && 'aps' == f[0].value
                    ? p
                    : h(a, { query: '', category: f[0].display }).trim()
                  : p
              }
              a.setDefaultMetadata = function (a) {
                var f, c, e, l
                a == p && (a = {})
                a.headerPrefix = null !== (f = a.headerPrefix) && void 0 !== f ? f : ''
                a.header = null !== (c = a.header) && void 0 !== c ? c : ''
                a.headerSuffix = null !== (e = a.headerSuffix) && void 0 !== e ? e : ''
                a.title = null !== (l = a.title) && void 0 !== l ? l : ''
                return a
              }
              a.getVisibleArea = function (b) {
                var f = b.top,
                  c = b.bottom,
                  e = b.left,
                  l = b.right,
                  n = a.getWindow()
                b = n.innerHeight
                e = m(e, l, n.innerWidth)
                f = m(f, c, b)
                return e * f
              }
              var m = function (a, f, c) {
                return 0 <= a ? Math.min(c - a, f - a) : 0 < f ? Math.min(Math.min(f, c), f - a) : 0
              }
              a.getElements = function (a, f) {
                return Array.prototype.slice.call((f || document.body).querySelectorAll(a))
              }
              a.getElement = function (b, f) {
                f = f || document.body
                var c
                ;(c = !b) ||
                  ((c = f),
                  (c =
                    'matches' in c
                      ? c.matches(b)
                      : 'msMatchesSelector' in c
                        ? c.msMatchesSelector(b)
                        : 'webkitMatchesSelector' in c
                          ? c.webkitMatchesSelector(b)
                          : 0 <= a.getElements(b, a.getDocument().body).indexOf(c)))
                return c ? f : f.querySelector(b)
              }
              a.getWindow = function () {
                return a.getDocument().defaultView
              }
              a.getDocument = function () {
                return document.body.ownerDocument
              }
              a.throttle = function (b, f) {
                var c = !1,
                  e = a.getWindow()
                return function () {
                  for (var a = [], m = 0; m < arguments.length; m++) a[m] = arguments[m]
                  c ||
                    (b.apply(void 0, a),
                    (c = !0),
                    e.setTimeout(function () {
                      c = !1
                    }, f))
                }
              }
              a.createThrottledEventHandler = function (b, f, c) {
                var e = (null === c || void 0 === c ? void 0 : c.ms) || 25,
                  l = (null === c || void 0 === c ? void 0 : c.el) || a.getWindow(),
                  m = a.throttle(f, e)
                l.addEventListener(b, m)
                return function () {
                  l.removeEventListener(b, m)
                }
              }
              a.onResize = function (b, f) {
                return a.createThrottledEventHandler('resize', b, f)
              }
              a.onScroll = function (b, f) {
                return a.createThrottledEventHandler('scroll', b, f)
              }
              a.guardError = function (a, b) {
                return function () {
                  for (var c = [], e = 0; e < arguments.length; e++) c[e] = arguments[e]
                  try {
                    b.apply(void 0, c)
                  } catch (l) {
                    g.logJsError(l, a)
                  }
                }
              }
              a.MID_TO_PRIMARY_LOP = {
                1: 'en_US',
                3: 'en_GB',
                4: 'de_DE',
                5: 'fr_FR',
                35691: 'it_IT',
                44551: 'es_ES',
                623225021: 'en_AE',
                44571: 'en_IN',
                6: 'ja_JP',
                7: 'en_CA',
                3240: 'zh_CN',
                526970: 'pt_BR',
                771770: 'es_MX',
                111172: 'en_AU',
                328451: 'nl_NL',
                338801: 'en_AE',
                338811: 'en_AE',
                338851: 'tr_TR',
                104444012: 'en_SG',
                712115121: 'pl_PL',
                704403121: 'sv_SE',
                679831071: 'fr_BE',
                680844071: 'en_ZA',
              }
            },
            function (d, a, b) {
              function h(a, b, n) {
                a.assertNotNull(b, ['highlightFragments'])
                n = g.Highlighted
                return a.root('autocomplete', 'DisplayString', [
                  n(a, { highlightFragments: b.highlightFragments }, []),
                  null !== b.crossCategoryString && 'undefined' !== typeof b.crossCategoryString
                    ? [
                        ' ',
                        a.createElement(
                          'span',
                          { class: 's-store s-highlight-secondary' },
                          b.crossCategoryString,
                        ),
                      ]
                    : p,
                ])
              }
              var g = b(13)
              d.exports = {}
              d.exports.default = h
              d.exports.DisplayString = h
            },
            function (d, a) {
              function b(a, b, k) {
                return a.root('autocomplete', 'CarouselControl', [
                  [
                    a.createElement(
                      'div',
                      {
                        class:
                          'discover-tr-carousel-control discover-tr-carousel-control-left discover-tr-prevent-close',
                      },
                      a.createElement('img', {
                        alt: '',
                        class: 'discover-tr-carousel-control-left discover-tr-prevent-close',
                        src: 'https://m.media-amazon.com/images/G/01/shopbylook/shoppable-images/next_tab_control._CB416468320_.svg',
                      }),
                    ),
                    a.createElement(
                      'div',
                      {
                        class:
                          'discover-tr-carousel-control discover-tr-carousel-control-right discover-tr-prevent-close',
                      },
                      a.createElement('img', {
                        alt: '',
                        class: 'discover-tr-carousel-control-right discover-tr-prevent-close',
                        src: 'https://m.media-amazon.com/images/G/01/shopbylook/shoppable-images/next_tab_control._CB416468320_.svg',
                      }),
                    ),
                  ],
                ])
              }
              d.exports = {}
              d.exports.default = b
              d.exports.CarouselControl = b
            },
            function (d, a) {
              function b(a, b, n) {
                n = b.customCss !== p && null !== b.customCss ? b.customCss : ''
                a.assertNotNull(b, ['headerPrefix', 'header', 'headerSuffix', 'cssPrefix'])
                return a.root('autocomplete', 'LowercaseHeader', [
                  a.createElement(
                    'div',
                    {
                      class: g([b.cssPrefix + '-suggestion-header', 'single-line-header', n]),
                      role: 'text',
                      'aria-label': b.headerPrefix + b.header + b.headerSuffix,
                      id: 'sac-widget-suggestion-header',
                    },
                    a.createElement('span', { class: 's-heavy' }, b.headerPrefix),
                    b.header,
                    a.createElement('span', { class: 's-heavy' }, b.headerSuffix),
                  ),
                ])
              }
              function h(a) {
                return null !== a && a !== p && '' !== a
              }
              function g(a) {
                a = a.join(' ').split(' ').filter(h).join(' ')
                return 0 < a.length ? a : p
              }
              d.exports = {}
              d.exports.default = b
              d.exports.LowercaseHeader = b
            },
            function (d, a, b) {
              d = {}.propertyIsEnumerable
              var h = Object.getOwnPropertyDescriptor
              b = h && !d.call({ 1: 2 }, 1)
              a.f = b
                ? function (a) {
                    a = h(this, a)
                    return !!a && a.enumerable
                  }
                : d
            },
            function (d, a, b) {
              a = b(9)
              var h = b(46),
                g = ''.split
              d.exports = a(function () {
                return !Object('z').propertyIsEnumerable(0)
              })
                ? function (a) {
                    return 'String' == h(a) ? g.call(a, '') : Object(a)
                  }
                : Object
            },
            function (d, a, b) {
              a = b(2)
              var h = b(52),
                g = b(11),
                k = b(53),
                m = b(51)
              b = b(50)
              var n = h('wks'),
                f = a.Symbol,
                c = b ? f : (f && f.withoutSetter) || k
              d.exports = function (a) {
                if (!g(n, a) || (!m && 'string' != typeof n[a]))
                  m && g(f, a) ? (n[a] = f[a]) : (n[a] = c('Symbol.' + a))
                return n[a]
              }
            },
            function (d, a, b) {
              a = b(2)
              b = b(32)
              b = a['__core-js_shared__'] || b('__core-js_shared__', {})
              d.exports = b
            },
            function (d, a, b) {
              var h = b(2)
              d.exports = function (a, b) {
                try {
                  Object.defineProperty(h, a, { value: b, configurable: !0, writable: !0 })
                } catch (m) {
                  h[a] = b
                }
                return b
              }
            },
            function (d, a, b) {
              a = b(5)
              var h = b(18),
                g = b(45)
              d.exports = a
                ? function (a, b, n) {
                    return h.f(a, b, g(1, n))
                  }
                : function (a, b, n) {
                    a[b] = n
                    return a
                  }
            },
            function (d, a) {
              d.exports = {}
            },
            function (d, a) {
              d.exports =
                'constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf'.split(
                  ' ',
                )
            },
            function (d, a, b) {
              var h = b(63)
              d.exports = function (a, b, m) {
                h(a)
                if (b === p) return a
                switch (m) {
                  case 0:
                    return function () {
                      return a.call(b)
                    }
                  case 1:
                    return function (m) {
                      return a.call(b, m)
                    }
                  case 2:
                    return function (m, f) {
                      return a.call(b, m, f)
                    }
                  case 3:
                    return function (m, f, c) {
                      return a.call(b, m, f, c)
                    }
                }
                return function () {
                  return a.apply(b, arguments)
                }
              }
            },
            function (d, a, b) {
              var h = b(58),
                g = b(35)
              d.exports =
                Object.keys ||
                function (a) {
                  return h(a, g)
                }
            },
            function (d, a, b) {
              var h =
                (this && this.__createBinding) ||
                (Object.create
                  ? function (c, a, e, l) {
                      l === p && (l = e)
                      Object.defineProperty(c, l, {
                        enumerable: !0,
                        get: function () {
                          return a[e]
                        },
                      })
                    }
                  : function (c, a, e, l) {
                      l === p && (l = e)
                      c[l] = a[e]
                    })
              d =
                (this && this.__exportStar) ||
                function (c, a) {
                  for (var e in c)
                    'default' === e || Object.prototype.hasOwnProperty.call(a, e) || h(a, c, e)
                }
              var g =
                (this && this.__importDefault) ||
                function (c) {
                  return c && c.__esModule ? c : { default: c }
                }
              Object.defineProperty(a, '__esModule', { value: !0 })
              a.constructPrefixAttribution =
                a.updateWidgetItemRefTag =
                a.constructRefTag =
                a.implicitRefTag =
                a.buildNileDialogBoxDataStream =
                a.textSuggestionSelectionHandler =
                a.highlightText =
                a.normalizeInputObject =
                a.buildNileSearchLinkURL =
                a.buildEntityLinkURL =
                a.buildSearchLinkUrl =
                  void 0
              var k = b(68)
              d(b(39), a)
              d(b(69), a)
              var m = b(145)
              Object.defineProperty(a, 'buildSearchLinkUrl', {
                enumerable: !0,
                get: function () {
                  return g(m).default
                },
              })
              var n = b(4)
              Object.defineProperty(a, 'buildEntityLinkURL', {
                enumerable: !0,
                get: function () {
                  return g(n).default
                },
              })
              var f = b(40)
              Object.defineProperty(a, 'buildNileSearchLinkURL', {
                enumerable: !0,
                get: function () {
                  return g(f).default
                },
              })
              var c = b(147)
              Object.defineProperty(a, 'normalizeInputObject', {
                enumerable: !0,
                get: function () {
                  return g(c).default
                },
              })
              d(b(24), a)
              var e = b(148)
              Object.defineProperty(a, 'highlightText', {
                enumerable: !0,
                get: function () {
                  return g(e).default
                },
              })
              d(b(68), a)
              var l = b(149)
              Object.defineProperty(a, 'textSuggestionSelectionHandler', {
                enumerable: !0,
                get: function () {
                  return g(l).default
                },
              })
              var w = b(70)
              Object.defineProperty(a, 'buildNileDialogBoxDataStream', {
                enumerable: !0,
                get: function () {
                  return g(w).default
                },
              })
              d(b(23), a)
              d(b(150), a)
              var z = b(151)
              Object.defineProperty(a, 'implicitRefTag', {
                enumerable: !0,
                get: function () {
                  return g(z).default
                },
              })
              d(b(152), a)
              var y = b(153)
              Object.defineProperty(a, 'constructRefTag', {
                enumerable: !0,
                get: function () {
                  return y.constructRefTag
                },
              })
              Object.defineProperty(a, 'updateWidgetItemRefTag', {
                enumerable: !0,
                get: function () {
                  return y.updateWidgetItemRefTag
                },
              })
              a.constructPrefixAttribution = function (c, a) {
                return (c || '') + ',' + (a || 'aps') + ',' + Math.ceil(k.getAverageResponseTime())
              }
            },
            function (d, a, b) {
              var h =
                  (this && this.__createBinding) ||
                  (Object.create
                    ? function (a, b, f, c) {
                        c === p && (c = f)
                        Object.defineProperty(a, c, {
                          enumerable: !0,
                          get: function () {
                            return b[f]
                          },
                        })
                      }
                    : function (a, b, f, c) {
                        c === p && (c = f)
                        a[c] = b[f]
                      }),
                g =
                  (this && this.__setModuleDefault) ||
                  (Object.create
                    ? function (a, b) {
                        Object.defineProperty(a, 'default', { enumerable: !0, value: b })
                      }
                    : function (a, b) {
                        a['default'] = b
                      }),
                k =
                  (this && this.__importStar) ||
                  function (a) {
                    if (a && a.__esModule) return a
                    var b = {}
                    if (null != a)
                      for (var f in a)
                        'default' !== f && Object.prototype.hasOwnProperty.call(a, f) && h(b, a, f)
                    g(b, a)
                    return b
                  }
              Object.defineProperty(a, '__esModule', { value: !0 })
              a.autocompleteServiceDomain = a.domainSuffix = a.searchDomain = void 0
              d = b(69)
              b = k(b(67))
              a.searchDomain = d.getSearchDomain(b.location.hostname)
              a.domainSuffix = d.getAmazonDomainSuffix(a.searchDomain)
              a.autocompleteServiceDomain = 'completion' + a.domainSuffix
            },
            function (d, a, b) {
              Object.defineProperty(a, '__esModule', { value: !0 })
              var h = b(24),
                g = b(39),
                k = b(38)
              a.default = function (a, b) {
                var f = a.value,
                  c = a.refTag
                a = a.crid
                var e = b.searchContext.context,
                  l = e.bbn,
                  m = e.node
                e = e.rh
                var n = b.getContextField('prefix'),
                  d = b.getContextField('n'),
                  u = b.getContextField('alias')
                b = b.getContextField('srs')
                return (
                  'https://' +
                  g.searchDomain +
                  '/s?' +
                  h.paramsToURLParameters({
                    bbn: l,
                    node: m,
                    rh: e,
                    k: f,
                    i: u,
                    ref: c,
                    srs: b,
                    n: d,
                    crid: a,
                    sprefix: k.constructPrefixAttribution(n, u),
                    qis: 'NileOptionInAutocomplete',
                    ni: '1',
                  })
                )
              }
            },
            function (d, a) {
              function b(a, b, n) {
                a.assertNotNull(
                  b,
                  'title subtitle imageUrl imageShape addDropdownButton addEgressChevron'.split(
                    ' ',
                  ),
                )
                return a.root('autocomplete', 'EntityBasicContainer', [
                  a.createElement(
                    'div',
                    {
                      class: g([
                        's-entity-default-pane-container-row',
                        's-suggestion' +
                          (null !== b.suggestionClasses &&
                          'undefined' !== typeof b.suggestionClasses
                            ? ' ' + b.suggestionClasses
                            : ''),
                      ]),
                      role: 'button',
                    },
                    a.createElement(
                      'div',
                      { class: g(['s-entity-default-pane-thumbnail-container-' + b.imageShape]) },
                      a.createElement('img', {
                        class: g(['s-entity-suggestion-image-default-pane-' + b.imageShape]),
                        src: b.imageUrl,
                      }),
                    ),
                    a.createElement(
                      'div',
                      { class: 's-entity-title-container' },
                      a.createElement(
                        'div',
                        { class: 's-store-sug-text s-entity-default-pane-text' },
                        b.title,
                      ),
                      a.createElement(
                        'span',
                        { class: 's-store s-highlight-secondary s-entity-default-pane-subtext' },
                        b.subtitle,
                      ),
                    ),
                    b.addDropdownButton
                      ? a.createElement(
                          'div',
                          { class: 's-entity-dropdown-button-container' },
                          a.createElement('div', {
                            class: 's-entity-chevron-button s-entity-chevron-button-downward',
                          }),
                        )
                      : p,
                    b.addEgressChevron
                      ? a.createElement(
                          'div',
                          { class: 's-entity-chevron-container' },
                          a.createElement('div', {
                            class: 's-entity-chevron-icon s-entity-egress-chevron',
                          }),
                        )
                      : p,
                  ),
                ])
              }
              function h(a) {
                return null !== a && a !== p && '' !== a
              }
              function g(a) {
                a = a.join(' ').split(' ').filter(h).join(' ')
                return 0 < a.length ? a : p
              }
              d.exports = {}
              d.exports.default = b
              d.exports.EntityBasicContainer = b
            },
            function (d, a, b) {
              function h(a, c, e) {
                a.assertNotNull(c, ['suggestion', 'enabledFeatures'])
                var l = m.ThumbnailImage,
                  b = n.DisplayString
                return a.root('autocomplete', 'KeywordSuggestion', [
                  a.createElement(
                    'div',
                    { class: 's-suggestion-container' },
                    c.enabledFeatures.autofill
                      ? null !== c.suggestionClasses && 'undefined' !== typeof c.suggestionClasses
                        ? 's-recentSearchDistinct' !== c.suggestionClasses
                          ? a.createElement(
                              'div',
                              {
                                class: 's-suggestion-autofillDistinct',
                                autofill: !0,
                                role: 'button',
                                'aria-label': 'append suggestion',
                              },
                              a.createElement('i', { class: 'icon-autofill', autofill: !0 }),
                            )
                          : p
                        : a.createElement(
                            'div',
                            {
                              class: 's-suggestion-autofillDistinct',
                              autofill: !0,
                              role: 'button',
                              'aria-label': 'append suggestion',
                            },
                            a.createElement('i', { class: 'icon-autofill', autofill: !0 }),
                          )
                      : p,
                    c.enabledFeatures.rightSideImage
                      ? l(a, { imageUrl: c.suggestion.imageUrl, side: 'right' }, [])
                      : p,
                    a.createElement(
                      'div',
                      {
                        class: k([
                          's-suggestion' +
                            (null !== c.suggestionClasses &&
                            'undefined' !== typeof c.suggestionClasses
                              ? ' ' + c.suggestionClasses
                              : ''),
                          's-suggestion-ellipsis-direction',
                        ]),
                        role: 'button',
                        'aria-label': c.suggestion.value,
                      },
                      b(
                        a,
                        {
                          highlightFragments: c.suggestion.highlightFragments,
                          crossCategoryString: c.suggestion.crossCategoryString,
                        },
                        [],
                      ),
                    ),
                    c.enabledFeatures.leftSideImage
                      ? l(a, { imageUrl: c.suggestion.imageUrl, side: 'left' }, [])
                      : null !== c.suggestionClasses && 'undefined' !== typeof c.suggestionClasses
                        ? [
                            's-recentSearchDistinct' === c.suggestionClasses
                              ? a.createElement(
                                  'div',
                                  {
                                    class: 'icon-suggestion-div past-icon-div',
                                    'suggestion-icon-div': !0,
                                  },
                                  a.createElement('i', {
                                    class: 'icon-past-search-suggestion s-suggestion-icon-left',
                                    'past-icon': !0,
                                  }),
                                  a.createElement('div', {
                                    class:
                                      's-sugg-icon-background s-suggestion-icon-background-grey-shield',
                                  }),
                                )
                              : p,
                            's-recentSearchDistinct' !== c.suggestionClasses
                              ? a.createElement(
                                  'div',
                                  {
                                    class: 'icon-suggestion-div search-icon-div',
                                    'suggestion-icon-div': !0,
                                  },
                                  a.createElement('i', {
                                    class: 'icon-search-suggestion s-suggestion-icon-left',
                                    'suggestion-icon': !0,
                                  }),
                                  a.createElement('div', {
                                    class:
                                      's-sugg-icon-background s-suggestion-icon-background-grey-shield',
                                  }),
                                )
                              : p,
                          ]
                        : a.createElement(
                            'div',
                            {
                              class: 'icon-suggestion-div search-icon-div',
                              'suggestion-icon-div': !0,
                            },
                            a.createElement('i', {
                              class: 'icon-search-suggestion s-suggestion-icon-left',
                              'suggestion-icon': !0,
                            }),
                            a.createElement('div', {
                              class:
                                's-sugg-icon-background s-suggestion-icon-background-grey-shield',
                            }),
                          ),
                    e,
                  ),
                ])
              }
              function g(a) {
                return null !== a && a !== p && '' !== a
              }
              function k(a) {
                a = a.join(' ').split(' ').filter(g).join(' ')
                return 0 < a.length ? a : p
              }
              var m = b(77),
                n = b(25)
              d.exports = {}
              d.exports.default = h
              d.exports.KeywordSuggestion = h
            },
            function (d, a, b) {
              Object.defineProperty(a, '__esModule', { value: !0 })
              a.leftCarouselControl = a.rightCarouselControl = void 0
              var h = b(0),
                g = b(72)
              a.rightCarouselControl = 'discover-tr-carousel-control-right'
              a.leftCarouselControl = 'discover-tr-carousel-control-left'
              d = (function () {
                function b(b, n, f) {
                  var c = this
                  this.click = function (a) {
                    var e, b, f
                    a = null !== a && void 0 !== a ? a : g.highlightSuggestion
                    a =
                      null ===
                        (f =
                          null ===
                            (b =
                              null === (e = c.elements) || void 0 === e
                                ? void 0
                                : e.scrollableArea) || void 0 === b
                            ? void 0
                            : b.find('.' + a)) || void 0 === f
                        ? void 0
                        : f.find('a')
                    return 0 < (null === a || void 0 === a ? void 0 : a.length)
                      ? (h.logOneTimeEvent(h.SearchAcceptanceMetric),
                        h.emitCounter(h.SearchAcceptanceMetric),
                        h.emitEvents(),
                        c.clickLink(a[0]),
                        !0)
                      : !1
                  }
                  this.scrollToHighlightedSuggestion = function (a) {
                    var e, b, f, m
                    ;(null === (e = c.elements) || void 0 === e ? 0 : e.scrollableArea.length) &&
                      a.length &&
                      (null === (b = c.elements) || void 0 === b ? void 0 : b.scrollableArea.stop(),
                      (e =
                        (null === (f = c.elements) || void 0 === f
                          ? NaN
                          : f.scrollableArea.outerWidth(!0)) / 2),
                      (a = a.get(0).offsetLeft + a.get(0).offsetWidth / 2),
                      null === (m = c.elements) || void 0 === m
                        ? void 0
                        : m.scrollableArea.animate({ scrollLeft: a - e }))
                  }
                  this.arrowClickHandler = function (e) {
                    var l = e.target || e.srcElement
                    if (!l) return !0
                    l.className && -1 !== l.className.indexOf(a.rightCarouselControl)
                      ? c.scrollTo('right')
                      : l.className &&
                        -1 !== l.className.indexOf(a.leftCarouselControl) &&
                        c.scrollTo('left')
                    e.preventDefault()
                    return !1
                  }
                  this.carouselClickHandler = function (a) {
                    var e, b
                    a =
                      null ===
                        (b =
                          null === (e = c.elements) || void 0 === e ? void 0 : e.scrollableArea) ||
                      void 0 === b
                        ? void 0
                        : b.find(a.target)
                    if (0 < a.length) {
                      e = a.closest('a', c.scrollableAreaSelector)
                      var f = 0 < e.length ? e : a.find('a')
                    }
                    return 0 < (null === f || void 0 === f ? void 0 : f.length)
                      ? (c.api.hideDropdown(), !0)
                      : !1
                  }
                  this.updateControlVisibility = function () {
                    var a,
                      l,
                      b,
                      f,
                      m,
                      n,
                      g,
                      k,
                      d = c.getControlVisibility()
                    d.left
                      ? null ===
                          (l =
                            null === (a = c.elements) || void 0 === a
                              ? void 0
                              : a.scrollArrowLeft) || void 0 === l
                        ? void 0
                        : l.show()
                      : null ===
                            (f =
                              null === (b = c.elements) || void 0 === b
                                ? void 0
                                : b.scrollArrowLeft) || void 0 === f
                        ? void 0
                        : f.hide()
                    d.right
                      ? null ===
                          (n =
                            null === (m = c.elements) || void 0 === m
                              ? void 0
                              : m.scrollArrowRight) || void 0 === n
                        ? void 0
                        : n.show()
                      : null ===
                            (k =
                              null === (g = c.elements) || void 0 === g
                                ? void 0
                                : g.scrollArrowRight) || void 0 === k
                        ? void 0
                        : k.hide()
                  }
                  this.getControlVisibility = function () {
                    var a,
                      l,
                      b,
                      f,
                      m =
                        0 !==
                        (null === (a = c.elements) || void 0 === a
                          ? void 0
                          : a.scrollableArea.scrollLeft())
                    a =
                      (null === (l = c.elements) || void 0 === l
                        ? void 0
                        : l.scrollableArea.scrollLeft()) <
                      (null === (b = c.elements) || void 0 === b
                        ? NaN
                        : b.scrollableArea.get(0).scrollWidth) -
                        (null === (f = c.elements) || void 0 === f
                          ? NaN
                          : f.scrollableArea.outerWidth(!0))
                    return { left: m, right: a }
                  }
                  this.scrollTo = function (a) {
                    var e, b, f
                    null ===
                      (b = null === (e = c.elements) || void 0 === e ? void 0 : e.scrollableArea) ||
                    void 0 === b
                      ? void 0
                      : b.animate({
                          scrollLeft:
                            (null === (f = c.elements) || void 0 === f
                              ? void 0
                              : f.scrollableArea.scrollLeft()) +
                            250 * ('right' === a ? 1 : -1),
                        })
                  }
                  this.clickLink = function (a) {
                    var c = new MouseEvent('click', {
                      view: q,
                      bubbles: !0,
                      cancelable: !0,
                      clientX: 20,
                    })
                    a.dispatchEvent(c)
                  }
                  this.api = b
                  this.$ = n
                  this.scrollableAreaSelector = f
                }
                b.prototype.attachEventHandlers = function (b) {
                  var m = this,
                    f,
                    c,
                    e,
                    l,
                    g,
                    k,
                    d,
                    h
                  this.elements = {
                    scrollableArea: this.$(b).find(this.scrollableAreaSelector),
                    scrollArrowLeft: this.$(b).find('.' + a.leftCarouselControl),
                    scrollArrowRight: this.$(b).find('.' + a.rightCarouselControl),
                  }
                  null ===
                    (c =
                      null === (f = this.elements) || void 0 === f ? void 0 : f.scrollableArea) ||
                  void 0 === c
                    ? void 0
                    : c.scroll(function () {
                        m.updateControlVisibility()
                      })
                  null ===
                    (l =
                      null === (e = this.elements) || void 0 === e ? void 0 : e.scrollArrowLeft) ||
                  void 0 === l
                    ? void 0
                    : l.bind('click', this.arrowClickHandler)
                  null ===
                    (k =
                      null === (g = this.elements) || void 0 === g ? void 0 : g.scrollArrowRight) ||
                  void 0 === k
                    ? void 0
                    : k.bind('click', this.arrowClickHandler)
                  null ===
                    (h =
                      null === (d = this.elements) || void 0 === d ? void 0 : d.scrollableArea) ||
                  void 0 === h
                    ? void 0
                    : h.bind('click', this.carouselClickHandler)
                }
                b.prototype.onRendered = function () {
                  this.updateControlVisibility()
                }
                b.prototype.onResized = function () {
                  var a
                  ;(null === (a = this.elements) || void 0 === a ? 0 : a.scrollableArea.length) &&
                    this.updateControlVisibility()
                }
                return b
              })()
              a.default = d
            },
            function (d, a, b) {
              d = b(5)
              var h = b(28),
                g = b(45),
                k = b(15),
                m = b(48),
                n = b(11),
                f = b(54),
                c = Object.getOwnPropertyDescriptor
              a.f = d
                ? c
                : function (a, b) {
                    a = k(a)
                    b = m(b)
                    if (f)
                      try {
                        return c(a, b)
                      } catch (w) {}
                    if (n(a, b)) return g(!h.f.call(a, b), a[b])
                  }
            },
            function (d, a) {
              d.exports = function (a, d) {
                return {
                  enumerable: !(a & 1),
                  configurable: !(a & 2),
                  writable: !(a & 4),
                  value: d,
                }
              }
            },
            function (d, a) {
              var b = {}.toString
              d.exports = function (a) {
                return b.call(a).slice(8, -1)
              }
            },
            function (d, a) {
              d.exports = function (a) {
                if (a == p) throw TypeError("Can't call method on " + a)
                return a
              }
            },
            function (d, a, b) {
              var h = b(88),
                g = b(49)
              d.exports = function (a) {
                a = h(a, 'string')
                return g(a) ? a : String(a)
              }
            },
            function (d, a, b) {
              var h = b(16)
              a = b(50)
              d.exports = a
                ? function (a) {
                    return 'symbol' == ('undefined' === typeof a ? 'undefined' : F(a))
                  }
                : function (a) {
                    var b = h('Symbol')
                    return 'function' == typeof b && Object(a) instanceof b
                  }
            },
            function (d, a, b) {
              a = b(51)
              d.exports = a && !Symbol.sham && 'symbol' == F(Symbol.iterator)
            },
            function (d, a, b) {
              var h = b(89)
              a = b(9)
              d.exports =
                !!Object.getOwnPropertySymbols &&
                !a(function () {
                  var a = Symbol()
                  return (
                    !String(a) || !(Object(a) instanceof Symbol) || (!Symbol.sham && h && 41 > h)
                  )
                })
            },
            function (d, a, b) {
              a = b(92)
              var h = b(31)
              ;(d.exports = function (a, b) {
                return h[a] || (h[a] = b !== p ? b : {})
              })('versions', []).push({
                version: '3.17.3',
                mode: a ? 'pure' : 'global',
                copyright: ' 2021 Denis Pushkarev (zloirock.ru)',
              })
            },
            function (d, a) {
              var b = 0,
                h = Math.random()
              d.exports = function (a) {
                return 'Symbol(' + String(a === p ? '' : a) + ')_' + (++b + h).toString(36)
              }
            },
            function (d, a, b) {
              a = b(5)
              var h = b(9),
                g = b(55)
              d.exports =
                !a &&
                !h(function () {
                  return (
                    7 !=
                    Object.defineProperty(g('div'), 'a', {
                      get: function () {
                        return 7
                      },
                    }).a
                  )
                })
            },
            function (d, a, b) {
              a = b(2)
              b = b(10)
              var h = a.document,
                g = b(h) && b(h.createElement)
              d.exports = function (a) {
                return g ? h.createElement(a) : {}
              }
            },
            function (d, a, b) {
              a = b(31)
              var h = Function.toString
              'function' != typeof a.inspectSource &&
                (a.inspectSource = function (a) {
                  return h.call(a)
                })
              d.exports = a.inspectSource
            },
            function (d, a, b) {
              a = b(52)
              var h = b(53),
                g = a('keys')
              d.exports = function (a) {
                return g[a] || (g[a] = h(a))
              }
            },
            function (d, a, b) {
              var h = b(11),
                g = b(15),
                k = b(59).indexOf,
                m = b(34)
              d.exports = function (a, b) {
                a = g(a)
                var c = 0,
                  e = [],
                  l
                for (l in a) !h(m, l) && h(a, l) && e.push(l)
                for (; b.length > c; ) h(a, (l = b[c++])) && (~k(e, l) || e.push(l))
                return e
              }
            },
            function (d, a, b) {
              var h = b(15),
                g = b(20),
                k = b(99)
              a = function (a) {
                return function (b, f, c) {
                  b = h(b)
                  var e = g(b.length)
                  c = k(c, e)
                  if (a && f != f)
                    for (; e > c; ) {
                      if (((f = b[c++]), f != f)) return !0
                    }
                  else for (; e > c; c++) if ((a || c in b) && b[c] === f) return a || c || 0
                  return !a && -1
                }
              }
              d.exports = { includes: a(!0), indexOf: a(!1) }
            },
            function (d, a) {
              var b = Math.ceil,
                h = Math.floor
              d.exports = function (a) {
                return isNaN((a = +a)) ? 0 : (0 < a ? h : b)(a)
              }
            },
            function (d, a) {
              a.f = Object.getOwnPropertySymbols
            },
            function (d, a, b) {
              var h = b(36),
                g = b(29),
                k = b(17),
                m = b(20),
                n = b(64),
                f = [].push
              a = function (a) {
                var c = 1 == a,
                  b = 2 == a,
                  w = 3 == a,
                  d = 4 == a,
                  y = 6 == a,
                  u = 7 == a,
                  v = 5 == a || y
                return function (e, l, z, q) {
                  var C = k(e),
                    J = g(C)
                  l = h(l, z, 3)
                  z = m(J.length)
                  var E = 0
                  q = q || n
                  e = c ? q(e, z) : b || u ? q(e, 0) : p
                  for (var U; z > E; E++)
                    if (v || E in J)
                      if (((q = J[E]), (U = l(q, E, C)), a))
                        if (c) e[E] = U
                        else if (U)
                          switch (a) {
                            case 3:
                              return !0
                            case 5:
                              return q
                            case 6:
                              return E
                            case 2:
                              f.call(e, q)
                          }
                        else
                          switch (a) {
                            case 4:
                              return !1
                            case 7:
                              f.call(e, q)
                          }
                  return y ? -1 : w || d ? d : e
                }
              }
              d.exports = {
                forEach: a(0),
                map: a(1),
                filter: a(2),
                some: a(3),
                every: a(4),
                find: a(5),
                findIndex: a(6),
                filterReject: a(7),
              }
            },
            function (d, a) {
              d.exports = function (a) {
                if ('function' != typeof a) throw TypeError(String(a) + ' is not a function')
                return a
              }
            },
            function (d, a, b) {
              var h = b(101)
              d.exports = function (a, b) {
                return new (h(a))(0 === b ? 0 : b)
              }
            },
            function (d, a, b) {
              var h = b(46)
              d.exports =
                Array.isArray ||
                function (a) {
                  return 'Array' == h(a)
                }
            },
            function (d, a, b) {
              a = b(2)
              d.exports = a
            },
            function (d, a, b) {
              Object.defineProperty(a, '__esModule', { value: !0 })
              a.location = void 0
              a.location = q.location
            },
            function (d, a, b) {
              Object.defineProperty(a, '__esModule', { value: !0 })
              a.recordResponseTime = a.getAverageResponseTime = void 0
              var h = 0,
                g = 0
              a.getAverageResponseTime = function () {
                return g ? h / g : 0
              }
              a.recordResponseTime = function (a) {
                g += 1
                h += a
              }
            },
            function (d, a, b) {
              function h(a) {
                return a.substr(a.indexOf('.amazon.'))
              }
              Object.defineProperty(a, '__esModule', { value: !0 })
              a.getSearchDomain = a.getAmazonDomainSuffix = void 0
              a.getAmazonDomainSuffix = h
              a.getSearchDomain = function (a) {
                return a && (/.*\bdev-dsk\b.*/.test(a) || /.*\bhp-shoppingportal\b.*/.test(a))
                  ? 'www' + h(a)
                  : a
              }
            },
            function (d, a, b) {
              d =
                (this && this.__importDefault) ||
                function (a) {
                  return a && a.__esModule ? a : { default: a }
                }
              Object.defineProperty(a, '__esModule', { value: !0 })
              var h = d(b(40))
              a.default = function (a, b) {
                var m = a.value
                a = { url: h.default(a, b) }
                return {
                  qis: 'NileOptionInAutocomplete',
                  query: m,
                  metricName: 'NileAutocompleteClick',
                  metadata: a,
                }
              }
            },
            function (d, a, b) {
              Object.defineProperty(a, '__esModule', { value: !0 })
              var h = b(0)
              d = (function () {
                function a(a) {
                  this.enabledFeatures = a
                }
                a.prototype.deSelect = function (a) {
                  var b
                  ;(
                    null === (b = this.enabledFeatures) || void 0 === b
                      ? 0
                      : b.accessibilityColorContrast
                  )
                    ? a.classList.remove(h.highlightSuggestionByKeyboardFocus)
                    : a.classList.remove(h.highlightSuggestion)
                }
                a.prototype.select = function (a, b, n) {
                  var f
                  ;(null === (f = this.enabledFeatures) || void 0 === f
                    ? 0
                    : f.accessibilityColorContrast) && b instanceof KeyboardEvent
                    ? a.classList.add(h.highlightSuggestionByKeyboardFocus)
                    : a.classList.add(h.highlightSuggestion)
                  b.preventDefault()
                }
                a.prototype.isSelected = function (a) {
                  var b
                  return (
                    null === (b = this.enabledFeatures) || void 0 === b
                      ? 0
                      : b.accessibilityColorContrast
                  )
                    ? a.classList.contains(h.highlightSuggestion) ||
                        a.classList.contains(h.highlightSuggestionByKeyboardFocus)
                    : a.classList.contains(h.highlightSuggestion)
                }
                a.prototype.matchesSearchQuery = function (a, b) {
                  return a === b.value
                }
                a.prototype.isDelimited = function () {
                  return !1
                }
                a.prototype.click = function (a) {
                  h.emitEvents()
                  return !1
                }
                a.prototype.resize = function (a) {}
                a.prototype.getSelectedId = function (a) {
                  var b
                  if (!a) return ''
                  var n = (
                    null === (b = this.enabledFeatures) || void 0 === b
                      ? 0
                      : b.accessibilityColorContrast
                  )
                    ? h.highlightSuggestionByKeyboardFocus
                    : h.highlightSuggestion
                  return a &&
                    a.classList &&
                    a.classList.contains(n) &&
                    (b = a.querySelector('[role\x3d"gridcell"]')) &&
                    b.id
                    ? b.id
                    : a.id
                      ? a.id
                      : ''
                }
                return a
              })()
              a.default = d
            },
            function (d, a, b) {
              function h(a) {
                for (var c = {}, e = 0; e < a.length; e++)
                  for (var b = a[e], l = 0, f = b.type(); l < f.length; l++) {
                    var m = f[l]
                    if (c[m]) throw Error('Multiple template registrations for ' + m)
                    c[m] = b
                  }
                return c
              }
              var g =
                (this && this.__createBinding) ||
                (Object.create
                  ? function (a, c, e, b) {
                      b === p && (b = e)
                      Object.defineProperty(a, b, {
                        enumerable: !0,
                        get: function () {
                          return c[e]
                        },
                      })
                    }
                  : function (a, c, e, b) {
                      b === p && (b = e)
                      a[b] = c[e]
                    })
              d =
                (this && this.__exportStar) ||
                function (a, c) {
                  for (var e in a)
                    'default' === e || Object.prototype.hasOwnProperty.call(c, e) || g(c, a, e)
                }
              var k =
                (this && this.__importDefault) ||
                function (a) {
                  return a && a.__esModule ? a : { default: a }
                }
              Object.defineProperty(a, '__esModule', { value: !0 })
              a.renderingFunctionsForEntityDisclosurePane =
                a.renderingFunctionsForEntityDefaultPane =
                a.renderingFunctions =
                a.dispatchTable =
                a.delimiter =
                a.options =
                  void 0
              var m = k(b(160)),
                n = k(b(189)),
                f = k(b(190)),
                c = k(b(191)),
                e = k(b(192)),
                l = k(b(193)),
                w = k(b(194)),
                z = k(b(195)),
                y = k(b(196)),
                u = k(b(197)),
                v = k(b(198)),
                C = k(b(199)),
                J = k(b(200)),
                E = k(b(201)),
                q = k(b(202)),
                V = k(b(203)),
                r = k(b(80)),
                t = k(b(204)),
                aa = k(b(81)),
                A = k(b(205)),
                D = k(b(206)),
                I = k(b(207)),
                L = k(b(208)),
                G = k(b(209)),
                x = k(b(210)),
                H = k(b(211)),
                F = k(b(212)),
                K = k(b(213))
              d(b(214), a)
              var B = new (b(222).DomKataRuntime)()
              b = b(1)
              var M = b.Separator,
                N = b.Options
              a.options = function (a) {
                return N.default(B, a)
              }
              a.delimiter = function () {
                return M.default(B, {})
              }
              a.dispatchTable = h
              a.renderingFunctions = function (a) {
                var b = a.getContext()
                a = [
                  new m.default(B, a, b),
                  new n.default(B, a, b),
                  new f.default(B, a, b),
                  new c.default(B, a, b),
                  new e.default(B, a),
                  new l.default(B, a),
                  new w.default(B, a),
                  new z.default(B),
                  new y.default(B),
                  new u.default(B, a),
                  new v.default(B),
                  new E.default(B),
                  new C.default(B, a),
                  new J.default(B, a, b),
                  new q.default(B, a),
                  new D.default(B, a),
                  new V.default(B, a, b),
                  new L.default(B, a, b),
                  new aa.default(B, a, b),
                  new A.default(B, a, b),
                  new I.default(B, a, b),
                ]
                return h(a)
              }
              a.renderingFunctionsForEntityDefaultPane = function (a) {
                var c = a.getContext()
                a = [new r.default(B, a, c), new t.default(B, a, c)]
                return h(a)
              }
              a.renderingFunctionsForEntityDisclosurePane = function (a) {
                a = [
                  new G.default(B, a),
                  new x.default(B, a),
                  new H.default(B, a),
                  new F.default(B, a),
                  new K.default(B, a),
                ]
                return h(a)
              }
            },
            function (d, a, b) {
              function h(a) {
                return a && a.length !== p
                  ? a.length
                  : 'object' === ('undefined' === typeof a ? 'undefined' : F(a)) && null !== a
                    ? Object.keys(a).length
                    : 0
              }
              function g(a) {
                return 0 === h(a)
              }
              function k(a) {
                return g(a) ? a : a.trim()
              }
              b.r(a)
              var m = {
                toJSON: function (a) {
                  return JSON.stringify(a)
                },
                size: h,
                isEmpty: g,
                trim: k,
                isBlank: function (a) {
                  a = k(a)
                  return g(a)
                },
                toUpperCase: function (a) {
                  return g(a) ? a : a.toLocaleUpperCase()
                },
                toLowerCase: function (a) {
                  return g(a) ? a : a.toLocaleLowerCase()
                },
                range: function (a, b) {
                  var c = []
                  if (a === p || null === a || b === p || null === b) return c
                  for (; a <= b; ) c.push(a), a++
                  return c
                },
                renameKeys: function (a, b) {
                  var c = {}
                  Object.keys(b).forEach(function (e) {
                    c[a[e] || e] = b[e]
                  })
                  return c
                },
                keys: function (a) {
                  return Object.keys(a)
                },
                contains: function (a, b) {
                  return g(a) ? !1 : 0 <= a.indexOf(b)
                },
              }
              a['default'] = function () {
                return m
              }
            },
            function (d, a, b) {
              function h(a, b, n) {
                a.assertNotNull(b, ['highlightFragments', 'byline'])
                n = g.Highlighted
                return a.root('autocomplete', 'DisplayKeywordWithByline', [
                  n(a, { highlightFragments: b.highlightFragments }, []),
                  ' ',
                  a.createElement('span', { class: 's-store s-highlight-secondary' }, b.byline),
                ])
              }
              var g = b(13)
              d.exports = {}
              d.exports.default = h
              d.exports.DisplayKeywordWithByline = h
            },
            function (d, a, b) {
              function h(a, b, n) {
                a.assertNotNull(b, ['suggestion', 'enabledFeatures'])
                n = g.DisplayString
                return a.root('autocomplete', 'SuggestionWithoutTitle', [
                  a.createElement(
                    'div',
                    { class: 's-suggestion-container' },
                    b.enabledFeatures.autofill
                      ? a.createElement(
                          'div',
                          {
                            class: 's-suggestion-autofillDistinct',
                            autofill: !0,
                            role: 'button',
                            'aria-label': 'append suggestion',
                          },
                          a.createElement('i', { class: 'icon-autofill', autofill: !0 }),
                        )
                      : p,
                    a.createElement(
                      'div',
                      {
                        class:
                          's-suggestion s-relatedSearchDistinct s-suggestion-ellipsis-direction',
                        role: 'button',
                        'aria-label': b.suggestion.value,
                      },
                      n(a, { highlightFragments: b.suggestion.highlightFragments }, []),
                    ),
                    a.createElement(
                      'div',
                      { class: 'icon-suggestion-div search-icon-div', 'suggestion-icon-div': !0 },
                      a.createElement('i', {
                        class: 'icon-search-suggestion s-suggestion-icon-left',
                        'suggestion-icon': !0,
                      }),
                      a.createElement('div', {
                        class: 's-sugg-icon-background s-suggestion-icon-background-grey-shield',
                      }),
                    ),
                  ),
                ])
              }
              var g = b(25)
              d.exports = {}
              d.exports.default = h
              d.exports.SuggestionWithoutTitle = h
            },
            function (d, a) {
              function b(a, b, k) {
                a.assertNotNull(b, ['header'])
                return a.root('autocomplete', 'AsinHeader', [
                  null !== b.brandingPrefix && 'undefined' !== typeof b.brandingPrefix
                    ? [
                        a.createElement(
                          'div',
                          { class: 's-size-mini s-asin-branding-prefix' },
                          b.brandingPrefix,
                        ),
                        a.createElement(
                          'div',
                          { class: 's-size-mini s-sug-pp-caption-with-branding' },
                          b.header,
                        ),
                      ]
                    : a.createElement('div', { class: 's-size-mini s-sug-pp-caption' }, b.header),
                ])
              }
              d.exports = {}
              d.exports.default = b
              d.exports.AsinHeader = b
            },
            function (d, a) {
              function b(a, b, n) {
                a.assertNotNull(b, ['side'])
                return a.root('autocomplete', 'ThumbnailImage', [
                  null !== b.imageUrl && 'undefined' !== typeof b.imageUrl
                    ? a.createElement(
                        'div',
                        { class: g(['s-suggestion-image-container', b.side]) },
                        a.createElement('img', {
                          class: 's-suggestion-image-left',
                          src: b.imageUrl,
                          alt: '',
                        }),
                        a.createElement('div', {
                          class:
                            's-sugg-image-background s-suggestion-image-background-grey-shield',
                        }),
                      )
                    : p,
                ])
              }
              function h(a) {
                return null !== a && a !== p && '' !== a
              }
              function g(a) {
                a = a.join(' ').split(' ').filter(h).join(' ')
                return 0 < a.length ? a : p
              }
              d.exports = {}
              d.exports.default = b
              d.exports.ThumbnailImage = b
            },
            function (d, a) {
              function b(a, b, d) {
                return a.root('autocomplete', 'WidgetHeader', [
                  null !== b.widgetHeader && 'undefined' !== typeof b.widgetHeader
                    ? a.createElement(
                        'div',
                        { class: 's-bia-widget-header single-line-header' },
                        b.widgetHeader,
                      )
                    : p,
                ])
              }
              d.exports = {}
              d.exports.default = b
              d.exports.WidgetHeader = b
            },
            function (d, a, b) {
              Object.defineProperty(a, '__esModule', { value: !0 })
              a.setTitle = void 0
              var h = b(0)
              a.setTitle = function (a, b) {
                a.metadata.title = h.substituteStringInterpolations(b, {
                  keyword: a.value,
                  refinement: a.metadata.refinement,
                })
                return a
              }
            },
            function (d, a, b) {
              var h =
                  (this && this.__extends) ||
                  (function () {
                    var a = function (c, b) {
                      a =
                        Object.setPrototypeOf ||
                        ({ __proto__: [] } instanceof Array &&
                          function (a, c) {
                            a.__proto__ = c
                          }) ||
                        function (a, c) {
                          for (var b in c)
                            Object.prototype.hasOwnProperty.call(c, b) && (a[b] = c[b])
                        }
                      return a(c, b)
                    }
                    return function (c, b) {
                      function e() {
                        this.constructor = c
                      }
                      a(c, b)
                      c.prototype =
                        null === b ? Object.create(b) : ((e.prototype = b.prototype), new e())
                    }
                  })(),
                g =
                  (this && this.__assign) ||
                  function () {
                    g =
                      Object.assign ||
                      function (a) {
                        for (var c, b = 1, f = arguments.length; b < f; b++) {
                          c = arguments[b]
                          for (var m in c)
                            Object.prototype.hasOwnProperty.call(c, m) && (a[m] = c[m])
                        }
                        return a
                      }
                    return g.apply(this, arguments)
                  }
              Object.defineProperty(a, '__esModule', { value: !0 })
              a.dropdownButtonDownwardClassName = a.dropdownButtonUpwardClassName = void 0
              var k = b(0),
                m = b(3)
              d = b(1)
              var n = d.EntityBasicDropdown,
                f = d.EntityBasic
              a.dropdownButtonUpwardClassName = 's-entity-chevron-button-upward'
              a.dropdownButtonDownwardClassName = 's-entity-chevron-button-downward'
              d = (function (a) {
                function c(c, b, e, f) {
                  void 0 === f && (f = k.EntityWidgetPane.Default)
                  var l = a.call(this) || this
                  l.select = function (a, c, b) {}
                  l.deSelect = function (a) {}
                  l.api = b
                  l.context = e
                  l.kataRuntime = c
                  l.pane = f
                  return l
                }
                h(c, a)
                c.prototype.accept = function (a, c) {
                  c = g(g({}, a), { responseMetadata: c })
                  c.metadata.csaTag = m.generateCSATag(a)
                  return c
                }
                c.prototype.type = function () {
                  return [
                    k.EntityDefaultPaneTemplate.ENTITY_BASIC,
                    k.EntityDefaultPaneTemplate.ENTITY_BASIC_DROPDOWN,
                  ]
                }
                c.prototype.click = function (a) {
                  return !0
                }
                c.prototype.generateHtml = function (a) {
                  var c
                  a = k.normalizeInputObject(a)
                  var b = JSON.parse(a.metadata.image),
                    e = null === b || void 0 === b ? void 0 : b.url
                  b = (b.shape ? b.shape : k.EntityImageShape.RECTANGLE).toLowerCase()
                  var l =
                      'ENTITY_BASIC_DROPDOWN' === m.getEntityTemplateConfig(a).defaultPaneTemplate,
                    d =
                      (null === (c = a.metadata) || void 0 === c ? void 0 : c.addEgressChevron) ||
                      !1
                  return l
                    ? n.default(
                        this.kataRuntime,
                        g(
                          {
                            suggestion: a,
                            imageUrl: e,
                            imageShape: b,
                            addDropdownButton: l,
                            addEgressChevron: d,
                          },
                          this.context,
                        ),
                      )
                    : f.default(
                        this.kataRuntime,
                        g(
                          {
                            suggestion: a,
                            imageUrl: e,
                            imageShape: b,
                            addDropdownButton: l,
                            addEgressChevron: d,
                          },
                          this.context,
                        ),
                      )
                }
                return c
              })(k.InstrumentedSuggestion)
              a.default = d
            },
            function (d, a, b) {
              var h =
                  (this && this.__extends) ||
                  (function () {
                    var a = function (b, c) {
                      a =
                        Object.setPrototypeOf ||
                        ({ __proto__: [] } instanceof Array &&
                          function (a, c) {
                            a.__proto__ = c
                          }) ||
                        function (a, c) {
                          for (var b in c)
                            Object.prototype.hasOwnProperty.call(c, b) && (a[b] = c[b])
                        }
                      return a(b, c)
                    }
                    return function (b, c) {
                      function e() {
                        this.constructor = b
                      }
                      a(b, c)
                      b.prototype =
                        null === c ? Object.create(c) : ((e.prototype = c.prototype), new e())
                    }
                  })(),
                g =
                  (this && this.__assign) ||
                  function () {
                    g =
                      Object.assign ||
                      function (a) {
                        for (var b, c = 1, e = arguments.length; c < e; c++) {
                          b = arguments[c]
                          for (var l in b)
                            Object.prototype.hasOwnProperty.call(b, l) && (a[l] = b[l])
                        }
                        return a
                      }
                    return g.apply(this, arguments)
                  }
              Object.defineProperty(a, '__esModule', { value: !0 })
              var k = b(0),
                m = b(1).SuggestionWithoutTitle
              d = (function (a) {
                function b(c, b, l) {
                  var e = a.call(this) || this
                  e.select = function (a, c, b) {
                    var l
                    if ((a = a.querySelector('.s-suggestion-container')))
                      (null === (l = e.api.getContext().enabledFeatures) || void 0 === l
                        ? 0
                        : l.accessibilityColorContrast) && c instanceof KeyboardEvent
                        ? a.classList.add(k.highlightSuggestionByKeyboardFocus)
                        : a.classList.add(k.highlightSuggestion),
                        c.preventDefault(),
                        k.textSuggestionSelectionHandler(b, e.api)
                  }
                  e.isDelimited = function () {
                    var a = e.context.enabledFeatures
                    if (a.useSuggestionDelimiter !== p) return a.useSuggestionDelimiter
                    a = e.api.getContext().getContextField('site-variant')
                    return k.isMShop(a)
                  }
                  e.attachEventHandlers = function (a, c) {
                    a.addEventListener(
                      'click',
                      k.guardError({}, function (a) {
                        a.target instanceof Element && a.target.hasAttribute('autofill')
                          ? e.api.autofillSuggestion(c.value)
                          : e.click(c)
                      }),
                    )
                  }
                  e.generateHtml = function (a) {
                    return m.default(e.kataRuntime, {
                      suggestion: a,
                      enabledFeatures: e.context.enabledFeatures,
                    })
                  }
                  e.api = b
                  e.context = l
                  e.kataRuntime = c
                  return e
                }
                h(b, a)
                b.prototype.accept = function (a, b) {
                  a = g(g({}, a), {
                    crid: b.responseId,
                    highlightFragments: k.highlightText(a.value, a.value),
                  })
                  return k.normalizeInputObject(a)
                }
                b.prototype.type = function () {
                  return ['SUGGESTION_WITHOUT_TITLE']
                }
                b.prototype.deSelect = function (a) {
                  var c = this
                  a.querySelectorAll('div').forEach(function (a) {
                    var b
                    ;(
                      null === (b = c.api.getContext().enabledFeatures) || void 0 === b
                        ? 0
                        : b.accessibilityColorContrast
                    )
                      ? a.classList.remove(k.highlightSuggestionByKeyboardFocus)
                      : a.classList.remove(k.highlightSuggestion)
                  })
                }
                b.prototype.isSelected = function (a) {
                  var c
                  return (a = a.querySelector('.s-suggestion-container'))
                    ? (
                        null === (c = this.api.getContext().enabledFeatures) || void 0 === c
                          ? 0
                          : c.accessibilityColorContrast
                      )
                      ? a.classList.contains(k.highlightSuggestion) ||
                        a.classList.contains(k.highlightSuggestionByKeyboardFocus)
                      : a.classList.contains(k.highlightSuggestion)
                    : !1
                }
                b.prototype.click = function (c) {
                  k.logOneTimeEvent(k.SearchAcceptanceMetric)
                  k.emitCounter(k.SearchAcceptanceMetric)
                  a.prototype.click.call(this, c)
                  q.location.assign(k.buildSearchLinkUrl(c, this.api.getContext()))
                  return !0
                }
                return b
              })(k.InstrumentedSuggestion)
              a.default = d
            },
            function (d, a, b) {
              function h(a, c) {
                var b = a('#marketplace'),
                  e = a('#alias')
                e.length &&
                  b.length &&
                  (c
                    .getContext()
                    .autocompleteContext.updateContext({ alias: e.val(), mid: b.val() }),
                  e.bind('input', function (a) {
                    return c.getContext().autocompleteContext.updateContext({ alias: e.val() })
                  }),
                  b.bind('input', function (a) {
                    return c.getContext().autocompleteContext.updateContext({ mid: b.val() })
                  }))
              }
              var g =
                (this && this.__assign) ||
                function () {
                  g =
                    Object.assign ||
                    function (a) {
                      for (var c, b = 1, e = arguments.length; b < e; b++) {
                        c = arguments[b]
                        for (var l in c) Object.prototype.hasOwnProperty.call(c, l) && (a[l] = c[l])
                      }
                      return a
                    }
                  return g.apply(this, arguments)
                }
              d =
                (this && this.__importDefault) ||
                function (a) {
                  return a && a.__esModule ? a : { default: a }
                }
              Object.defineProperty(a, '__esModule', { value: !0 })
              a.component = void 0
              b(83)
              b(105)
              b(109)
              b(115)
              b(119)
              b(124)
              var k = b(0),
                m = b(215),
                n = d(b(216)),
                f = d(b(219)),
                c = d(b(220)),
                e = d(b(221))
              a.component = function (a) {
                var b,
                  l,
                  d = a.$,
                  u = a.AutocompletePlugin,
                  v = a.JSON,
                  C =
                    a.localizedStrings ||
                    v.parse(d('#autocomplete-string-localizations')[0].innerHTML)
                u = new c.default(u)
                var p = a.inputBox ? a.inputBox : new f.default(d('#search-box')[0], u),
                  E = a.resultsContainer || d('#attach-to-me')[0],
                  q = a.leftPaneResultsContainer || d('#attach-to-me')[0],
                  V = a.rightPaneResultsContainer || d('#attach-to-me')[0],
                  r = new e.default(
                    d,
                    g(
                      g(
                        g(
                          {},
                          (
                            null === (b = null === a || void 0 === a ? void 0 : a.platform) ||
                            void 0 === b
                              ? 0
                              : b.maxSuggestions
                          )
                            ? { maxSuggestions: a.platform.maxSuggestions }
                            : {},
                        ),
                        (
                          null === (l = null === a || void 0 === a ? void 0 : a.endpoints) ||
                          void 0 === l
                            ? 0
                            : l.completion
                        )
                          ? { completion: a.endpoints.completion }
                          : {},
                      ),
                      (null === a || void 0 === a ? 0 : a.config) ? { config: a.config } : {},
                    ),
                  )
                b = new k.AutocompleteContext(a.cfg, a.platform, a.autocompleteContextOverrides)
                  .context
                var t = new n.default(d, r, u, p, E, q, V, C, b, a.flags || {})
                t.getContext().autocompleteContext.updateContext(
                  new k.AutocompleteContext(a.cfg, a.platform, a.autocompleteContextOverrides)
                    .context,
                )
                h(d, t)
                a.warmup && k.shouldWarmUp() && r.warmupRequest()
                return {
                  setSearchUrlContext: function (a) {
                    t.getContext().searchContext.updateContext(a)
                  },
                  logMetric: function (a) {
                    m.logMShopMetric(a)
                  },
                  searchQuery: function (a) {
                    a = v.parse(a)
                    a.query && p.setKeyword(a.query)
                    'searchUrlContext' in a &&
                      (this.setSearchUrlContext(a.searchUrlContext), delete a.searchUrlContext)
                    'webviewHeight' in a &&
                      (t.getContext().updateWebviewHeight(a.webviewHeight), delete a.webviewHeight)
                    'keyboardEnabled' in a &&
                      (t.getContext().updateKeyboardEnabled(a.keyboardEnabled),
                      delete a.keyboardEnabled)
                    t.getSuggestions(m.searchQueryToSuggestionsRequest(a))
                  },
                  navigationListener: function (a) {
                    return t.navigation(a)
                  },
                  listener: t.onInput,
                  logPrefixSearch: function () {
                    k.logOneTimeEvent(k.SearchNonAcceptanceMetric)
                    k.emitCounter(k.SearchNonAcceptanceMetric)
                    k.emitEvents()
                  },
                }
              }
            },
            function (d, a, b) {
              a = b(84)
              d.exports = a
            },
            function (d, a, b) {
              a = b(85)
              d.exports = a
            },
            function (d, a, b) {
              b(86)
              a = b(22)
              d.exports = a('Array', 'find')
            },
            function (d, a, b) {
              d = b(8)
              var h = b(62).find
              b = b(21)
              var g = !0
              'find' in [] &&
                Array(1).find(function () {
                  g = !1
                })
              d(
                { target: 'Array', proto: !0, forced: g },
                {
                  find: function (a) {
                    return h(this, a, 1 < arguments.length ? arguments[1] : p)
                  },
                },
              )
              b('find')
            },
            function (d, a) {
              a = (function () {
                return this
              })()
              try {
                a = a || new Function('return this')()
              } catch (b) {
                'object' === ('undefined' === typeof q ? 'undefined' : F(q)) && (a = q)
              }
              d.exports = a
            },
            function (d, a, b) {
              var h = b(10),
                g = b(49),
                k = b(91),
                m = b(30)('toPrimitive')
              d.exports = function (a, b) {
                if (!h(a) || g(a)) return a
                var c = a[m]
                if (c !== p) {
                  b === p && (b = 'default')
                  a = c.call(a, b)
                  if (!h(a) || g(a)) return a
                  throw TypeError("Can't convert object to primitive value")
                }
                b === p && (b = 'number')
                return k(a, b)
              }
            },
            function (d, a, b) {
              a = b(2)
              b = b(90)
              var h = a.process
              a = a.Deno
              a = (a = (h && h.versions) || (a && a.version)) && a.v8
              if (a) {
                a = a.split('.')
                var g = 4 > a[0] ? 1 : a[0] + a[1]
              } else
                b &&
                  ((a = b.match(/Edge\/(\d+)/)),
                  (!a || 74 <= a[1]) && (a = b.match(/Chrome\/(\d+)/)) && (g = a[1]))
              d.exports = g && +g
            },
            function (d, a, b) {
              a = b(16)
              d.exports = a('navigator', 'userAgent') || ''
            },
            function (d, a, b) {
              var h = b(10)
              d.exports = function (a, b) {
                var m, n
                if (
                  ('string' === b &&
                    'function' == typeof (m = a.toString) &&
                    !h((n = m.call(a)))) ||
                  ('function' == typeof (m = a.valueOf) && !h((n = m.call(a)))) ||
                  ('string' !== b && 'function' == typeof (m = a.toString) && !h((n = m.call(a))))
                )
                  return n
                throw TypeError("Can't convert object to primitive value")
              }
            },
            function (d, a) {
              d.exports = !1
            },
            function (d, a, b) {
              var h = b(2),
                g = b(33),
                k = b(11),
                m = b(32),
                n = b(56)
              a = b(94)
              var f = a.get,
                c = a.enforce,
                e = String(String).split('String')
              ;(d.exports = function (a, b, f, n) {
                var l = n ? !!n.unsafe : !1,
                  w = n ? !!n.enumerable : !1
                n = n ? !!n.noTargetGet : !1
                if ('function' == typeof f) {
                  'string' != typeof b || k(f, 'name') || g(f, 'name', b)
                  var d = c(f)
                  d.source || (d.source = e.join('string' == typeof b ? b : ''))
                }
                a === h
                  ? w
                    ? (a[b] = f)
                    : m(b, f)
                  : (l ? !n && a[b] && (w = !0) : delete a[b], w ? (a[b] = f) : g(a, b, f))
              })(Function.prototype, 'toString', function () {
                return ('function' == typeof this && f(this).source) || n(this)
              })
            },
            function (d, a, b) {
              a = b(95)
              var h = b(2),
                g = b(10),
                k = b(33),
                m = b(11),
                n = b(31),
                f = b(57)
              b = b(34)
              h = h.WeakMap
              if (a || n.state) {
                var c = n.state || (n.state = new h()),
                  e = c.get,
                  l = c.has,
                  w = c.set
                var z = function (a, b) {
                  if (l.call(c, a)) throw new TypeError('Object already initialized')
                  b.facade = a
                  w.call(c, a, b)
                  return b
                }
                var y = function (a) {
                  return e.call(c, a) || {}
                }
                var u = function (a) {
                  return l.call(c, a)
                }
              } else {
                var v = f('state')
                b[v] = !0
                z = function (a, c) {
                  if (m(a, v)) throw new TypeError('Object already initialized')
                  c.facade = a
                  k(a, v, c)
                  return c
                }
                y = function (a) {
                  return m(a, v) ? a[v] : {}
                }
                u = function (a) {
                  return m(a, v)
                }
              }
              d.exports = {
                set: z,
                get: y,
                has: u,
                enforce: function (a) {
                  return u(a) ? y(a) : z(a, {})
                },
                getterFor: function (a) {
                  return function (c) {
                    var b
                    if (!g(c) || (b = y(c)).type !== a)
                      throw TypeError('Incompatible receiver, ' + a + ' required')
                    return b
                  }
                },
              }
            },
            function (d, a, b) {
              a = b(2)
              b = b(56)
              a = a.WeakMap
              d.exports = 'function' === typeof a && /native code/.test(b(a))
            },
            function (d, a, b) {
              var h = b(11),
                g = b(97),
                k = b(44),
                m = b(18)
              d.exports = function (a, b) {
                for (var c = g(b), e = m.f, l = k.f, f = 0; f < c.length; f++) {
                  var n = c[f]
                  h(a, n) || e(a, n, l(b, n))
                }
              }
            },
            function (d, a, b) {
              a = b(16)
              var h = b(98),
                g = b(61),
                k = b(19)
              d.exports =
                a('Reflect', 'ownKeys') ||
                function (a) {
                  var b = h.f(k(a)),
                    f = g.f
                  return f ? b.concat(f(a)) : b
                }
            },
            function (d, a, b) {
              var h = b(58),
                g = b(35).concat('length', 'prototype')
              a.f =
                Object.getOwnPropertyNames ||
                function (a) {
                  return h(a, g)
                }
            },
            function (d, a, b) {
              var h = b(60),
                g = Math.max,
                k = Math.min
              d.exports = function (a, b) {
                a = h(a)
                return 0 > a ? g(a + b, 0) : k(a, b)
              }
            },
            function (d, a, b) {
              var h = b(9),
                g = /#|\.prototype\./
              a = function (a, b) {
                a = m[k(a)]
                return a == f ? !0 : a == n ? !1 : 'function' == typeof b ? h(b) : !!b
              }
              var k = (a.normalize = function (a) {
                  return String(a).replace(g, '.').toLowerCase()
                }),
                m = (a.data = {}),
                n = (a.NATIVE = 'N'),
                f = (a.POLYFILL = 'P')
              d.exports = a
            },
            function (d, a, b) {
              var h = b(10),
                g = b(65),
                k = b(30)('species')
              d.exports = function (a) {
                if (g(a)) {
                  var b = a.constructor
                  'function' != typeof b || (b !== Array && !g(b.prototype))
                    ? h(b) && ((b = b[k]), null === b && (b = p))
                    : (b = p)
                }
                return b === p ? Array : b
              }
            },
            function (d, a, b) {
              var h = b(19),
                g = b(103),
                k = b(35)
              a = b(34)
              var m = b(104),
                n = b(55),
                f = b(57)('IE_PROTO'),
                c = function () {},
                e = function (a) {
                  a.write('\x3cscript\x3e\x3c/script\x3e')
                  a.close()
                  return a.parentWindow.Object
                },
                l,
                w = function () {
                  try {
                    l = new ActiveXObject('htmlfile')
                  } catch (y) {}
                  if ('undefined' != typeof document)
                    if (document.domain && l) var a = e(l)
                    else
                      (a = n('iframe')),
                        (a.style.display = 'none'),
                        m.appendChild(a),
                        (a.src = 'javascript:'),
                        (a = a.contentWindow.document),
                        a.open(),
                        a.write('\x3cscript\x3edocument.F\x3dObject\x3c/script\x3e'),
                        a.close(),
                        (a = a.F)
                  else a = e(l)
                  w = a
                  for (a = k.length; a--; ) delete w.prototype[k[a]]
                  return w()
                }
              a[f] = !0
              d.exports =
                Object.create ||
                function (a, b) {
                  if (null !== a) {
                    c.prototype = h(a)
                    var e = new c()
                    c.prototype = null
                    e[f] = a
                  } else e = w()
                  return b === p ? e : g(e, b)
                }
            },
            function (d, a, b) {
              a = b(5)
              var h = b(18),
                g = b(19),
                k = b(37)
              d.exports = a
                ? Object.defineProperties
                : function (a, b) {
                    g(a)
                    for (var f = k(b), c = f.length, e = 0, l; c > e; ) h.f(a, (l = f[e++]), b[l])
                    return a
                  }
            },
            function (d, a, b) {
              a = b(16)
              d.exports = a('document', 'documentElement')
            },
            function (d, a, b) {
              a = b(106)
              d.exports = a
            },
            function (d, a, b) {
              a = b(107)
              d.exports = a
            },
            function (d, a, b) {
              b(108)
              a = b(22)
              d.exports = a('Array', 'findIndex')
            },
            function (d, a, b) {
              d = b(8)
              var h = b(62).findIndex
              b = b(21)
              var g = !0
              'findIndex' in [] &&
                Array(1).findIndex(function () {
                  g = !1
                })
              d(
                { target: 'Array', proto: !0, forced: g },
                {
                  findIndex: function (a) {
                    return h(this, a, 1 < arguments.length ? arguments[1] : p)
                  },
                },
              )
              b('findIndex')
            },
            function (d, a, b) {
              a = b(110)
              d.exports = a
            },
            function (d, a, b) {
              a = b(111)
              d.exports = a
            },
            function (d, a, b) {
              b(112)
              b(114)
              a = b(22)
              d.exports = a('Array', 'flatMap')
            },
            function (d, a, b) {
              d = b(8)
              var h = b(113),
                g = b(17),
                k = b(20),
                m = b(63),
                n = b(64)
              d(
                { target: 'Array', proto: !0 },
                {
                  flatMap: function (a) {
                    var c = g(this),
                      b = k(c.length)
                    m(a)
                    var l = n(c, 0)
                    l.length = h(l, c, c, b, 0, 1, a, 1 < arguments.length ? arguments[1] : p)
                    return l
                  },
                },
              )
            },
            function (d, a, b) {
              var h = b(65),
                g = b(20),
                k = b(36)
              d.exports = function u(a, b, c, e, l, w, d, y) {
                var f = 0
                for (d = d ? k(d, y, 3) : !1; f < e; ) {
                  if (f in c) {
                    y = d ? d(c[f], f, b) : c[f]
                    if (0 < w && h(y)) l = u(a, b, y, g(y.length), l, w - 1) - 1
                    else {
                      if (9007199254740991 <= l)
                        throw TypeError('Exceed the acceptable array length')
                      a[l] = y
                    }
                    l++
                  }
                  f++
                }
                return l
              }
            },
            function (d, a, b) {
              b(21)('flatMap')
            },
            function (d, a, b) {
              a = b(116)
              d.exports = a
            },
            function (d, a, b) {
              a = b(117)
              d.exports = a
            },
            function (d, a, b) {
              b(118)
              a = b(22)
              d.exports = a('Array', 'includes')
            },
            function (d, a, b) {
              d = b(8)
              var h = b(59).includes
              b = b(21)
              d(
                { target: 'Array', proto: !0 },
                {
                  includes: function (a) {
                    return h(this, a, 1 < arguments.length ? arguments[1] : p)
                  },
                },
              )
              b('includes')
            },
            function (d, a, b) {
              a = b(120)
              d.exports = a
            },
            function (d, a, b) {
              a = b(121)
              d.exports = a
            },
            function (d, a, b) {
              b(122)
              a = b(66)
              d.exports = a.Object.assign
            },
            function (d, a, b) {
              d = b(8)
              b = b(123)
              d({ target: 'Object', stat: !0, forced: Object.assign !== b }, { assign: b })
            },
            function (d, a, b) {
              var h = b(5)
              a = b(9)
              var g = b(37),
                k = b(61),
                m = b(28),
                n = b(17),
                f = b(29),
                c = Object.assign,
                e = Object.defineProperty
              d.exports =
                !c ||
                a(function () {
                  if (
                    h &&
                    1 !==
                      c(
                        { b: 1 },
                        c(
                          e({}, 'a', {
                            enumerable: !0,
                            get: function () {
                              e(this, 'b', { value: 3, enumerable: !1 })
                            },
                          }),
                          { b: 2 },
                        ),
                      ).b
                  )
                    return !0
                  var a = {},
                    b = {},
                    f = Symbol()
                  a[f] = 7
                  'abcdefghijklmnopqrst'.split('').forEach(function (a) {
                    b[a] = a
                  })
                  return 7 != c({}, a)[f] || 'abcdefghijklmnopqrst' != g(c({}, b)).join('')
                })
                  ? function (a, c) {
                      for (var b = n(a), e = arguments.length, l = 1, w = k.f, d = m.f; e > l; )
                        for (
                          var p = f(arguments[l++]),
                            E = w ? g(p).concat(w(p)) : g(p),
                            q = E.length,
                            t = 0,
                            r;
                          q > t;

                        )
                          if (((r = E[t++]), !h || d.call(p, r))) b[r] = p[r]
                      return b
                    }
                  : c
            },
            function (d, a, b) {
              a = b(125)
              d.exports = a
            },
            function (d, a, b) {
              a = b(126)
              d.exports = a
            },
            function (d, a, b) {
              b(127)
              a = b(66)
              d.exports = a.Object.entries
            },
            function (d, a, b) {
              d = b(8)
              var h = b(128).entries
              d(
                { target: 'Object', stat: !0 },
                {
                  entries: function (a) {
                    return h(a)
                  },
                },
              )
            },
            function (d, a, b) {
              var h = b(5),
                g = b(37),
                k = b(15),
                m = b(28).f
              a = function (a) {
                return function (b) {
                  b = k(b)
                  for (var c = g(b), e = c.length, l = 0, f = [], n; e > l; )
                    (n = c[l++]), (h && !m.call(b, n)) || f.push(a ? [n, b[n]] : b[n])
                  return f
                }
              }
              d.exports = { entries: a(!0), values: a(!1) }
            },
            function (d, a, b) {
              Object.defineProperty(a, '__esModule', { value: !0 })
              a.EntityWidgetPane =
                a.EntityLayout =
                a.EntityDisclosurePaneTriggeringSource =
                a.EntityDisclosurePaneTemplate =
                a.EntityDefaultPaneTemplate =
                a.EntityImageShape =
                a.EntityType =
                  void 0
              ;(function (a) {
                a.EVENT = 'EVENT'
                a.BOOK = 'BOOK'
              })(a.EntityType || (a.EntityType = {}))
              ;(function (a) {
                a.RECTANGLE = 'RECTANGLE'
                a.CIRCLE = 'CIRCLE'
                a.ROUNDED = 'ROUNDED'
              })(a.EntityImageShape || (a.EntityImageShape = {}))
              ;(function (a) {
                a.ENTITY_BASIC = 'ENTITY_BASIC'
                a.ENTITY_BASIC_DROPDOWN = 'ENTITY_BASIC_DROPDOWN'
                a.ENTITY_EGRESS_DROPDOWN = 'ENTITY_EGRESS_DROPDOWN'
              })(a.EntityDefaultPaneTemplate || (a.EntityDefaultPaneTemplate = {}))
              ;(function (a) {
                a.BUTTON_CAROUSEL = 'BUTTON_CAROUSEL'
                a.RESIZABLE_TILE_ROWS = 'RESIZABLE_TILE_ROWS'
                a.TILE_ROWS = 'TILE_ROWS'
                a.CAROUSEL_TILE = 'CAROUSEL_TILE'
                a.PRODUCT_PREVIEW = 'PRODUCT_PREVIEW'
              })(a.EntityDisclosurePaneTemplate || (a.EntityDisclosurePaneTemplate = {}))
              ;(function (a) {
                a.DEFAULT_SHOW = 'DEFAULT_SHOW'
                a.MOUSEOVER = 'MOUSEOVER'
                a.KEYBOARD_SELECT = 'KEYBOARD_SELECT'
                a.DROPDOWN_BUTTON_CLICK = 'DROPDOWN_BUTTON_CLICK'
              })(
                a.EntityDisclosurePaneTriggeringSource ||
                  (a.EntityDisclosurePaneTriggeringSource = {}),
              )
              ;(function (a) {
                a.LEFT_PANE_ONLY = 'LEFT_PANE_ONLY'
                a.LEFT_AND_RIGHT_PANE = 'LEFT_AND_RIGHT_PANE'
              })(a.EntityLayout || (a.EntityLayout = {}))
              ;(function (a) {
                a.Default = 'de'
                a.Disclosure = 'di'
              })(a.EntityWidgetPane || (a.EntityWidgetPane = {}))
            },
            function (d, a, b) {
              Object.defineProperty(a, '__esModule', { value: !0 })
              a.getEventType = void 0
              var h = b(0)
              a.getEventType = function (a, b) {
                if (!b || 0 >= b.length) return 'onfocus'
                if (
                  'input' === a ||
                  'clickToAcceptPredictiveText' === a ||
                  'arrowRightToAcceptPredictiveText' === a ||
                  'tabKeyToAcceptPredictiveText' === a
                )
                  return 'onkeypress'
                if ('focus' === a && b && 0 < b.length) return 'onfocuswithsearchterm'
                h.logOneTimeEvent(h.EventTypeNoneMetric)
                h.emitCounter(h.EventTypeNoneMetric)
                return 'none'
              }
            },
            function (d, a, b) {
              Object.defineProperty(a, '__esModule', { value: !0 })
              a.isMobileWeb = a.isMShop = void 0
              a.isMShop = function (a) {
                return a ? a.includes('mshop') : !1
              }
              a.isMobileWeb = function (a) {
                return a ? a.includes('mobile') : !1
              }
            },
            function (d, a, b) {
              var h =
                (this && this.__createBinding) ||
                (Object.create
                  ? function (a, b, m, n) {
                      n === p && (n = m)
                      Object.defineProperty(a, n, {
                        enumerable: !0,
                        get: function () {
                          return b[m]
                        },
                      })
                    }
                  : function (a, b, m, n) {
                      n === p && (n = m)
                      a[n] = b[m]
                    })
              d =
                (this && this.__exportStar) ||
                function (a, b) {
                  for (var m in a)
                    'default' === m || Object.prototype.hasOwnProperty.call(b, m) || h(b, a, m)
                }
              Object.defineProperty(a, '__esModule', { value: !0 })
              d(b(133), a)
              d(b(134), a)
              d(b(135), a)
            },
            function (d, a, b) {
              var h =
                  (this && this.__extends) ||
                  (function () {
                    var a = function (c, b) {
                      a =
                        Object.setPrototypeOf ||
                        ({ __proto__: [] } instanceof Array &&
                          function (a, c) {
                            a.__proto__ = c
                          }) ||
                        function (a, c) {
                          for (var b in c)
                            Object.prototype.hasOwnProperty.call(c, b) && (a[b] = c[b])
                        }
                      return a(c, b)
                    }
                    return function (c, b) {
                      function e() {
                        this.constructor = c
                      }
                      a(c, b)
                      c.prototype =
                        null === b ? Object.create(b) : ((e.prototype = b.prototype), new e())
                    }
                  })(),
                g =
                  (this && this.__assign) ||
                  function () {
                    g =
                      Object.assign ||
                      function (a) {
                        for (var c, b = 1, f = arguments.length; b < f; b++) {
                          c = arguments[b]
                          for (var m in c)
                            Object.prototype.hasOwnProperty.call(c, m) && (a[m] = c[m])
                        }
                        return a
                      }
                    return g.apply(this, arguments)
                  }
              Object.defineProperty(a, '__esModule', { value: !0 })
              a.logError =
                a.logEvent =
                a.logOneTimeEvent =
                a.timedPromiseWrapper =
                a.latencyWrapper =
                a.timedFunctionWrapper =
                a.CSMCounterLatencyMetric =
                a.CSMLatencyMetric =
                a.logJsError =
                  void 0
              var k = b(23)
              a.logJsError = function (a, b) {
                void 0 === b && (b = {})
                if ('function' === typeof ueLogError) {
                  var c =
                    b.attribution && 0 !== b.attribution.length
                      ? 'SearchAutocomplete:' + b.attribution
                      : 'SearchAutocomplete'
                  ueLogError(a, g(g({}, b), { attribution: c }))
                }
              }
              var m = (function () {
                  return function (a) {
                    var c = this
                    this.record = function (a) {
                      c.isEnabled() &&
                        (0 >= a
                          ? c.consoleError(
                              'cannot log ' +
                                c.metricName +
                                ' with value ' +
                                a +
                                ', it is negative or 0',
                            )
                          : q.ue.count(c.metricName + ':' + k.getSiteVariant(), a))
                    }
                    this.consoleError = function (a) {
                      console.error('CSM logging failed for ' + c.metricName + ' - ' + a)
                    }
                    this.isEnabled = function () {
                      var a = !!q.ue
                      a || c.consoleError('CSM not found in window')
                      return a
                    }
                    this.metricName = a
                  }
                })(),
                n = (function (a) {
                  function c(c) {
                    var b = a.call(this, c) || this
                    b.start = function () {
                      b.isCSMTimingEnabled() && (0, q.uet)('bb', b.scope, { wb: 1 })
                    }
                    b.setRequestId = function (a) {
                      b.isCSMTimingEnabled() && a && (0, q.ues)('id', b.scope, a)
                    }
                    b.finish = function () {
                      b.isCSMTimingEnabled() &&
                        ((0, q.uet)('be', b.scope, { wb: 1 }), (0, q.uex)('ld', b.scope, { wb: 1 }))
                    }
                    b.isCSMTimingEnabled = function () {
                      var a = q.uet && q.ues && q.uex
                      a || b.consoleError('CSM not found in window')
                      return a
                    }
                    b.scope = b.metricName + ':' + k.getSiteVariant()
                    return b
                  }
                  h(c, a)
                  return c
                })(m)
              a.CSMLatencyMetric = n
              var f = (function (a) {
                function c(c) {
                  var b = a.call(this, c) || this
                  b.finish = function () {
                    return b.record(new Date().getTime() - b.startTime)
                  }
                  b.startTime = new Date().getTime()
                  return b
                }
                h(c, a)
                return c
              })(m)
              a.CSMCounterLatencyMetric = f
              a.timedFunctionWrapper = function (a, b) {
                return function () {
                  for (var c = [], e = 0; e < arguments.length; e++) c[e] = arguments[e]
                  e = new f(a)
                  c = b.apply(void 0, c)
                  e.finish()
                  return c
                }
              }
              a.latencyWrapper = function (a, b) {
                return function () {
                  for (var c = [], e = 0; e < arguments.length; e++) c[e] = arguments[e]
                  e = new n(a)
                  e.start()
                  c = b.apply(void 0, c)
                  e.finish()
                  return c
                }
              }
              a.timedPromiseWrapper = function (a, b) {
                var c = new f(a)
                return b.then(
                  function (a) {
                    c.finish()
                    return Promise.resolve(a)
                  },
                  function (a) {
                    c.finish()
                    return Promise.reject(a)
                  },
                )
              }
              a.logOneTimeEvent = function (a) {
                a = new n(a)
                a.start()
                a.finish()
              }
              a.logEvent = function (a, b) {
                void 0 === b && (b = 1)
                new m(a).record(b)
              }
              a.logError = function (a) {
                new m('Error:' + a).record(1)
              }
            },
            function (d, a, b) {
              var h =
                (this && this.__extends) ||
                (function () {
                  var a = function (b, c) {
                    a =
                      Object.setPrototypeOf ||
                      ({ __proto__: [] } instanceof Array &&
                        function (a, b) {
                          a.__proto__ = b
                        }) ||
                      function (a, b) {
                        for (var c in b) Object.prototype.hasOwnProperty.call(b, c) && (a[c] = b[c])
                      }
                    return a(b, c)
                  }
                  return function (b, c) {
                    function e() {
                      this.constructor = b
                    }
                    a(b, c)
                    b.prototype =
                      null === c ? Object.create(c) : ((e.prototype = c.prototype), new e())
                  }
                })()
              Object.defineProperty(a, '__esModule', { value: !0 })
              a.emitError =
                a.emitLatency =
                a.emitCounter =
                a.measuredMethod =
                a.measuredPromise =
                a.LatencyMetric =
                a.emitEvents =
                a.eventsQueue =
                  void 0
              var g = b(0),
                k = b(23),
                m = {}
              a.eventsQueue = []
              a.emitEvents = function () {
                if (!(1 > a.eventsQueue.length)) {
                  for (var b = []; 0 < a.eventsQueue.length; ) {
                    var e = a.eventsQueue.pop()
                    b.push({ data: e })
                  }
                  e = q.AutocompleteAPI
                  null === e || void 0 === e
                    ? void 0
                    : e.getJQuery().ajax({
                        url:
                          'https://unagi' +
                          g.domainSuffix +
                          '/1/events/com.amazon.eel.SearchAutocompleteUIServiceMetrics.nexus',
                        type: 'POST',
                        contentType: 'application/json',
                        data: JSON.stringify({ events: b }),
                        error: function (a, b, c) {
                          console.error(
                            'Metric emission failed with message: ' + b + ', errorThrown: ' + c,
                          )
                        },
                      })
                }
              }
              setInterval(function () {
                q.AutocompleteAPI && a.emitEvents()
              }, 3e3)
              d = (function () {
                return function (b, e, l) {
                  var c = this,
                    f,
                    n,
                    d
                  this.emit = function () {
                    var b = !g.SKIP_DEDUPLICATE_METRICS_NAMES.includes(c.metricName),
                      e = m[c.metricName] || 0,
                      l = c.timestamp || new Date().getTime()
                    ;(b && 3e3 > l - e) ||
                      ((m[c.metricName] = l),
                      (b = {
                        metricName: c.metricName,
                        platform: c.platform,
                        marketplaceId: c.marketplaceId,
                        isError: c.isError,
                        timestamp: l,
                      }),
                      c.count ? (b.count = c.count) : c.latency && (b.latency = c.latency),
                      a.eventsQueue.push(b))
                  }
                  this.isEnabled = function () {
                    var a = !!c.api
                    a || c.consoleError('Emit called before API is ready')
                    return a
                  }
                  this.consoleError = function (a) {
                    console.error('Unagi logging failed for ' + c.metricName + ' - ' + a)
                  }
                  this.metricName = b
                  this.platform = k.getSiteVariant()
                  this.api = q.AutocompleteAPI
                  this.marketplaceId =
                    null ===
                      (d =
                        null ===
                          (n =
                            null === (f = this.api) || void 0 === f
                              ? void 0
                              : f.getContext().autocompleteContext) || void 0 === n
                          ? void 0
                          : n.context) || void 0 === d
                      ? void 0
                      : d.mid
                  this.isError = e || !1
                  this.timestamp = l
                }
              })()
              var n = (function (a) {
                  function b(b, c, e, f) {
                    void 0 === c && (c = 1)
                    b = a.call(this, b, e, f) || this
                    b.count = c
                    return b
                  }
                  h(b, a)
                  return b
                })(d),
                f = (function (a) {
                  function b(b, c, e, f) {
                    var l = a.call(this, b, e, f) || this
                    l.start = function () {
                      l.startTime || (l.startTime = new Date().getTime())
                    }
                    l.finish = function () {
                      l.startTime &&
                        !l.endTime &&
                        ((l.endTime = new Date().getTime()),
                        (l.latency = l.endTime - l.startTime),
                        l.emit())
                    }
                    c && (l.latency = c)
                    return l
                  }
                  h(b, a)
                  return b
                })(d)
              a.LatencyMetric = f
              a.measuredPromise = function (a, b) {
                var c = new f(a)
                c.start()
                b.then(
                  function () {
                    c.finish()
                  },
                  function () {
                    c.finish()
                  },
                ).catch(function () {})
                return b
              }
              a.measuredMethod = function (a, b) {
                return function () {
                  for (var c = [], e = 0; e < arguments.length; e++) c[e] = arguments[e]
                  e = new f(a)
                  e.start()
                  c = b.apply(void 0, c)
                  e.finish()
                  return c
                }
              }
              a.emitCounter = function (a, b, l) {
                void 0 === b && (b = 1)
                new n(a, b, !1, l).emit()
              }
              a.emitLatency = function (a, b, l) {
                new f(a, b, !1, l).emit()
              }
              a.emitError = function (a) {
                new n(a, 1, !0).emit()
              }
            },
            function (d, a, b) {
              Object.defineProperty(a, '__esModule', { value: !0 })
              a.SKIP_DEDUPLICATE_METRICS_NAMES =
                a.EventTypeNoneMetric =
                a.NavxGhostingFieldsNotAvailableOnRetailMetric =
                a.NavxGhostingFieldsNotAvailableOnABMetric =
                a.NavxGhostingFieldsNotAvailableMetric =
                a.EnabledGhostingClickedTabMetric =
                a.EnabledGhostingClickedOnSearchBarMetric =
                a.EnabledGhostingClickedArrowRightMetric =
                a.SearchNonAcceptanceMetric =
                a.SearchAcceptanceMetric =
                a.AutofillLatencyMetricName =
                  void 0
              a.AutofillLatencyMetricName = 'AutofillLatency'
              a.SearchAcceptanceMetric = 'SearchAcceptance'
              a.SearchNonAcceptanceMetric = 'SearchNonAcceptance'
              a.EnabledGhostingClickedArrowRightMetric = 'EnabledGhostingClickedArrowRight'
              a.EnabledGhostingClickedOnSearchBarMetric = 'EnabledGhostingClickedOnSearchBar'
              a.EnabledGhostingClickedTabMetric = 'EnabledGhostingClickedTab'
              a.NavxGhostingFieldsNotAvailableMetric = 'NavxGhostingFieldsNotAvailable'
              a.NavxGhostingFieldsNotAvailableOnABMetric = 'NavxGhostingFieldsNotAvailableOnAB'
              a.NavxGhostingFieldsNotAvailableOnRetailMetric =
                'NavxGhostingFieldsNotAvailableOnRetail'
              a.EventTypeNoneMetric = 'EventTypeNone'
              a.SKIP_DEDUPLICATE_METRICS_NAMES = [
                a.NavxGhostingFieldsNotAvailableMetric,
                a.NavxGhostingFieldsNotAvailableOnABMetric,
                a.NavxGhostingFieldsNotAvailableOnRetailMetric,
                a.EventTypeNoneMetric,
                a.EnabledGhostingClickedArrowRightMetric,
                a.EnabledGhostingClickedOnSearchBarMetric,
                a.EnabledGhostingClickedTabMetric,
              ]
            },
            function (d, a, b) {
              var h =
                (this && this.__createBinding) ||
                (Object.create
                  ? function (a, b, c, e) {
                      e === p && (e = c)
                      Object.defineProperty(a, e, {
                        enumerable: !0,
                        get: function () {
                          return b[c]
                        },
                      })
                    }
                  : function (a, b, c, e) {
                      e === p && (e = c)
                      a[e] = b[c]
                    })
              d =
                (this && this.__exportStar) ||
                function (a, b) {
                  for (var c in a)
                    'default' === c || Object.prototype.hasOwnProperty.call(b, c) || h(b, a, c)
                }
              var g =
                (this && this.__importDefault) ||
                function (a) {
                  return a && a.__esModule ? a : { default: a }
                }
              Object.defineProperty(a, '__esModule', { value: !0 })
              a.keyboardVerticalNavHandler =
                a.cardsKeyboardScrollHandler =
                a.keyboardScrollHandler =
                a.AutocompleteView =
                a.AutocompleteListTwoPane =
                a.AutocompleteList =
                  void 0
              var k = b(137)
              Object.defineProperty(a, 'AutocompleteList', {
                enumerable: !0,
                get: function () {
                  return g(k).default
                },
              })
              var m = b(139)
              Object.defineProperty(a, 'AutocompleteListTwoPane', {
                enumerable: !0,
                get: function () {
                  return g(m).default
                },
              })
              var n = b(140)
              Object.defineProperty(a, 'AutocompleteView', {
                enumerable: !0,
                get: function () {
                  return g(n).default
                },
              })
              var f = b(141)
              Object.defineProperty(a, 'keyboardScrollHandler', {
                enumerable: !0,
                get: function () {
                  return g(f).default
                },
              })
              var c = b(142)
              Object.defineProperty(a, 'cardsKeyboardScrollHandler', {
                enumerable: !0,
                get: function () {
                  return g(c).default
                },
              })
              var e = b(143)
              Object.defineProperty(a, 'keyboardVerticalNavHandler', {
                enumerable: !0,
                get: function () {
                  return g(e).default
                },
              })
              d(b(144), a)
            },
            function (d, a, b) {
              Object.defineProperty(a, '__esModule', { value: !0 })
              var h = b(0),
                g = b(3),
                k = b(138),
                m = 0
              d = (function () {
                function a(a, b, e, l) {
                  var c = this
                  void 0 === l && (l = null)
                  var f, n
                  this.render = function (a, b) {
                    var e,
                      f,
                      l,
                      n,
                      d,
                      w,
                      z,
                      y,
                      u = 0,
                      p = !1,
                      v,
                      t
                    c.autocompleteContainer.style.position = 'auto'
                    c.autocompleteContainer.style.height = 'auto'
                    var r = [],
                      A = b.enabledFeatures
                    A = void 0 === A ? {} : A
                    r = c.deduplicateSuggestions(a.suggestions)
                    c.statusMessageContainer &&
                      (c.statusMessageContainer.textContent = k.getStatusMessage(a.prefix, r, b))
                    r.forEach(function (e, f) {
                      var l,
                        m,
                        n,
                        d,
                        k,
                        w = 'WIDGET' === e.type ? e.template : e.type
                      try {
                        var z = c.dataToTemplate(e)
                        if (z) {
                          var y = new Date().getTime(),
                            C = z.render(e, a)
                          if (C && 0 < C.childNodes.length) {
                            u >= c.autocompleteContainer.children.length
                              ? c.autocompleteContainer.appendChild(C)
                              : (null === (l = c.autocompleteListElements[u]) || void 0 === l
                                  ? void 0
                                  : l.data) !== e &&
                                c.autocompleteContainer.replaceChild(
                                  C,
                                  c.autocompleteContainer.children[u],
                                )
                            c.autocompleteListElements[u] = new h.AutocompleteListElement(C, e, z)
                            ;(null ===
                              (m = null === b || void 0 === b ? void 0 : b.enabledFeatures) ||
                            void 0 === m
                              ? 0
                              : m.accessibilityDesignPattern) &&
                              c.applyAccessibilityForSuggestion(C, u)
                            ;(
                              null ===
                                (n = null === b || void 0 === b ? void 0 : b.enabledFeatures) ||
                              void 0 === n
                                ? 0
                                : n.entityPD
                            )
                              ? c.autocompleteListElements[u].addMouseOverEventListener(
                                  c.api,
                                  null ===
                                    (d = g.getEntityTemplateConfig(
                                      g.getEntityWidgetSuggestion(r),
                                    )) || void 0 === d
                                    ? void 0
                                    : d.entityLayout,
                                  g.hasMouseoverTriggeringEntityWidget(c.autocompleteListElements),
                                )
                              : c.autocompleteListElements[u].addMouseOverEventListener(
                                  c.api,
                                  null ===
                                    (k = g.getEntityTemplateConfig(
                                      c.autocompleteListElements[0].data,
                                    )) || void 0 === k
                                    ? void 0
                                    : k.entityLayout,
                                  c.hasMouseoverTriggeringEntityWidget(),
                                )
                            if (z.isDelimited() && a.suggestions.length > f + 1) {
                              var J = c.$(C)
                              h.delimiter().forEach(function (a) {
                                J.append(a)
                              })
                            }
                            u += 1
                            'WIDGET' === e.type &&
                              ((t = e), 'PIN_TO_BOTTOM' === t.slot && ((p = !0), (v = C)))
                            z.onRendered(C, e)
                            'WIDGET' === e.type &&
                              (h.logEvent('WidgetGenerated::' + e.strategyId, 1),
                              h.logEvent(
                                'TimeToRenderSuggestion::' + e.strategyId,
                                new Date().getTime() - y,
                              ))
                          } else
                            h.logError('LoadingFailure::' + e.strategyId),
                              h.logJsError(
                                { message: 'LoadingFailure' },
                                {
                                  logLevel: 'ERROR',
                                  attribution: 'render:' + e.strategyId + ':' + w,
                                },
                              )
                        }
                      } catch (Y) {
                        h.logError('RenderingFailure::' + e.strategyId + '::' + Y.name),
                          h.logJsError(Y, { attribution: 'render:' + e.strategyId + ':' + w })
                      }
                    })
                    var D =
                      (null === (e = c.input) || void 0 === e
                        ? void 0
                        : e.getSearchInput().selectionStart) || 0
                    A.predictiveText &&
                    a.predictiveText &&
                    0 < a.predictiveText.length &&
                    a.prefix != a.predictiveText
                      ? ((e =
                          null ===
                            (l =
                              null === (f = b.autocompleteContext) || void 0 === f
                                ? void 0
                                : f.context) || void 0 === l
                            ? void 0
                            : l.lop),
                        (f =
                          (null === (n = c.input) || void 0 === n
                            ? void 0
                            : n.getSearchInput().value) || ''),
                        (n =
                          null === (d = c.input) || void 0 === d
                            ? void 0
                            : d.getDeleteKeyPressed()),
                        D === f.length && D >= m && !n
                          ? c.setPredictiveTextSuggestion(a, e, A.predictiveText)
                          : null === (w = c.input) || void 0 === w
                            ? void 0
                            : w.dismissPredictiveText())
                      : A.predictiveText &&
                        (null === (z = c.input) || void 0 === z
                          ? void 0
                          : z.dismissPredictiveText())
                    c.updateLastCursorPosition(D)
                    a.suggestions &&
                      0 < a.suggestions.length &&
                      c.api.getAutocompletePluginCall('searchSuggestionRendered')({})
                    d = c.autocompleteContainer.children.length - u
                    c.autocompleteListElements = c.autocompleteListElements.slice(0, u)
                    for (w = 0; w < d; w += 1)
                      c.autocompleteContainer.removeChild(c.autocompleteContainer.children[u])
                    p &&
                      t &&
                      v &&
                      ((d = c.api.getContext().webviewHeight),
                      c.api.getContext().keyboardEnabled
                        ? ((c.autocompleteContainer.style.height = d + 'px'),
                          (w = c.getContainerTotalHeight()),
                          (n = v.offsetHeight),
                          w >= d
                            ? ((v.style.position = 'sticky'),
                              (v.style.bottom = '0'),
                              (v.style.marginTop = d - n + 'px'),
                              q.addEventListener(
                                'scroll',
                                h.guardError({ attribution: 'AutocompleteList' }, function () {
                                  v && (v.style.marginTop = '0')
                                }),
                                { once: !0 },
                              ))
                            : ((v.style.position = 'absolute'),
                              (v.style.bottom = '0'),
                              (v.style.width = '100%'),
                              (c.autocompleteContainer.style.position = 'relative')))
                        : c.autocompleteContainer.removeChild(v))
                    a.prefix.length || c.applyButtonHeight()
                    c.resetSelection()
                    ;(
                      null === (y = null === b || void 0 === b ? void 0 : b.enabledFeatures) ||
                      void 0 === y
                        ? 0
                        : y.entityPD
                    )
                      ? g.triggerEntityWidgetDisclosurePane(c.api)
                      : c.triggerEntityWidgetDisclosurePane()
                  }
                  this.resizeListElements = function () {
                    c.autocompleteListElements.forEach(function (a) {
                      return a.resize()
                    })
                  }
                  this.resetSelection = function () {
                    c.autocompleteListElements.forEach(function (a) {
                      return a.deSelect()
                    })
                  }
                  this.getSelectedElement = function () {
                    return c.autocompleteListElements.find(function (a) {
                      return a.isSelected()
                    })
                  }
                  this.moveSelectionUp = function (a) {
                    var b,
                      e,
                      f,
                      l = c.findSelectedElementIndex()
                    if (
                      (null === (b = c.api.getContext().enabledFeatures) || void 0 === b
                        ? 0
                        : b.keyboardNavigationFix) &&
                      -1 === l
                    )
                      return c.selectLast(a), !0
                    0 <= l &&
                      l < c.autocompleteContainer.children.length &&
                      c.autocompleteListElements[l].deSelect()
                    return ((null === (e = c.api.getContext().enabledFeatures) || void 0 === e
                      ? 0
                      : e.keyboardNavigationFix) &&
                      0 < l) ||
                      ((null === (f = c.api.getContext().enabledFeatures) ||
                        void 0 === f ||
                        !f.keyboardNavigationFix) &&
                        0 !== l)
                      ? (c.autocompleteListElements[l - 1].select(a), !0)
                      : !1
                  }
                  this.moveSelectionDown = function (a) {
                    var b = c.findSelectedElementIndex()
                    0 <= b &&
                      b < c.autocompleteContainer.children.length &&
                      c.autocompleteListElements[b].deSelect()
                    return b !== c.autocompleteContainer.children.length - 1
                      ? (c.autocompleteListElements[b + 1].select(a), !0)
                      : !1
                  }
                  this.selectLast = function (a) {
                    c.autocompleteListElements[c.autocompleteListElements.length - 1].select(a)
                    return !0
                  }
                  this.dataToTemplate = function (a) {
                    return c.renderingFunctions['WIDGET' === a.type ? a.template : a.type]
                  }
                  this.findSelectedElementIndex = function () {
                    return c.autocompleteListElements.findIndex(function (a) {
                      return a.isSelected()
                    })
                  }
                  this.applyButtonHeight = function () {
                    switch (h.getSiteVariant()) {
                      case 'ios-iphone-mshop':
                        c.autocompleteContainer.style.paddingBottom = '60px'
                        break
                      case 'android-mshop':
                        c.autocompleteContainer.style.paddingBottom = '64px'
                    }
                  }
                  this.getContainerTotalHeight = function () {
                    for (var a = 0, b = 0; b < c.autocompleteContainer.children.length; b += 1)
                      a += parseInt(
                        q
                          .getComputedStyle(c.autocompleteContainer.children[b], null)
                          .getPropertyValue('height'),
                        10,
                      )
                    return a
                  }
                  this.deduplicateSuggestions = function (a) {
                    for (var c = new Set(), b = [], e = 0; e < a.length; e++) {
                      var f = a[e]
                      'PAST_SEARCHES' != f.type || c.has(f.value)
                        ? 'PAST_SEARCHES' !== f.type && b.push(f)
                        : (c.add(f.value), b.push(f))
                    }
                    return b
                  }
                  this.setPredictiveTextSuggestion = function (a, b, e) {
                    var f, l, m, n
                    e &&
                      ((e =
                        (null === (f = c.input) || void 0 === f
                          ? void 0
                          : f.getSearchInput().value) || ''),
                      (f =
                        null === (l = c.input) || void 0 === l
                          ? void 0
                          : l.getSearchInput().selectionStart),
                      '' !== e &&
                      (null === (m = a.predictiveText) || void 0 === m
                        ? 0
                        : m.startsWith(e.toLowerCase())) &&
                      f === e.length
                        ? c.input.setPredictedText(a.predictiveText, a.prefix, b)
                        : null === (n = c.input) || void 0 === n
                          ? void 0
                          : n.dismissPredictiveText())
                  }
                  this.updateLastCursorPosition = function (a) {
                    m = a
                  }
                  this.autocompleteContainer = a
                  this.autocompleteListElements = []
                  this.renderingFunctions = h.renderingFunctions(b)
                  this.api = b
                  this.$ = b.getJQuery()
                  this.input = e
                  this.statusMessageContainer = l
                  this.previousInputLength =
                    (null ===
                      (n =
                        null === (f = this.input) || void 0 === f
                          ? void 0
                          : f.getSearchInput().value) || void 0 === n
                      ? void 0
                      : n.length) || 0
                }
                a.prototype.applyAccessibilityForSuggestion = function (a, c) {
                  a.setAttribute('id', 'sac-suggestion-row-' + (c + 1))
                  a.setAttribute('role', 'row')
                  a.setAttribute('aria-rowindex', '' + (c + 1))
                  var b = a.querySelector('div')
                  b &&
                    (b.setAttribute('id', 'sac-suggestion-row-' + (c + 1) + '-cell-1'),
                    b.setAttribute('role', 'gridcell'),
                    a.setAttribute('aria-owns', '' + b.id))
                }
                a.prototype.triggerEntityWidgetDisclosurePane = function () {
                  var a,
                    b =
                      null === (a = this.autocompleteListElements[0]) || void 0 === a
                        ? void 0
                        : a.data
                  b &&
                    g.isEntityWidget(b) &&
                    (a = g.getEntityTemplateConfig(b)) &&
                    g.isEntityDisclosurePaneDefaultShow(a) &&
                    ((a = a.entityLayout),
                    a === h.EntityLayout.LEFT_AND_RIGHT_PANE
                      ? this.api
                          .getAutocompleteView()
                          .twoPanelists.triggerEntityProgressiveDisclosureTwoPane(b, this.api)
                      : a === h.EntityLayout.LEFT_PANE_ONLY &&
                        this.setEntityWidgetLeftDisclosurePaneVisibility(!0))
                }
                a.prototype.setEntityWidgetLeftDisclosurePaneVisibility = function (a) {
                  var b, e
                  a = a ? g.ENTITY_WIDGET_CSS_DISPLAY_STYLE : g.ENTITY_WIDGET_CSS_NO_DISPLAY_STYLE
                  null ===
                    (e =
                      null === (b = this.autocompleteListElements[0]) || void 0 === b
                        ? void 0
                        : b.domElement
                            .getElementsByClassName(g.ENTITY_DISCLOSURE_PANE_CONTAINER_CLASS_NAME)
                            .item(0)) || void 0 === e
                    ? void 0
                    : e.setAttribute('style', a)
                }
                a.prototype.hasMouseoverTriggeringEntityWidget = function () {
                  var a,
                    b =
                      null === (a = this.autocompleteListElements[0]) || void 0 === a
                        ? void 0
                        : a.data
                  return b.template === g.ENTITY_TEMPLATE
                    ? g.isEntityWidget(b) && g.canTriggerEntityDisclosurePaneByMouseOver(b)
                    : !1
                }
                return a
              })()
              a.default = d
            },
            function (d, a, b) {
              Object.defineProperty(a, '__esModule', { value: !0 })
              a.getStatusMessage = void 0
              var h = b(0),
                g = {
                  en: {
                    prefixMessage: 'Prefix {{prefix}}',
                    noSuggestionMessage: 'No suggestions',
                    atomicSuggestionStatusMessage: '{{numKeywordSuggs}} individual suggestions',
                    widgetItemStatusMessage: '{{numWidgetItems}} suggestions',
                  },
                  es: {
                    prefixMessage: 'Prefijo {{prefix}}',
                    noSuggestionMessage: 'Sin sugerencias',
                    atomicSuggestionStatusMessage: '{{numKeywordSuggs}} sugerencias individuales',
                    widgetItemStatusMessage: '{{numWidgetItems}} sugerencias',
                  },
                  fr: {
                    prefixMessage: 'Prfixe {{prefix}}',
                    noSuggestionMessage: 'Aucune suggestion',
                    atomicSuggestionStatusMessage: '{{numKeywordSuggs}} suggestions individuelles',
                    widgetItemStatusMessage: '{{numWidgetItems}} suggestions',
                  },
                  de: {
                    prefixMessage: 'Prfix {{prefix}}',
                    noSuggestionMessage: 'Keine Vorschlge',
                    atomicSuggestionStatusMessage: '{{numKeywordSuggs}} individuelle Vorschlge',
                    widgetItemStatusMessage: '{{numWidgetItems}} Vorschlge',
                  },
                  it: {
                    prefixMessage: 'Prefisso {{prefix}}',
                    noSuggestionMessage: 'Nessun suggerimento',
                    atomicSuggestionStatusMessage: '{{numKeywordSuggs}} suggerimenti individuali',
                    widgetItemStatusMessage: '{{numWidgetItems}} suggerimenti',
                  },
                  pl: {
                    prefixMessage: 'Prefiks {{prefix}}',
                    noSuggestionMessage: 'adnych sugestii',
                    atomicSuggestionStatusMessage: '{{numKeywordSuggs}} indywidualne sugestie',
                    widgetItemStatusMessage: '{{numWidgetItems}} sugestie',
                  },
                  ja: {
                    prefixMessage: '{{prefix}}',
                    noSuggestionMessage: '',
                    atomicSuggestionStatusMessage: '{{numKeywordSuggs}}',
                    widgetItemStatusMessage: '{{numWidgetItems}}',
                  },
                  pt: {
                    prefixMessage: 'Prefixo {{prefix}}',
                    noSuggestionMessage: 'Nenhuma sugesto',
                    atomicSuggestionStatusMessage: '{{numKeywordSuggs}} sugestes individuais',
                    widgetItemStatusMessage: '{{numWidgetItems}} sugestes',
                  },
                  nl: {
                    prefixMessage: 'Voorvoegsel {{prefix}}',
                    noSuggestionMessage: 'geen suggesties',
                    atomicSuggestionStatusMessage: '{{numKeywordSuggs}} individuele suggesties',
                    widgetItemStatusMessage: '{{numWidgetItems}} suggesties',
                  },
                  tr: {
                    prefixMessage: 'nek {{prefix}}',
                    noSuggestionMessage: 'neri yok',
                    atomicSuggestionStatusMessage: '{{numKeywordSuggs}} bireysel neriler',
                    widgetItemStatusMessage: '{{numWidgetItems}} neri',
                  },
                  sv: {
                    prefixMessage: 'Prefix {{prefix}}',
                    noSuggestionMessage: 'Inga frslag',
                    atomicSuggestionStatusMessage: '{{numKeywordSuggs}} individuella frslag',
                    widgetItemStatusMessage: '{{numWidgetItems}} frslag',
                  },
                  cs: {
                    prefixMessage: 'Pedpona {{prefix}}',
                    noSuggestionMessage: 'dn nvrhy',
                    atomicSuggestionStatusMessage: '{{numKeywordSuggs}} individulnch nvrh',
                    widgetItemStatusMessage: '{{numWidgetItems}} nvrh',
                  },
                  da: {
                    prefixMessage: 'Prfiks {{prefix}}',
                    noSuggestionMessage: 'Ingen forslag',
                    atomicSuggestionStatusMessage: '{{numKeywordSuggs}} individuelle forslag',
                    widgetItemStatusMessage: '{{numWidgetItems}} forslag',
                  },
                  ar: {
                    prefixMessage: ' {{prefix}}',
                    noSuggestionMessage: '  ',
                    atomicSuggestionStatusMessage: '{{numKeywordSuggs}}  ',
                    widgetItemStatusMessage: '{{numWidgetItems}} ',
                  },
                  zh: {
                    prefixMessage: '{{prefix}}',
                    noSuggestionMessage: '',
                    atomicSuggestionStatusMessage: '{{numKeywordSuggs}}',
                    widgetItemStatusMessage: '{{numWidgetItems}}',
                  },
                  ko: {
                    prefixMessage: '{{prefix}}',
                    noSuggestionMessage: ' ',
                    atomicSuggestionStatusMessage: '{{numKeywordSuggs}}  ',
                    widgetItemStatusMessage: '{{numWidgetItems}} ',
                  },
                  he: {
                    prefixMessage: '{{prefix}}',
                    noSuggestionMessage: ' ',
                    atomicSuggestionStatusMessage: '{{numKeywordSuggs}}  ',
                    widgetItemStatusMessage: '{{numWidgetItems}} ',
                  },
                },
                k = {}
              'KEYWORD PAST_SEARCHES TRENDING_SEARCHES SUGGESTION_WITHOUT_TITLE SUGGESTION_WITH_TITLE keyword-with-byline kw-img-l kw-img-r keywords-link promoted-suggestion asin storefront stores nile-keyword-suggestions nile-keyword-suggestions-desktop'
                .split(' ')
                .forEach(function (a) {
                  return (k[a] = !0)
                })
              var m = function (a) {
                  a = h.setDefaultMetadata(a.metadata)
                  return a.title
                    ? a.title
                    : a.header
                      ? [a.headerPrefix, a.header, a.headerSuffix].join(' ').trim()
                      : ''
                },
                n = function (a) {
                  for (var b = [], e = 0; e < a.length; e++) {
                    var l = a[e]
                    'WIDGET' != l.type || !m(l) || l.template in k || b.push(l)
                  }
                  return b
                }
              a.getStatusMessage = function (a, b, e) {
                var c,
                  f,
                  d,
                  y =
                    null === (c = e.getContextField('lop')) || void 0 === c
                      ? void 0
                      : c.split('_')[0]
                y in g
                  ? (e = y)
                  : ((e = e.getContextField('plain-mid')),
                    (e =
                      null !==
                        (d =
                          null === (f = h.MID_TO_PRIMARY_LOP[e]) || void 0 === f
                            ? void 0
                            : f.split('_')[0]) && void 0 !== d
                        ? d
                        : 'en'))
                var u = g[e]
                if (b == p || 0 == b.length) return u.noSuggestionMessage
                f = n(b)
                b = b.filter(function (a) {
                  return ('WIDGET' == a.type ? a.template : a.type) in k
                }).length
                var v = []
                a && v.push(u.prefixMessage.replace('{{prefix}}', a))
                0 < b &&
                  v.push(
                    u.atomicSuggestionStatusMessage.replace('{{numKeywordSuggs}}', b.toString()),
                  )
                f.forEach(function (a) {
                  v.push(m(a))
                  v.push(
                    u.widgetItemStatusMessage.replace(
                      '{{numWidgetItems}}',
                      a.widgetItems.length.toString(),
                    ),
                  )
                })
                return v.join(', ')
              }
            },
            function (d, a, b) {
              Object.defineProperty(a, '__esModule', { value: !0 })
              var h = b(0),
                g = b(3)
              d = (function () {
                function a(a, b, f) {
                  var c = this
                  this.highlightMultiAsinSuggestion = 's-asin-suggestion'
                  this.render = function (a) {
                    var b = 0,
                      e = 0
                    a.suggestions.forEach(function (l, f) {
                      var m,
                        n,
                        g,
                        d = 'WIDGET' === l.type ? l.template : l.type
                      try {
                        var k = 'WIDGET' === l.type && 'RIGHT_SLOT' === l.slot,
                          w = k ? c.autocompleteRightContainer : c.autocompleteLeftContainer,
                          z = k ? c.autocompleteRightListElements : c.autocompleteLeftListElements,
                          y = k ? e : b,
                          u = c.dataToTemplate(l)
                        if (u) {
                          var p = new Date().getTime(),
                            v = u.render(l, a)
                          if (v && 0 < v.childNodes.length) {
                            y >= w.children.length
                              ? w.appendChild(v)
                              : (null === (m = z[y]) || void 0 === m ? void 0 : m.data) !== l &&
                                w.replaceChild(v, w.children[y])
                            z[y] = new h.AutocompleteListElement(v, l, u)
                            ;(null ===
                              (g =
                                null === (n = c.context) || void 0 === n
                                  ? void 0
                                  : n.enabledFeatures) || void 0 === g
                              ? 0
                              : g.accessibilityDesignPattern) &&
                              c.applyAccessibilityForSuggestion(v, y)
                            if (u.isDelimited() && a.suggestions.length > f + 1) {
                              var q = c.$(v)
                              h.delimiter().forEach(function (a) {
                                q.append(a)
                              })
                            }
                            k ? (e += 1) : (b += 1)
                            u.onRendered(v, l)
                            'WIDGET' === l.type &&
                              (h.logEvent('WidgetGenerated::' + l.strategyId, 1),
                              h.logEvent(
                                'TimeToRenderTwoPaneSuggestion::' + l.strategyId,
                                new Date().getTime() - p,
                              ))
                          } else
                            h.logError('LoadingFailure::' + l.strategyId),
                              h.logJsError(
                                { message: 'LoadingFailure' },
                                {
                                  logLevel: 'ERROR',
                                  attribution: 'render:' + l.strategyId + ':' + d,
                                },
                              )
                        }
                      } catch (X) {
                        h.logError('RenderingFailure::' + l.strategyId + '::' + X.name),
                          h.logJsError(X, { attribution: 'render:' + l.strategyId + ':' + d })
                      }
                    })
                    0 === b
                      ? c.context.enabledFeatures.showABOnfocusWidget
                        ? (c.autocompleteRightContainer.setAttribute('style', 'flex: 1'),
                          c.autocompleteLeftContainer.setAttribute('style', 'display:none'))
                        : c.clearContent()
                      : (c.autocompleteRightContainer.removeAttribute('style'),
                        c.autocompleteLeftContainer.setAttribute('style', 'flex: 0 0 50%'))
                    a.suggestions &&
                      0 < a.suggestions.length &&
                      c.api.getAutocompletePluginCall('searchSuggestionRendered')({})
                    var f = c.autocompleteLeftContainer.children.length - b
                    c.autocompleteLeftListElements = c.autocompleteLeftListElements.slice(0, b)
                    for (var m = 0; m < f; m += 1)
                      c.autocompleteLeftContainer.removeChild(
                        c.autocompleteLeftContainer.children[b],
                      )
                    c.resetSelection()
                  }
                  this.clearContent = function () {
                    for (; c.autocompleteRightContainer.firstChild; )
                      c.autocompleteRightContainer.removeChild(
                        c.autocompleteRightContainer.firstChild,
                      )
                    c.autocompleteRightContainer.setAttribute('style', 'display:none')
                    c.autocompleteLeftContainer.setAttribute('style', 'flex: 1')
                  }
                  this.resizeListElements = function () {
                    c.autocompleteLeftListElements.forEach(function (a) {
                      return a.resize()
                    })
                    c.autocompleteRightListElements.forEach(function (a) {
                      return a.resize()
                    })
                  }
                  this.resetSelection = function () {
                    c.autocompleteLeftListElements.forEach(function (a) {
                      return a.deSelect()
                    })
                    c.autocompleteRightListElements.forEach(function (a) {
                      return a.deSelect()
                    })
                  }
                  this.getSelectedElement = function () {
                    return c.getSelectedListElements().find(function (a) {
                      return a.isSelected()
                    })
                  }
                  this.moveSelectionUp = function (a) {
                    var b,
                      e,
                      f,
                      m,
                      n,
                      g,
                      d,
                      k = c.getSelectedContainer(),
                      p = c.getSelectedListElements(),
                      q = c.findSelectedElementIndex()
                    if (
                      (null === (b = c.api.getContext().enabledFeatures) || void 0 === b
                        ? 0
                        : b.keyboardNavigationFix) &&
                      -1 === q
                    )
                      return c.selectLast(a), !0
                    if (
                      c
                        .$(null === (e = p[q]) || void 0 === e ? void 0 : e.domElement)
                        .find('.' + h.highlightMultiItemsWidgetSuggestion).length
                    )
                      return p[q].select(a), !0
                    0 <= q && q < k.children.length && p[q].deSelect()
                    return ((null === (f = c.api.getContext().enabledFeatures) || void 0 === f
                      ? 0
                      : f.keyboardNavigationFix) &&
                      0 < q) ||
                      ((null === (m = c.api.getContext().enabledFeatures) ||
                        void 0 === m ||
                        !m.keyboardNavigationFix) &&
                        0 !== q)
                      ? (p[q - 1].select(a),
                        c.leftPaneExists() ||
                          (null ===
                            (d =
                              null ===
                                (g = c
                                  .$(null === (n = p[0]) || void 0 === n ? void 0 : n.domElement)
                                  .find('.' + c.highlightMultiAsinSuggestion)) || void 0 === g
                                ? void 0
                                : g.first()) || void 0 === d
                            ? void 0
                            : d.addClass(h.highlightMultiItemsWidgetSuggestion)),
                        !0)
                      : !1
                  }
                  this.moveSelectionDown = function (a) {
                    var b,
                      e,
                      f,
                      m,
                      n,
                      g = c.getSelectedContainer(),
                      d = c.getSelectedListElements(),
                      k = c.findSelectedElementIndex()
                    if (
                      (null === (b = c.api.getContext().enabledFeatures) ||
                        void 0 === b ||
                        !b.keyboardNavigationFix ||
                        -1 !== k) &&
                      c
                        .$(null === (e = d[k]) || void 0 === e ? void 0 : e.domElement)
                        .find('.' + h.highlightMultiItemsWidgetSuggestion).length
                    )
                      return d[k].select(a), !0
                    0 <= k && k < g.children.length && d[k].deSelect()
                    return k !== g.children.length - 1
                      ? (d[k + 1].select(a),
                        c.leftPaneExists() ||
                          (null ===
                            (n =
                              null ===
                                (m = c
                                  .$(null === (f = d[0]) || void 0 === f ? void 0 : f.domElement)
                                  .find('.' + c.highlightMultiAsinSuggestion)) || void 0 === m
                                ? void 0
                                : m.first()) || void 0 === n
                            ? void 0
                            : n.addClass(h.highlightMultiItemsWidgetSuggestion)),
                        !0)
                      : !1
                  }
                  this.moveSelectionHorizontal = function (a) {
                    var b,
                      e = c.getSelectedListElements(),
                      f = c.findSelectedElementIndex(),
                      m = c.getNextSelectedListElements()
                    ;((null === (b = c.api.getContext().enabledFeatures) || void 0 === b
                      ? 0
                      : b.keyboardNavigationFix) &&
                      -1 === f) ||
                      e[f].deSelect()
                    m[0].select(a)
                    return !0
                  }
                  this.moveSelectionWithinEntityPDRightPane = function (a) {
                    if (!c.isEntityPDRightPaneSelected()) return !1
                    var b = c.autocompleteRightListElements,
                      e = c.findSelectedElementIndex(),
                      f = c.findNextIndexForEntityPDRightPane(a)
                    ;-1 !== e && b[e].deSelect()
                    ;-1 !== f && (b[f].select(a), b[f].scrollIntoView())
                    return !0
                  }
                  this.moveSelectionBetweenEntityPanes = function (a) {
                    if (!c.isEntityPDLeftPaneSelected() && !c.isEntityPDRightPaneSelected())
                      return !1
                    var b = c.autocompleteRightListElements,
                      e = b.length,
                      f = c.findEntityPDRightPaneSelectedElementIndex(),
                      m = c.findNextIndexForEntityPDRightPane(a)
                    0 <= m && m < e && (b[m].select(a), b[m].scrollIntoView())
                    0 <= f && f < e && b[f].deSelect()
                    ;-1 === f &&
                      0 === m &&
                      0 < c.api.getAutocompleteView().list.autocompleteListElements.length &&
                      c.api
                        .getAutocompleteView()
                        .list.autocompleteListElements[0].removeHighlightFocus()
                    ;(0 > m || m >= e) &&
                      (0 === f || f === e - 1) &&
                      0 < c.api.getAutocompleteView().list.autocompleteListElements.length &&
                      (b[0].scrollIntoView(),
                      c.api
                        .getAutocompleteView()
                        .list.autocompleteListElements[0].addHighlightFocus())
                    return !0
                  }
                  this.findNextIndexForEntityPDRightPane = function (a) {
                    var b = c.findEntityPDRightPaneSelectedElementIndex(),
                      e = c.autocompleteRightListElements.length,
                      f = 0
                    'Down' === a.key ||
                    'ArrowDown' === a.key ||
                    'Right' === a.key ||
                    'ArrowRight' === a.key
                      ? (f += 1)
                      : ('Up' === a.key ||
                          'ArrowUp' === a.key ||
                          'Left' === a.key ||
                          'ArrowLeft' === a.key) &&
                        --f
                    return 'Up' === a.key ||
                      'ArrowUp' === a.key ||
                      'Down' === a.key ||
                      'ArrowDown' === a.key
                      ? (b + f + e) % e
                      : 'Left' === a.key ||
                          'ArrowLeft' === a.key ||
                          'Right' === a.key ||
                          'ArrowRight' === a.key
                        ? b + f
                        : 0
                  }
                  this.selectLast = function (a) {
                    var b,
                      e,
                      f,
                      m = c.getSelectedListElements()
                    m[m.length - 1].select(a)
                    c.leftPaneExists() ||
                      (null ===
                        (f =
                          null ===
                            (e = c
                              .$(null === (b = m[0]) || void 0 === b ? void 0 : b.domElement)
                              .find('.' + c.highlightMultiAsinSuggestion)) || void 0 === e
                            ? void 0
                            : e.first()) || void 0 === f
                        ? void 0
                        : f.addClass(h.highlightMultiItemsWidgetSuggestion))
                    return !0
                  }
                  this.dataToTemplate = function (a) {
                    return c.renderingFunctions['WIDGET' === a.type ? a.template : a.type]
                  }
                  this.dataToEntityDisclosureTemplate = function (a) {
                    return (a = g.getEntityTemplateConfig(a))
                      ? c.renderingFunctionsForEntityDisclosurePane[a.disclosurePaneTemplate]
                      : p
                  }
                  this.findSelectedElementIndex = function () {
                    return c.getSelectedListElements().findIndex(function (a) {
                      return a.isSelected()
                    })
                  }
                  this.findEntityPDRightPaneSelectedElementIndex = function () {
                    return c.autocompleteRightListElements.findIndex(function (a) {
                      return a.isSelected()
                    })
                  }
                  this.leftPaneExists = function () {
                    return 0 < c.autocompleteLeftListElements.length
                      ? !0
                      : !c.context.enabledFeatures.showABOnfocusWidget
                  }
                  this.isEntityPDRightPaneSelected = function () {
                    return (
                      c.autocompleteRightListElements.find(function (a) {
                        return a.isSelected()
                      }) !== p
                    )
                  }
                  this.isEntityPDLeftPaneSelected = function () {
                    var a
                    return (
                      !0 ===
                      (null ===
                        (a = c.api
                          .getAutocompleteView()
                          .list.autocompleteListElements.find(function (a) {
                            a = a.data
                            return 'WIDGET' === a.type ? g.isEntityWidget(a) : !1
                          })) || void 0 === a
                        ? void 0
                        : a.isSelected())
                    )
                  }
                  this.isRightPaneSelected = function () {
                    return (
                      c.autocompleteRightListElements.find(function (a) {
                        return a.isSelected()
                      }) !== p || !c.leftPaneExists()
                    )
                  }
                  this.getSelectedListElements = function () {
                    return c.isRightPaneSelected()
                      ? c.autocompleteRightListElements
                      : c.autocompleteLeftListElements
                  }
                  this.getNextSelectedListElements = function () {
                    return c.isRightPaneSelected()
                      ? c.autocompleteLeftListElements
                      : c.autocompleteRightListElements
                  }
                  this.getSelectedContainer = function () {
                    return c.isRightPaneSelected()
                      ? c.autocompleteRightContainer
                      : c.autocompleteLeftContainer
                  }
                  this.autocompleteLeftContainer = a
                  this.autocompleteRightContainer = b
                  this.autocompleteLeftListElements = []
                  this.autocompleteRightListElements = []
                  this.renderingFunctions = h.renderingFunctions(f)
                  this.renderingFunctionsForEntityDisclosurePane =
                    h.renderingFunctionsForEntityDisclosurePane(f)
                  this.api = f
                  this.context = f.getContext()
                  this.$ = f.getJQuery()
                }
                a.prototype.showRightPaneWithSugg = function (a, b) {
                  var f,
                    c,
                    e,
                    l = this.dataToEntityDisclosureTemplate(a)
                  if (l) {
                    var m = new Date().getTime()
                    if ((b = l.render(a, b)) && 0 < b.childNodes.length) {
                      var n = this.autocompleteRightContainer,
                        d = this.autocompleteRightListElements
                      g.isEntityPDKeyboardA11yEnabled([a]) &&
                      0 <
                        (null === (f = b.querySelectorAll('a')) || void 0 === f ? void 0 : f.length)
                        ? b.querySelectorAll('a').forEach(function (b) {
                            b.innerText !== b.innerHTML
                              ? d.push(new h.AutocompleteListElement(b.closest('div'), a, l))
                              : d.push(new h.AutocompleteListElement(b, a, l))
                          })
                        : d.push(new h.AutocompleteListElement(b, a, l))
                      n.appendChild(b)
                      ;(null ===
                        (e =
                          null === (c = this.context) || void 0 === c
                            ? void 0
                            : c.enabledFeatures) || void 0 === e
                        ? 0
                        : e.accessibilityDesignPattern) &&
                        this.updateAccessibilityOnShowRightPaneSuggestions(b)
                      h.logEvent('DisclosurePaneTriggered::' + a.strategyId, 1)
                      0 < new Date().getTime() - m &&
                        h.logEvent(
                          'TimeToRenderDisclosurePane::' + a.strategyId,
                          new Date().getTime() - m,
                        )
                      this.autocompleteRightContainer.removeAttribute('style')
                      this.autocompleteLeftContainer.setAttribute('style', 'flex: 0 0 50%')
                    } else
                      (f = a.template),
                        h.logError('ShowDisclosurePaneFailure::' + a.strategyId),
                        h.logJsError(
                          { message: 'ShowDisclosurePaneFailure' },
                          {
                            logLevel: 'ERROR',
                            attribution: 'render:' + a.strategyId + ':' + f + ':showDisclosurePane',
                          },
                        )
                  }
                }
                a.prototype.hideDisclosurePane = function () {
                  var a, b
                  this.autocompleteRightContainer.setAttribute(
                    'style',
                    g.ENTITY_WIDGET_CSS_NO_DISPLAY_STYLE,
                  )
                  this.autocompleteLeftContainer.setAttribute('style', 'flex: 1 1 0')
                  ;(null ===
                    (b =
                      null === (a = this.context) || void 0 === a ? void 0 : a.enabledFeatures) ||
                  void 0 === b
                    ? 0
                    : b.accessibilityDesignPattern) &&
                    this.updateAccessibilityOnHideRightPaneSuggestions()
                }
                a.prototype.removeDisclosurePaneElements = function () {
                  var a, b, f, c
                  this.autocompleteRightListElements.splice(0)
                  for (
                    var e =
                      (null ===
                        (b =
                          null === (a = this.autocompleteRightContainer) || void 0 === a
                            ? void 0
                            : a.children) || void 0 === b
                        ? NaN
                        : b.length) - 1;
                    0 <= e;
                    --e
                  )
                    null ===
                      (c =
                        null === (f = this.autocompleteRightContainer.children) || void 0 === f
                          ? void 0
                          : f.item(e)) || void 0 === c
                      ? void 0
                      : c.remove()
                }
                a.prototype.triggerEntityProgressiveDisclosureTwoPane = function (a, b) {
                  var f = h.normalizeInputObject(a)
                  f = JSON.parse(JSON.stringify(f))
                  f.template = g.ENTITY_TEMPLATE
                  this.removeDisclosurePaneElements()
                  a = {
                    alias: b.getContext().getContextField('alias'),
                    prefix: b.getContext().getContextField('prefix'),
                    responseId: a.crid,
                  }
                  this.showRightPaneWithSugg(f, a)
                }
                a.prototype.hideEntityProgressiveDisclosureTwoPane = function () {
                  this.removeDisclosurePaneElements()
                  this.hideDisclosurePane()
                }
                a.prototype.applyAccessibilityForSuggestion = function (a, b) {
                  a.setAttribute('id', 'sac-suggestion-row-' + (b + 1))
                  a.setAttribute('role', 'row')
                  a.setAttribute('aria-rowindex', String(b + 1))
                  var f = a.querySelector('div')
                  f &&
                    (f.setAttribute('id', 'sac-suggestion-row-' + (b + 1) + '-cell-1'),
                    f.setAttribute('role', 'gridcell'),
                    a.setAttribute('aria-owns', '' + f.id))
                }
                a.prototype.updateAccessibilityOnShowRightPaneSuggestions = function (a) {
                  'desktop' === h.getSiteVariant() &&
                    (a = a.querySelector('div')) &&
                    ((a.id = 'sac-suggestion-row-1-cell-2'),
                    a.setAttribute('role', 'gridcell'),
                    (a = document.getElementById('sac-suggestion-row-1')),
                    null === a || void 0 === a
                      ? void 0
                      : a.setAttribute(
                          'aria-owns',
                          'sac-suggestion-row-1-cell-1 sac-suggestion-row-1-cell-2',
                        ))
                }
                a.prototype.updateAccessibilityOnHideRightPaneSuggestions = function () {
                  if ('desktop' === h.getSiteVariant()) {
                    var a = document.getElementById('sac-suggestion-row-1')
                    null === a || void 0 === a
                      ? void 0
                      : a.setAttribute('aria-owns', 'sac-suggestion-row-1-cell-1')
                  }
                }
                return a
              })()
              a.default = d
            },
            function (d, a, b) {
              Object.defineProperty(a, '__esModule', { value: !0 })
              var h = b(0),
                g = b(3)
              d = (function () {
                function a(a, b, f) {
                  var c = this
                  this.render = function (a, b) {
                    var e
                    c.input.showDropdown()
                    c.enableTwoPane = a.suggestions.some(function (a) {
                      if ('WIDGET' === a.type && 'RIGHT_SLOT' === a.slot) return !0
                    })
                    c.enableEntityPDKeyboardAccessibility = g.isEntityPDKeyboardA11yEnabled(
                      a.suggestions,
                    )
                    c.enableA11yDesignPattern =
                      null === (e = b.enabledFeatures) || void 0 === e
                        ? void 0
                        : e.accessibilityDesignPattern
                    c.enableTwoPane
                      ? c.twoPanelists.render(a)
                      : (c.twoPanelists.clearContent(), c.list.render(a, b))
                    h.finishTimeToFirstSuggestion()
                    a.startTime && h.recordResponseTime(new Date().getTime() - a.startTime)
                    c.input.setAttribution(
                      h.implicitRefTag(
                        c.enableTwoPane
                          ? c.twoPanelists.autocompleteLeftListElements
                          : c.list.autocompleteListElements,
                        a.prefix,
                      ),
                      a.responseId,
                      h.constructPrefixAttribution(a.prefix, b.getContextField('alias')),
                      a.startTime,
                    )
                  }
                  this.resetSelection = function () {
                    c.enableTwoPane ? c.twoPanelists.resetSelection() : c.list.resetSelection()
                  }
                  this.handleWindowResizeEvent = function () {
                    c.enableTwoPane
                      ? c.twoPanelists.resizeListElements()
                      : c.list.resizeListElements()
                  }
                  this.handleNavigationEvent = function (a) {
                    var b, e, f
                    switch (a.key) {
                      case 'Enter':
                        if (
                          (c.enableTwoPane &&
                            (null === (b = c.twoPanelists.getSelectedElement()) || void 0 === b
                              ? 0
                              : b.click())) ||
                          (c.enableEntityPDKeyboardAccessibility &&
                            (null === (e = c.twoPanelists.getSelectedElement()) || void 0 === e
                              ? 0
                              : e.navigateToSelectedLink())) ||
                          (null === (f = c.list.getSelectedElement()) || void 0 === f
                            ? 0
                            : f.click())
                        )
                          return a.preventDefault(), !0
                        h.emitEvents()
                        return !1
                      case 'Up':
                      case 'ArrowUp':
                        if (
                          c.enableEntityPDKeyboardAccessibility &&
                          c.twoPanelists.moveSelectionWithinEntityPDRightPane(a)
                        )
                          break
                        c.input.isSelected()
                          ? (c.input.toggleIsSelected(),
                            c.enableTwoPane ? c.twoPanelists.selectLast(a) : c.list.selectLast(a))
                          : ((c.enableTwoPane && !c.twoPanelists.moveSelectionUp(a)) ||
                              (!c.enableTwoPane && !c.list.moveSelectionUp(a))) &&
                            c.input.toggleIsSelected()
                        break
                      case 'Down':
                      case 'ArrowDown':
                        c.input.isSelected() && c.input.toggleIsSelected()
                        if (
                          c.enableEntityPDKeyboardAccessibility &&
                          c.twoPanelists.moveSelectionWithinEntityPDRightPane(a)
                        )
                          break
                        ;((c.enableTwoPane && !c.twoPanelists.moveSelectionDown(a)) ||
                          (!c.enableTwoPane && !c.list.moveSelectionDown(a))) &&
                          c.input.toggleIsSelected()
                        break
                      case 'Right':
                      case 'ArrowRight':
                      case 'Left':
                      case 'ArrowLeft':
                        if (c.enableTwoPane) {
                          c.input.isSelected() && c.input.toggleIsSelected()
                          c.twoPanelists.moveSelectionHorizontal(a) || c.input.toggleIsSelected()
                          break
                        }
                        if (
                          c.enableEntityPDKeyboardAccessibility &&
                          c.twoPanelists.moveSelectionBetweenEntityPanes(a)
                        )
                          break
                      default:
                        if (
                          (b = c.enableTwoPane
                            ? c.twoPanelists.getSelectedElement()
                            : c.list.getSelectedElement())
                        )
                          b.select(a)
                        else return !1
                    }
                    c.enableA11yDesignPattern && c.notifySearchBoxSelection()
                    a.preventDefault()
                    return !0
                  }
                  this.input = a
                  this.list = b
                  this.twoPanelists = f
                  this.enableA11yDesignPattern =
                    this.enableEntityPDKeyboardAccessibility =
                    this.enableTwoPane =
                      !1
                  q.addEventListener(
                    'resize',
                    h.guardError({ attribution: 'AutocompleteView' }, function () {
                      c.handleWindowResizeEvent()
                    }),
                  )
                }
                a.prototype.notifySearchBoxSelection = function () {
                  this.list.getSelectedElement()
                    ? this.input.notifySearchBoxSelection(
                        this.list.getSelectedElement().getSelectedId(),
                      )
                    : this.twoPanelists.getSelectedElement()
                      ? this.input.notifySearchBoxSelection(
                          this.twoPanelists.getSelectedElement().getSelectedId(),
                        )
                      : this.input.notifySearchBoxSelection()
                }
                return a
              })()
              a.default = d
            },
            function (d, a, b) {
              Object.defineProperty(a, '__esModule', { value: !0 })
              var h = b(0),
                g = function (a, b) {
                  b.length &&
                    (null === a || void 0 === a ? void 0 : a.removeClass(h.highlightSuggestion),
                    b.addClass(h.highlightSuggestion))
                }
              a.default = function (a, b, n, f) {
                var c, e
                switch (a) {
                  case 'ArrowRight':
                  case 'Right':
                    return (
                      (b =
                        null === b || void 0 === b ? void 0 : b.find('.' + h.highlightSuggestion)),
                      (n = null === b || void 0 === b ? void 0 : b.parents(f).next().find(n)),
                      g(b, n),
                      n
                    )
                  case 'ArrowLeft':
                  case 'Left':
                    return (
                      (b =
                        null === b || void 0 === b ? void 0 : b.find('.' + h.highlightSuggestion)),
                      (n = null === b || void 0 === b ? void 0 : b.parents(f).prev().find(n)),
                      g(b, n),
                      n
                    )
                  default:
                    return (
                      (f =
                        null === b || void 0 === b
                          ? void 0
                          : b.find('.' + h.highlightSuggestionInactive)),
                      f.length
                        ? (f.removeClass(h.highlightSuggestionInactive),
                          f.addClass(h.highlightSuggestion),
                          f)
                        : null ===
                              (e =
                                null === (c = null === b || void 0 === b ? void 0 : b.find(n)) ||
                                void 0 === c
                                  ? void 0
                                  : c.first()) || void 0 === e
                          ? void 0
                          : e.addClass(h.highlightSuggestion)
                    )
                }
              }
            },
            function (d, a, b) {
              Object.defineProperty(a, '__esModule', { value: !0 })
              var h = b(0),
                g = function (a, b) {
                  b.length &&
                    (null === a || void 0 === a
                      ? void 0
                      : a.removeClass(h.highlightSuggestionCardByKeyboardFocus),
                    b.addClass(h.highlightSuggestionCardByKeyboardFocus))
                }
              a.default = function (a, b, n) {
                var f, c
                switch (a) {
                  case 'ArrowRight':
                  case 'Right':
                    return (
                      (b =
                        null === b || void 0 === b
                          ? void 0
                          : b.find('.' + h.highlightSuggestionCardByKeyboardFocus)),
                      (n = null === b || void 0 === b ? void 0 : b.next()),
                      g(b, n),
                      n
                    )
                  case 'ArrowLeft':
                  case 'Left':
                    return (
                      (b =
                        null === b || void 0 === b
                          ? void 0
                          : b.find('.' + h.highlightSuggestionCardByKeyboardFocus)),
                      (n = null === b || void 0 === b ? void 0 : b.prev()),
                      g(b, n),
                      n
                    )
                  default:
                    return (
                      (a =
                        null === b || void 0 === b
                          ? void 0
                          : b.find('.' + h.highlightSuggestionInactive)),
                      a.length
                        ? (a.removeClass(h.highlightSuggestionInactive),
                          a.addClass(h.highlightSuggestionCardByKeyboardFocus),
                          a)
                        : null ===
                              (c =
                                null === (f = null === b || void 0 === b ? void 0 : b.find(n)) ||
                                void 0 === f
                                  ? void 0
                                  : f.first()) || void 0 === c
                          ? void 0
                          : c.addClass(h.highlightSuggestionCardByKeyboardFocus)
                    )
                }
              }
            },
            function (d, a, b) {
              Object.defineProperty(a, '__esModule', { value: !0 })
              var h = b(0),
                g = function (a, b) {
                  b.length &&
                    (null === a || void 0 === a ? void 0 : a.removeClass(h.highlightSuggestion),
                    b.addClass(h.highlightSuggestion))
                }
              a.default = function (a, b, n, f) {
                var c, e, l, m, d, k, u
                switch (a) {
                  case 'ArrowDown':
                  case 'Down':
                    var p =
                      null === b || void 0 === b ? void 0 : b.find('.' + h.highlightSuggestion)
                    f = null === p || void 0 === p ? void 0 : p.parents(f).next().find(n)
                    0 === f.length &&
                      (f =
                        null ===
                          (e =
                            null === (c = null === b || void 0 === b ? void 0 : b.find(n)) ||
                            void 0 === c
                              ? void 0
                              : c.first()) || void 0 === e
                          ? void 0
                          : e.addClass(h.highlightSuggestion))
                    g(p, f)
                    return f
                  case 'ArrowUp':
                  case 'Up':
                    return (
                      (p =
                        null === b || void 0 === b ? void 0 : b.find('.' + h.highlightSuggestion)),
                      (f = null === p || void 0 === p ? void 0 : p.parents(f).prev().find(n)),
                      0 === f.length &&
                        (f =
                          null ===
                            (m =
                              null === (l = null === b || void 0 === b ? void 0 : b.find(n)) ||
                              void 0 === l
                                ? void 0
                                : l.last()) || void 0 === m
                            ? void 0
                            : m.addClass(h.highlightSuggestion)),
                      g(p, f),
                      f
                    )
                  default:
                    return (
                      (c =
                        null === b || void 0 === b
                          ? void 0
                          : b.find('.' + h.highlightMultiItemsWidgetSuggestion)),
                      c.length
                        ? c.removeClass(h.highlightMultiItemsWidgetSuggestion)
                        : null ===
                              (d =
                                null === (p = null === b || void 0 === b ? void 0 : b.find(n)) ||
                                void 0 === p
                                  ? void 0
                                  : p.first()) || void 0 === d
                          ? void 0
                          : d.addClass(h.highlightMultiItemsWidgetSuggestion),
                      null ===
                        (u =
                          null === (k = null === b || void 0 === b ? void 0 : b.find(n)) ||
                          void 0 === k
                            ? void 0
                            : k.first()) || void 0 === u
                        ? void 0
                        : u.addClass(h.highlightSuggestion)
                    )
                }
              }
            },
            function (d, a, b) {
              Object.defineProperty(a, '__esModule', { value: !0 })
            },
            function (d, a, b) {
              Object.defineProperty(a, '__esModule', { value: !0 })
              var h = b(24),
                g = b(39),
                k = b(38)
              a.default = function (a, b) {
                var f,
                  c = a.value,
                  e = a.refTag,
                  l = a.scopes
                a = a.crid
                var m = b.searchContext.context,
                  n = m.bbn,
                  d = m.node
                m = m.rh
                var u = b.getContextField('prefix'),
                  v = b.getContextField('n'),
                  C = b.getContextField('alias'),
                  J = b.getContextField('srs'),
                  E = b.getContextField('bbn'),
                  q = b.getContextField('tab')
                b = b.getContextField('gsc')
                l && 0 !== l.length
                  ? ((C = l[0].value), (l = null === (f = l[1]) || void 0 === f ? void 0 : f.value))
                  : (l = J)
                return (
                  'https://' +
                  g.searchDomain +
                  '/s?' +
                  h.paramsToURLParameters({
                    bbn: null === n || n === p ? E : n,
                    node: d,
                    rh: m,
                    k: c,
                    i: C,
                    ref: e,
                    srs: l,
                    n: v,
                    crid: a,
                    sprefix: k.constructPrefixAttribution(u, C),
                    tab: q,
                    gsc: b,
                  })
                )
              }
            },
            function (d, a, b) {
              b.r(a)
              Array.prototype.flat ||
                Object.defineProperty(Array.prototype, 'flat', {
                  configurable: !0,
                  value: function k(a) {
                    var b = isNaN(a) ? 1 : Number(a)
                    return b
                      ? Array.prototype.reduce.call(
                          this,
                          function (a, f) {
                            return (
                              Array.isArray(f) ? a.push.apply(a, k.call(f, b - 1)) : a.push(f), a
                            )
                          },
                          [],
                        )
                      : Array.prototype.slice.call(this)
                  },
                  writable: !0,
                })
              Array.prototype.flatMap ||
                Object.defineProperty(Array.prototype, 'flatMap', {
                  configurable: !0,
                  value: function (a) {
                    return Array.prototype.map.apply(this, arguments).flat()
                  },
                  writable: !0,
                })
            },
            function (d, a, b) {
              function h(a) {
                return Object.keys(a).reduce(function (b, m) {
                  if (m.includes('_')) {
                    var g = m.split('_')
                    for (var f = 1; f < g.length; f += 1)
                      0 < g[f].length && (g[f] = g[f].charAt(0).toUpperCase() + g[f].slice(1))
                    g = g.join('')
                  } else g = m
                  m = a[m]
                  f = 'undefined' === typeof m ? 'undefined' : F(m)
                  m && 'object' === f
                    ? (m = Array.isArray(m)
                        ? m.map(function (a) {
                            return h(a)
                          })
                        : h(m))
                    : 'string' === f && (m = m.replace(/&amp;/g, '\x26'))
                  b[g] = m
                  return b
                }, {})
              }
              Object.defineProperty(a, '__esModule', { value: !0 })
              a.default = h
            },
            function (d, a, b) {
              Object.defineProperty(a, '__esModule', { value: !0 })
              a.default = function (a, b) {
                if (!b || 0 === b.length) return [{ text: a, hit: !1 }]
                var g = a.toLowerCase().indexOf(b.toLowerCase())
                if (-1 === g) return [{ text: a, hit: !1 }]
                var m = []
                0 !== g && m.push({ text: a.substr(0, g), hit: !1 })
                m.push({ text: a.substr(g, b.length), hit: !0 })
                g + b.length !== a.length && m.push({ text: a.substr(g + b.length), hit: !1 })
                return m
              }
            },
            function (d, a, b) {
              Object.defineProperty(a, '__esModule', { value: !0 })
              a.default = function (a, b) {
                var g,
                  m,
                  n = null === (g = b.getAutocompleteView()) || void 0 === g ? void 0 : g.input
                n &&
                  (n.setKeyword(a.value),
                  (b =
                    null === (m = b.getContext()) || void 0 === m
                      ? void 0
                      : m.getContextField('alias')),
                  n.setAlias(
                    a.scopes ? a.scopes[0].value : b || 'aps',
                    a.scopes ? a.scopes[0].display : p,
                  ))
              }
            },
            function (d, a, b) {
              Object.defineProperty(a, '__esModule', { value: !0 })
              a.finishTimeToFirstSuggestion =
                a.startTimeToFirstSuggestion =
                a.timeToFirstSuggestionMetricName =
                  void 0
              var h = b(0),
                g = !0,
                k = !0
              a.timeToFirstSuggestionMetricName = 'TimeToFirstSuggestion'
              var m = new h.CSMLatencyMetric(a.timeToFirstSuggestionMetricName),
                n = 0
              a.startTimeToFirstSuggestion = function () {
                g && ((g = !1), m.start(), (n = new Date().getTime()))
              }
              a.finishTimeToFirstSuggestion = function () {
                k &&
                  !g &&
                  ((k = !1),
                  m.finish(),
                  h.emitLatency(a.timeToFirstSuggestionMetricName, new Date().getTime() - n))
              }
            },
            function (d, a, b) {
              Object.defineProperty(a, '__esModule', { value: !0 })
              a.default = function (a, b) {
                return a.length
                  ? a.find(function (a) {
                      return a.matchesSearchQuery(b)
                    })
                    ? 'nb_sb_noss_1'
                    : 'nb_sb_noss_2'
                  : 'nb_sb_noss'
              }
            },
            function (d, a, b) {
              Object.defineProperty(a, '__esModule', { value: !0 })
              a.decodeSearchDropdownUrl = void 0
              a.decodeSearchDropdownUrl = function (a) {
                var b = Object.create(null)
                a.split('\x26').forEach(function (a) {
                  var m = a.indexOf('\x3d'),
                    g = a.slice(0, m)
                  a = a.slice(m + 1)
                  b[g] = a
                })
                return b
              }
            },
            function (d, a, b) {
              function h(a, b, m, n, f, c) {
                var e = new RegExp('(^nb_sb_ss_w_' + b + ')_(\\w+)$')
                'false' === c
                  ? (e = new RegExp('(^nb_sb_ss_w_' + b + '_' + f + ')_(\\w+)$'))
                  : f &&
                    f !== b &&
                    ((b = a.indexOf('_' + f)),
                    -1 !== b && (a = '' + a.substr(0, b) + a.substr(b + f.length + 1)))
                return (f = e.exec(a)) && f[1] && f[2]
                  ? ((a = [f[1], m]), n && a.push(n), a.push(f[2]), a.join('_'))
                  : a
              }
              Object.defineProperty(a, '__esModule', { value: !0 })
              a.updateWidgetItemRefTag = a.constructRefTag = void 0
              a.constructRefTag = h
              a.updateWidgetItemRefTag = function (a, b, m) {
                for (
                  var n = function (b) {
                      a.widgetItems.forEach(function (c) {
                        if (c.metadata[b]) {
                          var e = JSON.parse(c.metadata[b])
                          c.metadata[b] = e
                          Array.isArray(e)
                            ? e.forEach(function (b) {
                                return (b.constructedRefTag = h(
                                  a.refTag,
                                  a.strategyId,
                                  m,
                                  b.tag,
                                  a.widgetId,
                                  a.metadata.removeWidgetIdFromRefTag,
                                ))
                              })
                            : (e.constructedRefTag = h(
                                a.refTag,
                                a.strategyId,
                                m,
                                e.tag,
                                a.widgetId,
                                a.metadata.removeWidgetIdFromRefTag,
                              ))
                        }
                      })
                    },
                    f = 0;
                  f < b.length;
                  f++
                )
                  n(b[f])
              }
            },
            function (d, a, b) {
              Object.defineProperty(a, '__esModule', { value: !0 })
              a.suffixFieldName = a.prefixFieldName = void 0
              a.prefixFieldName = 'prefix'
              a.suffixFieldName = 'suffix'
            },
            function (d, a, b) {
              var h =
                (this && this.__assign) ||
                function () {
                  h =
                    Object.assign ||
                    function (a) {
                      for (var b, c = 1, e = arguments.length; c < e; c++) {
                        b = arguments[c]
                        for (var l in b) Object.prototype.hasOwnProperty.call(b, l) && (a[l] = b[l])
                      }
                      return a
                    }
                  return h.apply(this, arguments)
                }
              Object.defineProperty(a, '__esModule', { value: !0 })
              a.Context = a.SearchContext = a.AutocompleteContext = void 0
              var g = b(0),
                k = (function () {
                  function a(a, b, e) {
                    var c,
                      f = this
                    this._context =
                      ((c = {}),
                      (c[g.prefixFieldName] = ''),
                      (c['page-type'] = 'Search'),
                      (c.alias = p),
                      (c['site-variant'] = 'desktop'),
                      (c.version = '2'),
                      (c.event = 'onkeypress'),
                      (c.wc = ''),
                      (c.lop = 'en_US'),
                      (c['last-prefix'] = '\x00'),
                      (c['avg-ks-time'] = 0),
                      (c.fb = '1'),
                      (c.srs = p),
                      (c.predicted_text_accepted = ''),
                      c)
                    this.updateContext = function (a) {
                      void 0 === a && (a = {})
                      Object.keys(a).forEach(function (b) {
                        var c = a[b]
                        if (
                          c ||
                          (-1 !== [g.prefixFieldName, g.suffixFieldName].indexOf(b) && '' === c)
                        )
                          f._context[b] = c
                      })
                      return f._context
                    }
                    a &&
                      b &&
                      this.updateContext(
                        h(h({}, this._context), {
                          alias: a.alias,
                          'session-id': a.sessionId,
                          'customer-id': a.customerId,
                          'request-id': a.requestId,
                          'page-type': a.pageType,
                          lop: a.language,
                          mid: a.obfMkt,
                          'plain-mid': a.mkt,
                          'site-variant': b.name,
                          'client-info': b.cid,
                          b2b: a.b2b,
                          fresh: a.fresh,
                          fb: a.fb,
                          n: a.n,
                          asin: a.asin,
                          predicted_text_accepted: a.predicted_text_accepted,
                        }),
                      )
                    e && (this._context = h(h({}, this._context), e))
                  }
                  Object.defineProperty(a.prototype, 'context', {
                    get: function () {
                      return this._context
                    },
                    enumerable: !1,
                    configurable: !0,
                  })
                  return a
                })()
              a.AutocompleteContext = k
              var m = (function () {
                function a() {
                  var a = this
                  this.searchParameterDefaults = 'search-url-context'
                  this.validSearchContextUrlPrefix = '/s'
                  this._context = { bbn: '', node: '', rh: '' }
                  this.updateField = function (b, e) {
                    return Object.prototype.hasOwnProperty.call(a._context, b)
                      ? ((a._context[b] = e), !0)
                      : !1
                  }
                }
                a.prototype.updateContext = function (a) {
                  var b = this
                  a.startsWith(this.validSearchContextUrlPrefix) &&
                    a.includes('?') &&
                    new URLSearchParams(a.split('?')[1]).forEach(function (a, c) {
                      c && c in b._context && a && (b._context[c] = a)
                    })
                }
                Object.defineProperty(a.prototype, 'context', {
                  get: function () {
                    var a = {}
                    Object.entries(this._context)
                      .filter(function (a) {
                        return a[1]
                      })
                      .forEach(function (b) {
                        a[b[0]] = b[1]
                      })
                    return a
                  },
                  enumerable: !1,
                  configurable: !0,
                })
                return a
              })()
              a.SearchContext = m
              d = (function () {
                function a(a, b, e, l) {
                  var c = this
                  void 0 === b && (b = {})
                  this.getContextField = function (a) {
                    return c._autocompleteContext.context[a]
                  }
                  this.updateEnabledFeatures = function (a) {
                    Object.keys(a).forEach(function (b) {
                      c.enabledFeatures[b] = a[b]
                    })
                    return c.enabledFeatures
                  }
                  this.localizationContext = a
                  this.enabledFeatures = b
                  this._autocompleteContext = new k(e, l)
                  this._searchContext = new m()
                  this._webviewHeight = 0
                  this._keyboardEnabled = !0
                }
                Object.defineProperty(a.prototype, 'autocompleteContext', {
                  get: function () {
                    return this._autocompleteContext
                  },
                  enumerable: !1,
                  configurable: !0,
                })
                Object.defineProperty(a.prototype, 'searchContext', {
                  get: function () {
                    return this._searchContext
                  },
                  enumerable: !1,
                  configurable: !0,
                })
                Object.defineProperty(a.prototype, 'filterByString', {
                  get: function () {
                    return this.localizationContext.filterByString
                  },
                  enumerable: !1,
                  configurable: !0,
                })
                Object.defineProperty(a.prototype, 'crossCategoryString', {
                  get: function () {
                    return this.localizationContext.crossCategoryString
                  },
                  enumerable: !1,
                  configurable: !0,
                })
                Object.defineProperty(a.prototype, 'askRufus', {
                  get: function () {
                    return this.localizationContext.askRufus
                  },
                  enumerable: !1,
                  configurable: !0,
                })
                Object.defineProperty(a.prototype, 'webviewHeight', {
                  get: function () {
                    return this._webviewHeight
                  },
                  enumerable: !1,
                  configurable: !0,
                })
                Object.defineProperty(a.prototype, 'keyboardEnabled', {
                  get: function () {
                    return this._keyboardEnabled
                  },
                  enumerable: !1,
                  configurable: !0,
                })
                a.prototype.updateWebviewHeight = function (a) {
                  this._webviewHeight = a
                }
                a.prototype.updateKeyboardEnabled = function (a) {
                  this._keyboardEnabled = a
                }
                return a
              })()
              a.Context = d
            },
            function (d, a, b) {
              Object.defineProperty(a, '__esModule', { value: !0 })
            },
            function (d, a, b) {
              var h =
                (this && this.__importDefault) ||
                function (a) {
                  return a && a.__esModule ? a : { default: a }
                }
              Object.defineProperty(a, '__esModule', { value: !0 })
              a.InstrumentedSuggestion =
                a.AutocompleteListElement =
                a.AutocompleteSuggestion =
                  void 0
              var g = b(71)
              Object.defineProperty(a, 'AutocompleteSuggestion', {
                enumerable: !0,
                get: function () {
                  return h(g).default
                },
              })
              var k = b(158)
              Object.defineProperty(a, 'AutocompleteListElement', {
                enumerable: !0,
                get: function () {
                  return h(k).default
                },
              })
              var m = b(159)
              Object.defineProperty(a, 'InstrumentedSuggestion', {
                enumerable: !0,
                get: function () {
                  return h(m).default
                },
              })
            },
            function (d, a, b) {
              Object.defineProperty(a, '__esModule', { value: !0 })
              var h = b(0),
                g = b(3)
              d = (function () {
                return function (a, b, d) {
                  var f = this
                  this.isSelected = function () {
                    return f.suggestion.isSelected(f.domElement)
                  }
                  this.select = function (a) {
                    f.suggestion.select(f.domElement, a, f.data)
                  }
                  this.deSelect = function () {
                    f.suggestion.deSelect(f.domElement)
                  }
                  this.getSelectedId = function () {
                    return f.suggestion.getSelectedId(f.domElement)
                  }
                  this.matchesSearchQuery = function (a) {
                    return f.suggestion.matchesSearchQuery(a, f.data)
                  }
                  this.click = function () {
                    return f.suggestion.click(f.data)
                  }
                  this.resize = function () {
                    return f.suggestion.resize(f.domElement)
                  }
                  this.scrollIntoView = function () {
                    f.domElement.scrollIntoView({ behavior: 'smooth', block: 'center' })
                  }
                  this.addMouseOverEventListener = function (a, b, l) {
                    l &&
                      f.domElement.addEventListener(
                        'mouseover',
                        h.guardError({}, function () {
                          var c,
                            e,
                            l,
                            m,
                            d = f.data,
                            n = a.getAutocompleteView().list,
                            k = a.getAutocompleteView().twoPanelists
                          b &&
                            (g.isEntityWidget(d)
                              ? b === h.EntityLayout.LEFT_AND_RIGHT_PANE
                                ? k.triggerEntityProgressiveDisclosureTwoPane(d, a)
                                : b === h.EntityLayout.LEFT_PANE_ONLY &&
                                  ((
                                    null ===
                                      (e =
                                        null === (c = a.getContext()) || void 0 === c
                                          ? void 0
                                          : c.enabledFeatures) || void 0 === e
                                      ? 0
                                      : e.entityPD
                                  )
                                    ? g.setEntityWidgetLeftDisclosurePaneVisibility(
                                        n.autocompleteListElements,
                                        !0,
                                      )
                                    : n.setEntityWidgetLeftDisclosurePaneVisibility(!0))
                              : b === h.EntityLayout.LEFT_AND_RIGHT_PANE
                                ? k.hideEntityProgressiveDisclosureTwoPane()
                                : b === h.EntityLayout.LEFT_PANE_ONLY &&
                                  ((
                                    null ===
                                      (m =
                                        null === (l = a.getContext()) || void 0 === l
                                          ? void 0
                                          : l.enabledFeatures) || void 0 === m
                                      ? 0
                                      : m.entityPD
                                  )
                                    ? g.setEntityWidgetLeftDisclosurePaneVisibility(
                                        n.autocompleteListElements,
                                        !1,
                                      )
                                    : n.setEntityWidgetLeftDisclosurePaneVisibility(!1)))
                        }),
                      )
                  }
                  this.navigateToSelectedLink = function () {
                    return g.isEntityWidget(f.data)
                      ? f.suggestion.navigateToSelectedLink(f.data, f.domElement)
                      : !1
                  }
                  this.addHighlightFocus = function () {
                    return g.isEntityWidget(f.data)
                      ? f.suggestion.addHighlightFocus(f.domElement)
                      : !1
                  }
                  this.removeHighlightFocus = function () {
                    return g.isEntityWidget(f.data)
                      ? f.suggestion.removeHighlightFocus(f.domElement)
                      : !1
                  }
                  this.domElement = a
                  this.data = b
                  this.suggestion = d
                }
              })()
              a.default = d
            },
            function (d, a, b) {
              var h =
                (this && this.__extends) ||
                (function () {
                  var a = function (b, m) {
                    a =
                      Object.setPrototypeOf ||
                      ({ __proto__: [] } instanceof Array &&
                        function (a, b) {
                          a.__proto__ = b
                        }) ||
                      function (a, b) {
                        for (var c in b) Object.prototype.hasOwnProperty.call(b, c) && (a[c] = b[c])
                      }
                    return a(b, m)
                  }
                  return function (b, m) {
                    function g() {
                      this.constructor = b
                    }
                    a(b, m)
                    b.prototype =
                      null === m ? Object.create(m) : ((g.prototype = m.prototype), new g())
                  }
                })()
              d =
                (this && this.__importDefault) ||
                function (a) {
                  return a && a.__esModule ? a : { default: a }
                }
              Object.defineProperty(a, '__esModule', { value: !0 })
              b = (function (a) {
                function b() {
                  var b = (null !== a && a.apply(this, arguments)) || this
                  b.onRendered = function (a, b) {}
                  b.render = function (a, f) {
                    a = b.accept(a, f)
                    f = b.generateHtml(a)
                    var c = document.createElement('div')
                    if (c.append) c.append.apply(c, f)
                    else for (var e = 0; e < f.length; e++) c.appendChild(f[e])
                    b.attachEventHandlers(c, a)
                    return c
                  }
                  return b
                }
                h(b, a)
                b.prototype.attachEventHandlers = function (a, b) {}
                return b
              })(d(b(71)).default)
              a.default = b
            },
            function (d, a, b) {
              var h =
                  (this && this.__extends) ||
                  (function () {
                    var a = function (b, c) {
                      a =
                        Object.setPrototypeOf ||
                        ({ __proto__: [] } instanceof Array &&
                          function (a, b) {
                            a.__proto__ = b
                          }) ||
                        function (a, b) {
                          for (var c in b)
                            Object.prototype.hasOwnProperty.call(b, c) && (a[c] = b[c])
                        }
                      return a(b, c)
                    }
                    return function (b, c) {
                      function e() {
                        this.constructor = b
                      }
                      a(b, c)
                      b.prototype =
                        null === c ? Object.create(c) : ((e.prototype = c.prototype), new e())
                    }
                  })(),
                g =
                  (this && this.__assign) ||
                  function () {
                    g =
                      Object.assign ||
                      function (a) {
                        for (var b, c = 1, e = arguments.length; c < e; c++) {
                          b = arguments[c]
                          for (var l in b)
                            Object.prototype.hasOwnProperty.call(b, l) && (a[l] = b[l])
                        }
                        return a
                      }
                    return g.apply(this, arguments)
                  }
              Object.defineProperty(a, '__esModule', { value: !0 })
              var k = b(0),
                m = b(1).KeywordWithByline
              d = (function (a) {
                function b(b, e, f) {
                  var c,
                    l = a.call(this, e.getContext().enabledFeatures) || this
                  l.isDelimited = function () {
                    var a = l.context.enabledFeatures
                    if (a.useSuggestionDelimiter !== p) return a.useSuggestionDelimiter
                    a = l.api.getContext().getContextField('site-variant')
                    return k.isMShop(a)
                  }
                  l.select = function (b, c, e) {
                    a.prototype.select.call(l, b, c, e)
                    k.textSuggestionSelectionHandler(e, l.api)
                  }
                  l.attachEventHandlers = function (a, b) {
                    a.addEventListener(
                      'click',
                      k.guardError({}, function (a) {
                        a.target instanceof Element && a.target.hasAttribute('autofill')
                          ? l.api.autofillSuggestion(b.value)
                          : l.click(b)
                      }),
                    )
                  }
                  l.generateHtml = function (a) {
                    return m.default(
                      l.kataRuntime,
                      g(g({ suggestion: a }, l.context), {
                        isCustomLinkEnabled: l.isCustomLinkEnabled,
                      }),
                    )
                  }
                  l.api = e
                  l.context = f
                  l.kataRuntime = b
                  l.isCustomLinkEnabled =
                    null === (c = l.api.getContext().enabledFeatures) || void 0 === c
                      ? void 0
                      : c.keywordWithBylineCustomLink
                  return l
                }
                h(b, a)
                b.prototype.accept = function (a, b) {
                  var c,
                    e,
                    f =
                      (null ===
                        (e =
                          null === (c = null === a || void 0 === a ? void 0 : a.widgetItems) ||
                          void 0 === c
                            ? void 0
                            : c[0]) || void 0 === e
                        ? void 0
                        : e.metadata) || {}
                  c = f.link_url
                  c = void 0 === c ? '' : c
                  f = f.byline
                  f = void 0 === f ? '' : f
                  return g(g({}, a), {
                    crid: b.responseId,
                    highlightFragments: a.highlightFragments || k.highlightText(a.value, b.prefix),
                    link: this.isCustomLinkEnabled ? c : '',
                    customByline: this.isCustomLinkEnabled ? f : '',
                  })
                }
                b.prototype.type = function () {
                  return this.isCustomLinkEnabled
                    ? ['keyword-with-byline', 'keyword-with-link-byline']
                    : ['keyword-with-byline']
                }
                b.prototype.click = function (b) {
                  var c, f, m
                  k.logOneTimeEvent(k.SearchAcceptanceMetric)
                  k.emitCounter(k.SearchAcceptanceMetric)
                  var d = this.getRefinementSelection(b)
                  d && this.api.getContext().searchContext.updateField('rh', d)
                  a.prototype.click.call(this, b)
                  q.location.assign(
                    this.isCustomLinkEnabled &&
                      (null ===
                        (m =
                          null ===
                            (f = null === (c = b.widgetItems) || void 0 === c ? void 0 : c[0]) ||
                          void 0 === f
                            ? void 0
                            : f.metadata) || void 0 === m
                        ? 0
                        : m.link_url)
                      ? b.widgetItems[0].metadata.link_url
                      : k.buildSearchLinkUrl(b, this.api.getContext()),
                  )
                  return !0
                }
                b.prototype.getRefinementSelection = function (a) {
                  var b
                  return (null === (b = a.metadata) || void 0 === b ? 0 : b.refinement)
                    ? a.metadata.refinement
                    : null
                }
                return b
              })(k.InstrumentedSuggestion)
              a.default = d
            },
            function (d, a) {
              function b(a, b, f) {
                a.assertNotNull(b, ['suggestion'])
                return a.root('autocomplete', 'MultiKeywordSuggestions', [
                  '' !== b.suggestion.label
                    ? a.createElement('div', { class: 's-onfocus-label' }, b.suggestion.label)
                    : p,
                  h(b.suggestion.suggestions).map(function (b, e) {
                    return [
                      a.createElement(
                        'div',
                        { class: k(['s-suggestion-container', 's-onfocus', 's-onfocus-' + e]) },
                        a.createElement(
                          'div',
                          {
                            class: 's-suggestion s-suggestion-ellipsis-direction',
                            role: 'button',
                            'aria-label': b.value,
                          },
                          b.value,
                        ),
                      ),
                    ]
                  }),
                ])
              }
              function h(a) {
                return !a.map && Java.from ? Java.from(a) : a
              }
              function g(a) {
                return null !== a && a !== p && '' !== a
              }
              function k(a) {
                a = a.join(' ').split(' ').filter(g).join(' ')
                return 0 < a.length ? a : p
              }
              d.exports = {}
              d.exports.default = b
              d.exports.MultiKeywordSuggestions = b
            },
            function (d, a) {
              function b(a, b, d) {
                a.assertNotNull(
                  b,
                  'title subtitle imageUrl imageShape addDropdownButton csaTag defaultShow'.split(
                    ' ',
                  ),
                )
                return a.root('autocomplete', 'EntityEgressDropDown', [
                  a.createElement(
                    'div',
                    {
                      class: 's-entity-default-pane-container-hidable',
                      'data-csa-c-type': 'widget',
                      'data-csa-c-content-id': b.csaTag + '-default-pane',
                      'data-csa-c-slot-id': b.csaTag + '-default-pane',
                    },
                    a.createElement(
                      'div',
                      {
                        class: 's-entity-default-pane-container-row s-suggestion',
                        role: 'button',
                        'aria-label': b.title,
                      },
                      a.createElement(
                        'div',
                        { class: g(['s-entity-default-pane-thumbnail-container-' + b.imageShape]) },
                        a.createElement('img', {
                          class: g(['s-entity-suggestion-image-default-pane-' + b.imageShape]),
                          src: b.imageUrl,
                        }),
                      ),
                      a.createElement(
                        'div',
                        { class: 's-entity-title-expanded-container' },
                        a.createElement('div', { class: 's-entity-default-pane-text' }, b.title),
                        a.createElement(
                          'span',
                          { class: 's-entity-default-pane-subtext' },
                          b.subtitle,
                        ),
                      ),
                      b.addDropdownButton
                        ? null !== b.buttonText && 'undefined' !== typeof b.buttonText
                          ? a.createElement(
                              'div',
                              {
                                class: 's-entity-dropdown-button-with-text-container',
                                id: 's-entity-dropdown-button-container-id',
                              },
                              a.createElement(
                                'div',
                                { class: 's-entity-dropdown-button-text' },
                                b.buttonText,
                              ),
                              b.defaultShow
                                ? a.createElement('div', {
                                    class: 's-entity-chevron-icon s-entity-chevron-icon-upward',
                                    id: 's-entity-chevron-icon-id',
                                  })
                                : a.createElement('div', {
                                    class: 's-entity-chevron-icon s-entity-chevron-icon-downward',
                                    id: 's-entity-chevron-icon-id',
                                  }),
                            )
                          : a.createElement(
                              'div',
                              {
                                class: 's-entity-dropdown-button-container',
                                id: 's-entity-dropdown-button-container-id',
                              },
                              b.defaultShow
                                ? a.createElement('div', {
                                    class: 's-entity-chevron-button s-entity-chevron-button-upward',
                                    id: 's-entity-chevron-icon-id',
                                  })
                                : a.createElement('div', {
                                    class:
                                      's-entity-chevron-button s-entity-chevron-button-downward',
                                    id: 's-entity-chevron-icon-id',
                                  }),
                            )
                        : p,
                    ),
                  ),
                ])
              }
              function h(a) {
                return null !== a && a !== p && '' !== a
              }
              function g(a) {
                a = a.join(' ').split(' ').filter(h).join(' ')
                return 0 < a.length ? a : p
              }
              d.exports = {}
              d.exports.default = b
              d.exports.EntityEgressDropDown = b
            },
            function (d, a, b) {
              function h(a, b, f) {
                var c = k(a.context || {})
                a.assertNotNull(b, ['suggestion', 'imageUrl'])
                var e, l, d, m
                return a.root('autocomplete', 'ProductPreview', [
                  ((e = b.suggestion.strategyId),
                  [
                    a.createElement(
                      'div',
                      {
                        class: 's-entity-product-preview-disclosure-pane-container',
                        'data-csa-c-type': 'widget',
                        'data-csa-c-content-id': e + '-disclosure-pane',
                        'data-csa-c-slot-id': e + '-disclosure-pane',
                      },
                      a.createElement(
                        'a',
                        {
                          class: 's-entity-suggestion-link',
                          'aria-label': b.suggestion.metadata.title,
                          href: '' + b.suggestion.metadata.formattedSuggLink,
                        },
                        g(b.suggestion.widgetItems).map(function (e, f) {
                          return [
                            ((l = e.metadata),
                            [
                              a.createElement(
                                'div',
                                { class: 's-entity-product-preview-widget-item-container' },
                                a.createElement(
                                  'div',
                                  {
                                    class:
                                      's-entity-product-preview-widget-item-container s-suggestion',
                                    role: 'button',
                                  },
                                  a.createElement(
                                    'div',
                                    { class: 's-entity-product-preview-left-column-container' },
                                    a.createElement(
                                      'div',
                                      { class: 's-entity-product-preview-image-container' },
                                      a.createElement('img', {
                                        class: 's-entity-product-preview-image',
                                        src: b.imageUrl,
                                      }),
                                    ),
                                  ),
                                  a.createElement(
                                    'div',
                                    { class: 's-entity-product-preview-right-column-container' },
                                    a.createElement(
                                      'div',
                                      { class: 's-entity-product-preview-title' },
                                      b.suggestion.metadata.title,
                                    ),
                                    a.createElement(
                                      'div',
                                      { class: 's-entity-product-preview-link-list-title' },
                                      '' + l.contributorTitle,
                                      ':',
                                      ((d = l.contributorList),
                                      [
                                        [
                                          g(d).map(function (b, e) {
                                            return [
                                              2 > e
                                                ? [
                                                    a.createElement(
                                                      'a',
                                                      {
                                                        href: '' + b.constructedLinkUrl,
                                                        id:
                                                          's-entity-product-preview-contributor-' +
                                                          e,
                                                      },
                                                      '' + b.name,
                                                    ),
                                                    e <= c.size(d) - 2 ? ', ' : p,
                                                  ]
                                                : p,
                                              2 === e ? 'et al.' : p,
                                            ]
                                          }),
                                        ],
                                      ]),
                                    ),
                                    a.createElement(
                                      'div',
                                      { class: 's-entity-product-preview-link-list-title' },
                                      '' + l.optionTitle,
                                      ':',
                                      ((m = l.optionList),
                                      [
                                        [
                                          g(m).map(function (b, e) {
                                            return [
                                              a.createElement(
                                                'a',
                                                {
                                                  href: '' + b.constructedLinkUrl,
                                                  id: 's-entity-product-preview-option-' + e,
                                                },
                                                '' + b.name,
                                              ),
                                              e <= c.size(m) - 2 ? ', ' : p,
                                            ]
                                          }),
                                        ],
                                      ]),
                                    ),
                                  ),
                                ),
                                f < c.size(b.suggestion.widgetItems) - 1
                                  ? a.createElement('hr', { class: 's-top-line-separator' })
                                  : p,
                              ),
                            ]),
                          ]
                        }),
                      ),
                    ),
                  ]),
                ])
              }
              function g(a) {
                return !a.map && Java.from ? Java.from(a) : a
              }
              var k = b(73).default
              d.exports = {}
              d.exports.default = h
              d.exports.ProductPreview = h
            },
            function (d, a, b) {
              function h(a, b, d) {
                a.assertNotNull(b, [
                  'suggestion',
                  'imageUrl',
                  'imageShape',
                  'addDropdownButton',
                  'addEgressChevron',
                ])
                var f
                d = g.EntityBasicContainer
                return a.root('autocomplete', 'EntityBasicDropdown', [
                  ((f = b.suggestion.metadata.csaTag),
                  [
                    a.createElement(
                      'div',
                      {
                        class: 's-entity-default-pane-container-hidable',
                        'data-csa-c-type': 'widget',
                        'data-csa-c-content-id': f + '-default-pane',
                        'data-csa-c-slot-id': f + '-default-pane',
                      },
                      d(
                        a,
                        {
                          title: b.suggestion.metadata.title,
                          subtitle: b.suggestion.metadata.subtitle,
                          imageUrl: b.imageUrl,
                          imageShape: b.imageShape,
                          addDropdownButton: b.addDropdownButton,
                          addEgressChevron: b.addEgressChevron,
                          suggestionClasses: b.suggestionClasses,
                        },
                        [],
                      ),
                    ),
                  ]),
                ])
              }
              var g = b(41)
              d.exports = {}
              d.exports.default = h
              d.exports.EntityBasicDropdown = h
            },
            function (d, a, b) {
              function h(a, b, d) {
                a.assertNotNull(b, [
                  'suggestion',
                  'imageUrl',
                  'imageShape',
                  'addDropdownButton',
                  'addEgressChevron',
                ])
                var f
                d = g.EntityBasicContainer
                return a.root('autocomplete', 'EntityBasic', [
                  ((f = b.suggestion.metadata.csaTag),
                  [
                    a.createElement(
                      'div',
                      {
                        class: 's-entity-default-pane-container',
                        'data-csa-c-type': 'widget',
                        'data-csa-c-content-id': f + '-default-pane',
                        'data-csa-c-slot-id': f + '-default-pane',
                      },
                      d(
                        a,
                        {
                          title: b.suggestion.metadata.title,
                          subtitle: b.suggestion.metadata.subtitle,
                          imageUrl: b.imageUrl,
                          imageShape: b.imageShape,
                          addDropdownButton: b.addDropdownButton,
                          addEgressChevron: b.addEgressChevron,
                          suggestionClasses: b.suggestionClasses,
                        },
                        [],
                      ),
                    ),
                  ]),
                ])
              }
              var g = b(41)
              d.exports = {}
              d.exports.default = h
              d.exports.EntityBasic = h
            },
            function (d, a, b) {
              function h(a, b, e) {
                a.assertNotNull(b, ['suggestion', 'enabledFeatures', 'isCustomLinkEnabled'])
                var c = m.Highlighted,
                  f = n.DisplayKeywordWithByline
                return a.root('autocomplete', 'KeywordWithByline', [
                  a.createElement(
                    'div',
                    { class: 's-suggestion-container' },
                    b.enabledFeatures.autofill
                      ? null !== b.suggestionClasses && 'undefined' !== typeof b.suggestionClasses
                        ? 's-recentSearchDistinct' !== b.suggestionClasses
                          ? a.createElement(
                              'div',
                              {
                                class: 's-suggestion-autofillDistinct',
                                autofill: !0,
                                role: 'button',
                                'aria-label': 'append suggestion',
                              },
                              a.createElement('i', { class: 'icon-autofill', autofill: !0 }),
                            )
                          : p
                        : a.createElement(
                            'div',
                            {
                              class: 's-suggestion-autofillDistinct',
                              autofill: !0,
                              role: 'button',
                              'aria-label': 'append suggestion',
                            },
                            a.createElement('i', { class: 'icon-autofill', autofill: !0 }),
                          )
                      : p,
                    b.isCustomLinkEnabled &&
                      '' !== b.suggestion.link &&
                      '' !== b.suggestion.customByline
                      ? a.createElement(
                          'div',
                          {
                            class: 's-suggestion s-suggestion-ellipsis-container',
                            role: 'button',
                            'aria-label': b.suggestion.value,
                          },
                          a.createElement(
                            'div',
                            { class: 's-suggestion-ellipsis-content' },
                            c(a, { highlightFragments: b.suggestion.highlightFragments }, []),
                          ),
                          ' ',
                          a.createElement(
                            'span',
                            {
                              class:
                                's-store s-highlight-secondary s-suggestion-ellipsis-byline-text',
                            },
                            b.suggestion.customByline,
                          ),
                        )
                      : a.createElement(
                          'div',
                          {
                            class: k([
                              's-suggestion' +
                                (null !== b.suggestionClasses &&
                                'undefined' !== typeof b.suggestionClasses
                                  ? ' ' + b.suggestionClasses
                                  : ''),
                            ]),
                            role: 'button',
                            'aria-label': b.suggestion.value,
                          },
                          f(
                            a,
                            {
                              highlightFragments: b.suggestion.highlightFragments,
                              byline: b.suggestion.metadata.byline,
                            },
                            [],
                          ),
                        ),
                    b.enabledFeatures.useSuggestionsIcons
                      ? null !== b.suggestionClasses && 'undefined' !== typeof b.suggestionClasses
                        ? [
                            's-recentSearchDistinct' === b.suggestionClasses
                              ? a.createElement(
                                  'div',
                                  {
                                    class: 'icon-suggestion-div past-icon-div',
                                    'suggestion-icon-div': !0,
                                  },
                                  a.createElement('i', {
                                    class: 'icon-past-search-suggestion s-suggestion-icon-left',
                                    'past-icon': !0,
                                  }),
                                  a.createElement('div', {
                                    class:
                                      's-sugg-icon-background s-suggestion-icon-background-grey-shield',
                                  }),
                                )
                              : p,
                            's-recentSearchDistinct' !== b.suggestionClasses
                              ? a.createElement(
                                  'div',
                                  {
                                    class: 'icon-suggestion-div search-icon-div',
                                    'suggestion-icon-div': !0,
                                  },
                                  a.createElement('i', {
                                    class: 'icon-search-suggestion s-suggestion-icon-left',
                                    'suggestion-icon': !0,
                                  }),
                                  a.createElement('div', {
                                    class:
                                      's-sugg-icon-background s-suggestion-icon-background-grey-shield',
                                  }),
                                )
                              : p,
                          ]
                        : a.createElement(
                            'div',
                            {
                              class: 'icon-suggestion-div search-icon-div',
                              'suggestion-icon-div': !0,
                            },
                            a.createElement('i', {
                              class: 'icon-search-suggestion s-suggestion-icon-left',
                              'suggestion-icon': !0,
                            }),
                            a.createElement('div', {
                              class:
                                's-sugg-icon-background s-suggestion-icon-background-grey-shield',
                            }),
                          )
                      : p,
                    e,
                  ),
                ])
              }
              function g(a) {
                return null !== a && a !== p && '' !== a
              }
              function k(a) {
                a = a.join(' ').split(' ').filter(g).join(' ')
                return 0 < a.length ? a : p
              }
              var m = b(13),
                n = b(74)
              d.exports = {}
              d.exports.default = h
              d.exports.KeywordWithByline = h
            },
            function (d, a, b) {
              function h(a, b, d) {
                a.assertNotNull(b, ['suggestion', 'enabledFeatures'])
                d = g.DisplayString
                return a.root('autocomplete', 'TrendingSearchSuggestion', [
                  a.createElement(
                    'div',
                    { class: 's-suggestion-trending-container' },
                    a.createElement(
                      'div',
                      { class: 's-suggestion-trending-icon-container' },
                      a.createElement('i', {
                        class: 's-suggestion-trending-icon s-suggestion-icon-left',
                      }),
                      a.createElement('div', {
                        class: 's-sugg-icon-background s-suggestion-icon-background-grey-shield',
                      }),
                    ),
                    a.createElement(
                      'div',
                      {
                        class: 's-suggestion-trending s-suggestion-ellipsis-direction',
                        role: 'button',
                        'aria-label': b.suggestion.value,
                      },
                      d(
                        a,
                        {
                          highlightFragments: b.suggestion.highlightFragments,
                          crossCategoryString: b.suggestion.crossCategoryString,
                        },
                        [],
                      ),
                    ),
                    b.enabledFeatures.autofill
                      ? a.createElement(
                          'div',
                          {
                            class: 's-suggestion-autofillDistinct',
                            autofill: !0,
                            role: 'button',
                            'aria-label': 'append suggestion',
                          },
                          a.createElement('i', { class: 'icon-autofill', autofill: !0 }),
                        )
                      : p,
                  ),
                ])
              }
              var g = b(25)
              d.exports = {}
              d.exports.default = h
              d.exports.TrendingSearchSuggestion = h
            },
            function (d, a, b) {
              function h(a, b, d) {
                a.assertNotNull(b, ['twl'])
                d = g.Highlighted
                return a.root('autocomplete', 'TextWithLink', [
                  a.createElement(
                    'div',
                    { class: 's-suggestion s-suggestion-link-template' },
                    a.createElement(
                      'a',
                      { href: b.twl.linkUrl },
                      d(a, { highlightFragments: b.twl.highlightFragments }, []),
                    ),
                  ),
                ])
              }
              var g = b(13)
              d.exports = {}
              d.exports.default = h
              d.exports.TextWithLink = h
            },
            function (d, a) {
              function b(a, b, d) {
                a.assertNotNull(b, ['suggestion', 'enabledFeatures', 'isFirstNileSuggestion'])
                return a.root('autocomplete', 'NileSearchSuggestionsWidget', [
                  b.isFirstNileSuggestion
                    ? a.createElement(
                        'div',
                        { class: 'nile-ask-a-question-header single-line-header' },
                        a.createElement(
                          'span',
                          { class: 'nile-ask-a-question-text' },
                          b.suggestion.metadata.title,
                        ),
                      )
                    : p,
                  a.createElement(
                    'div',
                    { class: 's-nile-suggestion-container' },
                    b.enabledFeatures.darkPills
                      ? a.createElement(
                          'div',
                          {
                            class: 's-nile-suggestion-dark-pill s-suggestion-ellipsis-direction',
                            role: 'button',
                            'aria-label': b.suggestion.value,
                          },
                          a.createElement(
                            'span',
                            { class: 'nile-suggestion-value-dark-pill' },
                            b.suggestion.value,
                          ),
                        )
                      : a.createElement(
                          'div',
                          {
                            class: 's-nile-suggestion s-suggestion-ellipsis-direction',
                            role: 'button',
                            'aria-label': b.suggestion.value,
                          },
                          a.createElement(
                            'span',
                            { class: 'nile-suggestion-value' },
                            b.suggestion.value,
                          ),
                        ),
                  ),
                ])
              }
              d.exports = {}
              d.exports.default = b
              d.exports.NileSearchSuggestionsWidget = b
            },
            function (d, a) {
              function b(a, b, f) {
                a.assertNotNull(b, ['suggestion', 'elementClassName'])
                var c, e, l, d
                return a.root('autocomplete', 'ResizableTileRows', [
                  ((c = b.suggestion.metadata.disclosureTitle),
                  [
                    ((e = b.suggestion.metadata.csaTag),
                    [
                      '' !== c
                        ? a.createElement('div', { class: 's-entity-pd-disclosure-header' }, c)
                        : p,
                      a.createElement(
                        'div',
                        {
                          class: k(['s-entity-pd-' + b.elementClassName + '-suggestion']),
                          'data-csa-c-type': 'widget',
                          'data-csa-c-content-id': e + '-disclosure-pane',
                          'data-csa-c-slot-id': e + '-disclosure-pane',
                        },
                        ((l = b.suggestion.widgetItems),
                        [
                          h(l).map(function (c, e) {
                            return [
                              ((d = c.metadata),
                              [
                                a.createElement(
                                  'div',
                                  {
                                    class: k(['s-entity-pd-' + b.elementClassName + '-container']),
                                  },
                                  a.createElement(
                                    'a',
                                    {
                                      class: k(['s-entity-pd-' + b.elementClassName + '-link']),
                                      href: '' + d.formattedCardLink,
                                    },
                                    a.createElement(
                                      'div',
                                      {
                                        class: k([
                                          's-entity-pd-' + b.elementClassName + '-image-container',
                                        ]),
                                      },
                                      a.createElement('img', {
                                        class: k(['s-entity-pd-' + b.elementClassName + '-image']),
                                        src: '' + d.tileCardImageUrl,
                                      }),
                                    ),
                                    a.createElement(
                                      'div',
                                      {
                                        class: k([
                                          's-entity-pd-' + b.elementClassName + '-title-container',
                                        ]),
                                      },
                                      '' + d.tileCardTitle,
                                    ),
                                  ),
                                ),
                              ]),
                            ]
                          }),
                        ]),
                      ),
                    ]),
                  ]),
                ])
              }
              function h(a) {
                return !a.map && Java.from ? Java.from(a) : a
              }
              function g(a) {
                return null !== a && a !== p && '' !== a
              }
              function k(a) {
                a = a.join(' ').split(' ').filter(g).join(' ')
                return 0 < a.length ? a : p
              }
              d.exports = {}
              d.exports.default = b
              d.exports.ResizableTileRows = b
            },
            function (d, a) {
              function b(a, b, d) {
                a.assertNotNull(b, ['suggestion'])
                var g
                return a.root('autocomplete', 'MultiAsinsMobile', [
                  '' !== b.suggestion.metadata.header
                    ? a.createElement(
                        'div',
                        { class: 'p13n-bia-mam-widget-header single-line-header' },
                        b.suggestion.metadata.header,
                      )
                    : p,
                  a.createElement(
                    'div',
                    { class: 'p13n-bia-mam-suggestion' },
                    h(b.suggestion.widgetItems).map(function (b, c) {
                      return [
                        5 > c
                          ? ((g = b.metadata),
                            [
                              a.createElement(
                                'div',
                                { class: 'p13n-bia-mam-asin-sug-container' },
                                a.createElement(
                                  'div',
                                  { class: 'p13n-bia-mam-asin-suggestion p13n-bia-mam-suggestion' },
                                  a.createElement(
                                    'a',
                                    { class: 'p13n-bia-mam-asin-sug-link', href: '' + g.linkUrl },
                                    a.createElement(
                                      'div',
                                      { class: 'p13n-bia-mam-asin-sug-left' },
                                      a.createElement(
                                        'div',
                                        {
                                          class: 'p13n-bia-mam-asin-image-container',
                                          style: 'opacity: 1;',
                                        },
                                        a.createElement('img', {
                                          class: 'p13n-bia-mam-asin-image',
                                          src: '' + g.imageUrl,
                                        }),
                                      ),
                                    ),
                                    a.createElement(
                                      'div',
                                      { class: 'p13n-bia-mam-asin-sug-right' },
                                      '' !== g.asinHeader
                                        ? a.createElement(
                                            'div',
                                            { class: 'p13n-bia-mam-sug-pp-caption' },
                                            g.asinHeader,
                                          )
                                        : p,
                                      a.createElement(
                                        'div',
                                        { class: 'p13n-bia-mam-asin-title' },
                                        '' + g.asinTitle,
                                      ),
                                    ),
                                  ),
                                ),
                                a.createElement('hr', { class: 'p13n-bia-mam-top-line-separator' }),
                              ),
                            ])
                          : p,
                      ]
                    }),
                  ),
                ])
              }
              function h(a) {
                return !a.map && Java.from ? Java.from(a) : a
              }
              d.exports = {}
              d.exports.default = b
              d.exports.MultiAsinsMobile = b
            },
            function (d, a) {
              function b(a, b, d) {
                a.assertNotNull(b, ['suggestion'])
                var g, f, c
                return a.root('autocomplete', 'ButtonCarousel', [
                  ((g = b.suggestion.strategyId),
                  [
                    a.createElement(
                      'div',
                      {
                        class: 's-entity-button-carousel-container',
                        'data-csa-c-type': 'widget',
                        'data-csa-c-content-id': g + '-disclosure-pane',
                        'data-csa-c-slot-id': g + '-disclosure-pane',
                      },
                      a.createElement(
                        'ol',
                        { class: 'entity-carousel-container' },
                        h(b.suggestion.widgetItems).map(function (b, l) {
                          return [
                            ((f = b.metadata),
                            [
                              ((c = f.buttonList),
                              [
                                [
                                  h(c).map(function (b) {
                                    return [
                                      a.createElement(
                                        'li',
                                        { class: 'entity-carousel-card entity-textnav-pill' },
                                        a.createElement(
                                          'div',
                                          { class: 'entity-carousel-sug-item' },
                                          a.createElement(
                                            'a',
                                            { href: '' + b.constructedLinkUrl },
                                            a.createElement(
                                              'div',
                                              { class: 'entity-textnav-pill' },
                                              a.createElement(
                                                'div',
                                                {
                                                  class: 's-suggestion entity-suggestion',
                                                  role: 'button',
                                                  'aria-label': '' + b.name,
                                                },
                                                '' + b.name,
                                              ),
                                            ),
                                          ),
                                        ),
                                      ),
                                    ]
                                  }),
                                ],
                              ]),
                            ]),
                          ]
                        }),
                      ),
                    ),
                  ]),
                ])
              }
              function h(a) {
                return !a.map && Java.from ? Java.from(a) : a
              }
              d.exports = {}
              d.exports.default = b
              d.exports.ButtonCarousel = b
            },
            function (d, a) {
              function b(a, b, f) {
                a.assertNotNull(b, ['suggestion', 'elementClassName'])
                var c, e, l
                return a.root('autocomplete', 'TileRows', [
                  ((c = b.suggestion.metadata.csaTag),
                  [
                    a.createElement(
                      'div',
                      {
                        class: k(['s-entity-pd-' + b.elementClassName + '-suggestion']),
                        'data-csa-c-type': 'widget',
                        'data-csa-c-content-id': c + '-disclosure-pane',
                        'data-csa-c-slot-id': c + '-disclosure-pane',
                      },
                      ((e = b.suggestion.widgetItems),
                      [
                        h(e).map(function (c, e) {
                          return [
                            ((l = c.metadata),
                            [
                              a.createElement(
                                'div',
                                {
                                  class: k([
                                    's-entity-pd-' + b.elementClassName + '-element-container',
                                  ]),
                                },
                                a.createElement(
                                  'a',
                                  {
                                    class: k(['s-entity-pd-' + b.elementClassName + '-link']),
                                    href: '' + l.formattedCardLink,
                                  },
                                  a.createElement(
                                    'div',
                                    {
                                      class: k([
                                        's-entity-pd-' +
                                          b.elementClassName +
                                          '-element-image-container',
                                      ]),
                                    },
                                    a.createElement('img', {
                                      class: k([
                                        's-entity-pd-' + b.elementClassName + '-element-image',
                                      ]),
                                      src: '' + l.tileCardImageUrl,
                                    }),
                                  ),
                                  a.createElement(
                                    'div',
                                    {
                                      class: k([
                                        's-entity-pd-' +
                                          b.elementClassName +
                                          '-element-title-container',
                                      ]),
                                    },
                                    '' + l.tileCardTitle,
                                  ),
                                ),
                              ),
                            ]),
                          ]
                        }),
                      ]),
                    ),
                  ]),
                ])
              }
              function h(a) {
                return !a.map && Java.from ? Java.from(a) : a
              }
              function g(a) {
                return null !== a && a !== p && '' !== a
              }
              function k(a) {
                a = a.join(' ').split(' ').filter(g).join(' ')
                return 0 < a.length ? a : p
              }
              d.exports = {}
              d.exports.default = b
              d.exports.TileRows = b
            },
            function (d, a, b) {
              function h(a, b, f) {
                var c = k(a.context || {})
                a.assertNotNull(b, ['suggestion'])
                var e
                return a.root('autocomplete', 'MultiAsins', [
                  '' !== b.suggestion.metadata.header
                    ? a.createElement(
                        'div',
                        { class: 's-bia-widget-header single-line-header' },
                        b.suggestion.metadata.header,
                      )
                    : p,
                  a.createElement(
                    'div',
                    { class: 's-bia-suggestion' },
                    g(b.suggestion.widgetItems).map(function (f, d) {
                      return [
                        ((e = f.metadata),
                        [
                          a.createElement(
                            'div',
                            { class: 's-asin-sug-container' },
                            a.createElement(
                              'div',
                              { class: 's-asin-suggestion s-suggestion' },
                              a.createElement(
                                'a',
                                { class: 's-asin-sug-link', href: '' + e.linkUrl },
                                a.createElement(
                                  'div',
                                  { class: 's-asin-sug-left' },
                                  a.createElement(
                                    'div',
                                    { class: 's-asin-image-container', style: 'opacity: 1;' },
                                    a.createElement('img', {
                                      class: 's-asin-image',
                                      src: '' + e.imageUrl,
                                    }),
                                  ),
                                ),
                                a.createElement(
                                  'div',
                                  { class: 's-asin-sug-right' },
                                  '' !== e.asinHeader
                                    ? a.createElement(
                                        'div',
                                        { class: 's-size-mini s-sug-pp-caption' },
                                        e.asinHeader,
                                      )
                                    : p,
                                  a.createElement(
                                    'div',
                                    { class: 's-asin-title' },
                                    '' + e.asinTitle,
                                  ),
                                ),
                              ),
                            ),
                            d < c.size(b.suggestion.widgetItems) - 1
                              ? a.createElement('hr', { class: 's-top-line-separator' })
                              : p,
                          ),
                        ]),
                      ]
                    }),
                  ),
                ])
              }
              function g(a) {
                return !a.map && Java.from ? Java.from(a) : a
              }
              var k = b(73).default
              d.exports = {}
              d.exports.default = h
              d.exports.MultiAsins = h
            },
            function (d, a) {
              function b(a, b, f) {
                a.assertNotNull(b, ['suggestion', 'elementClassName'])
                var c, e, l
                return a.root('autocomplete', 'TileCarousel', [
                  ((c = b.suggestion.metadata.csaTag),
                  [
                    a.createElement(
                      'div',
                      {
                        class: 's-entity-pd-carousel-tile-suggestion',
                        'data-csa-c-type': 'widget',
                        'data-csa-c-content-id': c + '-disclosure-pane',
                        'data-csa-c-slot-id': c + '-disclosure-pane',
                      },
                      a.createElement(
                        'ol',
                        { class: 's-entity-pd-carousel-tile-container' },
                        ((e = b.suggestion.widgetItems),
                        [
                          h(e).map(function (c) {
                            return [
                              ((l = c.metadata),
                              [
                                a.createElement(
                                  'li',
                                  {
                                    class: k([
                                      's-entity-pd-' + b.elementClassName + '-element-container',
                                    ]),
                                  },
                                  a.createElement(
                                    'a',
                                    {
                                      class: k(['s-entity-pd-' + b.elementClassName + '-link']),
                                      href: '' + l.formattedCardLink,
                                    },
                                    a.createElement(
                                      'div',
                                      {
                                        class: k([
                                          's-entity-pd-' +
                                            b.elementClassName +
                                            '-element-image-container',
                                        ]),
                                      },
                                      a.createElement('img', {
                                        class: k([
                                          's-entity-pd-' + b.elementClassName + '-element-image',
                                        ]),
                                        src: '' + l.tileCardImageUrl,
                                      }),
                                    ),
                                    a.createElement(
                                      'div',
                                      {
                                        class: k([
                                          's-entity-pd-' +
                                            b.elementClassName +
                                            '-element-title-container',
                                        ]),
                                        'aria-label': '' + l.tileCardTitle,
                                      },
                                      '' + l.tileCardTitle,
                                    ),
                                  ),
                                ),
                              ]),
                            ]
                          }),
                        ]),
                      ),
                    ),
                  ]),
                ])
              }
              function h(a) {
                return !a.map && Java.from ? Java.from(a) : a
              }
              function g(a) {
                return null !== a && a !== p && '' !== a
              }
              function k(a) {
                a = a.join(' ').split(' ').filter(g).join(' ')
                return 0 < a.length ? a : p
              }
              d.exports = {}
              d.exports.default = b
              d.exports.TileCarousel = b
            },
            function (d, a) {
              function b(a, b, d) {
                a.assertNotNull(b, ['suggestion'])
                return a.root('autocomplete', 'NileSearchSuggestionsWidgetDesktop', [
                  a.createElement(
                    'div',
                    { class: 's-suggestion-nile-desktop-container' },
                    a.createElement(
                      'div',
                      { class: 's-suggestion-nile-desktop-icon-container' },
                      a.createElement('i', {
                        class: 's-suggestion-nile-desktop-icon',
                        'nile-keyword-desktop-icon': !0,
                      }),
                    ),
                    a.createElement(
                      'div',
                      {
                        class: 's-suggestion-nile-desktop s-suggestion-ellipsis-direction',
                        role: 'button',
                        'aria-label': b.suggestion.value,
                      },
                      a.createElement(
                        'span',
                        { class: 's-suggestion-nile-desktop-value' },
                        b.suggestion.value,
                      ),
                    ),
                  ),
                ])
              }
              d.exports = {}
              d.exports.default = b
              d.exports.NileSearchSuggestionsWidgetDesktop = b
            },
            function (d, a) {
              function b(a, b, d) {
                a.assertNotNull(b, ['suggestion'])
                var g
                return a.root('autocomplete', 'Stores', [
                  h(b.suggestion.widgetItems).map(function (b) {
                    return [
                      ((g = b.metadata),
                      [
                        a.createElement(
                          'div',
                          {
                            class: 's-suggestion s-store-suggestion',
                            'data-keyword': '' + g.text,
                            role: 'button',
                            'aria-label': '' + g.text,
                          },
                          a.createElement(
                            'a',
                            {
                              class: 's-store-sug-link',
                              'aria-label': '' + g.text,
                              href: '' + g.linkUrl,
                            },
                            a.createElement(
                              'div',
                              { class: 's-store-sug-logo-container', style: 'opacity: 1;' },
                              a.createElement('img', {
                                class: 's-store-sug-logo',
                                alt: '' + g.text,
                                src: '' + g.imageUrl,
                              }),
                            ),
                            a.createElement(
                              'div',
                              { class: 's-store-sug-text-container' },
                              a.createElement('div', { class: 's-store-sug-text' }, '' + g.text),
                            ),
                          ),
                        ),
                      ]),
                    ]
                  }),
                ])
              }
              function h(a) {
                return !a.map && Java.from ? Java.from(a) : a
              }
              d.exports = {}
              d.exports.default = b
              d.exports.Stores = b
            },
            function (d, a, b) {
              function h(a, b, d) {
                a.assertNotNull(b, ['suggestion', 'prefix', 'showCarouselControl'])
                d = n.LowercaseHeader
                var e = f.UppercaseHeader,
                  l = c.CarouselControl
                return a.root('autocomplete', 'CardsWidget', [
                  a.createElement(
                    'div',
                    { class: m([b.prefix + '_widget-suggestion']) },
                    b.suggestion.metadata.separator
                      ? a.createElement('hr', { class: 'cards_discover_widget-hr' })
                      : p,
                    '' !== b.suggestion.metadata.headerPrefix ||
                      '' !== b.suggestion.metadata.headerSuffix
                      ? d(
                          a,
                          {
                            headerPrefix: b.suggestion.metadata.headerPrefix,
                            header: b.suggestion.metadata.header,
                            headerSuffix: b.suggestion.metadata.headerSuffix,
                            cssPrefix: b.suggestion.metadata.useTopLineSeparator
                              ? 'bottom-cards-carousel'
                              : 'cards-carousel',
                          },
                          [],
                        )
                      : '' !== b.suggestion.metadata.title || '' !== b.suggestion.metadata.header
                        ? 'PIN_TO_BOTTOM' === b.suggestion.slot ||
                          'BOTTOM_SLOT' === b.suggestion.slot
                          ? e(
                              a,
                              {
                                header:
                                  '' !== b.suggestion.metadata.title
                                    ? b.suggestion.metadata.title
                                    : b.suggestion.metadata.header,
                                cssPrefix: 'cards_carousel_widget_bottom',
                              },
                              [],
                            )
                          : e(
                              a,
                              {
                                header:
                                  '' !== b.suggestion.metadata.title
                                    ? b.suggestion.metadata.title
                                    : b.suggestion.metadata.header,
                                cssPrefix: 'cards_carousel_widget',
                              },
                              [],
                            )
                        : p,
                    a.createElement(
                      'div',
                      { class: m([b.prefix + '_widget-sug-container-top']) },
                      g(b.suggestion.widgetItems).map(function (c, e) {
                        return [
                          a.createElement(
                            'div',
                            { class: m([b.prefix + '_widget-sug-column']) },
                            a.createElement(
                              'div',
                              {
                                class: m([b.prefix + '_widget-sug-card']),
                                role: 'button',
                                'aria-label': '' + c.metadata.text,
                                id: b.prefix + '_widget-sug-card-' + e,
                                'aria-describedby': 'sac-widget-suggestion-header',
                              },
                              a.createElement(
                                'a',
                                {
                                  class: m([b.prefix + '_widget-sug-link']),
                                  href: '' + c.metadata.linkUrl,
                                },
                                a.createElement(
                                  'div',
                                  { class: m([b.prefix + '_widget-sug-image-container']) },
                                  a.createElement('img', {
                                    class: m([b.prefix + '_widget-sug-image']),
                                    src: '' + c.metadata.imageUrl,
                                  }),
                                  a.createElement('div', {
                                    class: m([
                                      b.prefix + '_widget-sug-image-background',
                                      b.prefix + '_widget-sug-image-grey-shield',
                                    ]),
                                  }),
                                ),
                                c.metadata.text && !c.metadata.secondaryText
                                  ? a.createElement(
                                      'div',
                                      { class: m([b.prefix + '_widget-sug-text']) },
                                      '' + c.metadata.text,
                                    )
                                  : p,
                                c.metadata.text && c.metadata.secondaryText
                                  ? a.createElement(
                                      'div',
                                      { class: 'cards_carousel_text_left_widget-sug-text' },
                                      '' + c.metadata.text,
                                    )
                                  : p,
                                c.metadata.secondaryText
                                  ? a.createElement(
                                      'div',
                                      { class: 'cards_carousel_nview_widget-sug-text' },
                                      '' + c.metadata.secondaryText,
                                    )
                                  : p,
                              ),
                            ),
                          ),
                        ]
                      }),
                    ),
                    b.showCarouselControl ? l(a, {}, []) : p,
                  ),
                ])
              }
              function g(a) {
                return !a.map && Java.from ? Java.from(a) : a
              }
              function k(a) {
                return null !== a && a !== p && '' !== a
              }
              function m(a) {
                a = a.join(' ').split(' ').filter(k).join(' ')
                return 0 < a.length ? a : p
              }
              var n = b(27),
                f = b(7),
                c = b(26)
              d.exports = {}
              d.exports.default = h
              d.exports.CardsWidget = h
            },
            function (d, a, b) {
              function h(a, b, d) {
                a.assertNotNull(b, ['suggestion', 'showCarouselControl', 'useSmallPill'])
                d = n.LowercaseHeader
                var e = f.UppercaseHeader,
                  l = c.CarouselControl
                return a.root('autocomplete', 'ImageRefinement', [
                  a.createElement(
                    'div',
                    { class: 'image_refinement_widget-suggestion' },
                    b.suggestion.metadata.headerPrefix || b.suggestion.metadata.headerSuffix
                      ? d(
                          a,
                          {
                            headerPrefix: b.suggestion.metadata.headerPrefix,
                            header: b.suggestion.metadata.header,
                            headerSuffix: b.suggestion.metadata.headerSuffix,
                            cssPrefix: 'image-refinement',
                          },
                          [],
                        )
                      : e(
                          a,
                          {
                            header: b.suggestion.metadata.title,
                            cssPrefix: 'image_refinement_widget',
                          },
                          [],
                        ),
                    a.createElement(
                      'div',
                      { class: 'image_refinement_widget-sug-container' },
                      g(b.suggestion.widgetItems).map(function (c) {
                        return [
                          c.metadata.imageUrl
                            ? a.createElement(
                                'div',
                                { class: 'image_refinement_widget-sug-column' },
                                a.createElement(
                                  'div',
                                  {
                                    class: 's-suggestion image_refinement_widget-sug-item',
                                    role: 'button',
                                    'aria-label': '' + c.metadata.text,
                                    'aria-describedby': 'sac-widget-suggestion-header',
                                  },
                                  a.createElement(
                                    'a',
                                    {
                                      class: m([
                                        'image_refinement_widget-sug-link',
                                        b.useSmallPill ? 'small-pill-link' : '',
                                      ]),
                                      href: '' + c.metadata.linkUrl,
                                    },
                                    a.createElement(
                                      'div',
                                      {
                                        class: m([
                                          'image_refinement_widget-sug-image-container',
                                          b.useSmallPill ? 'small-pill-container' : '',
                                        ]),
                                        style: 'padding: ' + c.metadata.imagePadding,
                                      },
                                      a.createElement('img', {
                                        class: m([
                                          'image_refinement_widget-sug-image',
                                          b.useSmallPill ? 'small-pill-image' : '',
                                        ]),
                                        src: '' + c.metadata.imageUrl,
                                      }),
                                    ),
                                    a.createElement(
                                      'div',
                                      { class: 'image_refinement_widget-sug-text' },
                                      '' + c.metadata.text,
                                    ),
                                  ),
                                ),
                              )
                            : p,
                        ]
                      }),
                    ),
                    b.showCarouselControl ? l(a, {}, []) : p,
                  ),
                ])
              }
              function g(a) {
                return !a.map && Java.from ? Java.from(a) : a
              }
              function k(a) {
                return null !== a && a !== p && '' !== a
              }
              function m(a) {
                a = a.join(' ').split(' ').filter(k).join(' ')
                return 0 < a.length ? a : p
              }
              var n = b(27),
                f = b(7),
                c = b(26)
              d.exports = {}
              d.exports.default = h
              d.exports.ImageRefinement = h
            },
            function (d, a, b) {
              function h(a, b, f) {
                a.assertNotNull(b, ['suggestion', 'enabledFeatures', 'header', 'headerCssPrefix'])
                f = g.UppercaseHeader
                var c = k.SuggestionWithoutTitle
                return a.root('autocomplete', 'SuggestionWithTitle', [
                  f(
                    a,
                    {
                      header: b.header,
                      cssPrefix: b.headerCssPrefix,
                      customCss: 'non-clickable-suggestion-header',
                    },
                    [],
                  ),
                  c(a, { suggestion: b.suggestion, enabledFeatures: b.enabledFeatures }, []),
                ])
              }
              var g = b(7),
                k = b(75)
              d.exports = {}
              d.exports.default = h
              d.exports.SuggestionWithTitle = h
            },
            function (d, a, b) {
              function h(a, b, f) {
                a.assertNotNull(b, ['suggestion'])
                f = k.UppercaseHeader
                return a.root('autocomplete', 'ImageAndTextSuggestion', [
                  a.createElement(
                    'div',
                    { class: 'image_text_suggestion_widget-suggestion' },
                    '' !== b.suggestion.metadata.header
                      ? f(
                          a,
                          {
                            header: b.suggestion.metadata.header,
                            cssPrefix: 'image_text_suggestion',
                          },
                          [],
                        )
                      : p,
                    a.createElement(
                      'div',
                      { class: 'image_text_suggestion_widget-sug-container' },
                      g(b.suggestion.widgetItems).map(function (b) {
                        return [
                          b.metadata.imageUrl
                            ? a.createElement(
                                'div',
                                { class: 'image_text_suggestion_widget-sug-column' },
                                a.createElement(
                                  'div',
                                  {
                                    class: 's-suggestion image_text_suggestion_widget-sug-item',
                                    role: 'button',
                                    'aria-label': '' + b.metadata.text,
                                    'aria-describedby': 'sac-widget-suggestion-header',
                                  },
                                  a.createElement(
                                    'a',
                                    {
                                      class: 'image_text_suggestion_widget-sug-link',
                                      href: '' + b.metadata.linkUrl,
                                    },
                                    a.createElement(
                                      'div',
                                      { class: 'image_text_suggestion_widget-sug-image-container' },
                                      a.createElement('img', {
                                        class: 'image_text_suggestion_widget-sug-image',
                                        src: '' + b.metadata.imageUrl,
                                      }),
                                    ),
                                    a.createElement(
                                      'div',
                                      { class: 'image_text_suggestion_widget-sug-text' },
                                      '' + b.metadata.text,
                                    ),
                                  ),
                                ),
                              )
                            : p,
                        ]
                      }),
                    ),
                  ),
                ])
              }
              function g(a) {
                return !a.map && Java.from ? Java.from(a) : a
              }
              var k = b(7)
              d.exports = {}
              d.exports.default = h
              d.exports.ImageAndTextSuggestion = h
            },
            function (d, a, b) {
              function h(a, b, d) {
                a.assertNotNull(b, ['suggestion', 'showCarouselControl', 'prefix'])
                d = n.UppercaseHeader
                var e = f.LowercaseHeader,
                  l = c.CarouselControl
                return a.root('autocomplete', 'TextRefinement', [
                  a.createElement(
                    'div',
                    {
                      class: m([
                        b.prefix,
                        'PIN_TO_BOTTOM' === b.suggestion.slot ? 'pin-to-bottom' : '',
                      ]),
                    },
                    '' !== b.suggestion.metadata.title
                      ? d(
                          a,
                          {
                            header: b.suggestion.metadata.title,
                            cssPrefix: 'text_refinement_widget',
                          },
                          [],
                        )
                      : p,
                    '' !== b.suggestion.metadata.headerPrefix ||
                      '' !== b.suggestion.metadata.headerSuffix
                      ? e(
                          a,
                          {
                            headerPrefix: b.suggestion.metadata.headerPrefix,
                            header: b.suggestion.metadata.header,
                            headerSuffix: b.suggestion.metadata.headerSuffix,
                            cssPrefix:
                              'BOTTOM_SLOT' === b.suggestion.slot ||
                              'PIN_TO_BOTTOM' === b.suggestion.slot
                                ? 'bottom_slot_' + b.prefix
                                : b.prefix,
                          },
                          [],
                        )
                      : p,
                    a.createElement(
                      'ol',
                      { class: m([b.prefix + '-carousel-container']) },
                      g(b.suggestion.widgetItems).map(function (c, e) {
                        return [
                          a.createElement(
                            'li',
                            { class: m([b.prefix + '-carousel-card', 'discover-textnav-pill']) },
                            a.createElement(
                              'div',
                              {
                                class: m([b.prefix + '-carousel-sug-item']),
                                id: b.prefix + '-carousel-sug-item-' + e,
                              },
                              a.createElement(
                                'a',
                                { href: '' + c.metadata.linkUrl },
                                a.createElement(
                                  'div',
                                  { class: 'discover-textnav-pill' },
                                  a.createElement(
                                    'div',
                                    {
                                      class: m(['s-suggestion', b.prefix + '-suggestion']),
                                      role: 'button',
                                      'aria-label': '' + c.metadata.text,
                                      'aria-describedby': 'sac-widget-suggestion-header',
                                    },
                                    '' + c.metadata.text,
                                  ),
                                ),
                              ),
                            ),
                          ),
                        ]
                      }),
                    ),
                    b.showCarouselControl ? l(a, {}, []) : p,
                  ),
                ])
              }
              function g(a) {
                return !a.map && Java.from ? Java.from(a) : a
              }
              function k(a) {
                return null !== a && a !== p && '' !== a
              }
              function m(a) {
                a = a.join(' ').split(' ').filter(k).join(' ')
                return 0 < a.length ? a : p
              }
              var n = b(7),
                f = b(27),
                c = b(26)
              d.exports = {}
              d.exports.default = h
              d.exports.TextRefinement = h
            },
            function (d, a, b) {
              function h(a, b, f) {
                a.assertNotNull(b, ['suggestion'])
                f = k.UppercaseHeader
                return a.root('autocomplete', 'ImageSuggestion', [
                  a.createElement(
                    'div',
                    { class: 'image_suggestion_widget-suggestion' },
                    '' !== b.suggestion.metadata.header
                      ? f(
                          a,
                          { header: b.suggestion.metadata.header, cssPrefix: 'image_suggestion' },
                          [],
                        )
                      : p,
                    a.createElement(
                      'div',
                      { class: 'image_suggestion_widget-sug-container-top' },
                      g(b.suggestion.widgetItems).map(function (b) {
                        return [
                          b.metadata.imageUrl
                            ? a.createElement(
                                'div',
                                { class: 'image_suggestion_widget-sug-column' },
                                a.createElement(
                                  'div',
                                  { class: 'image_suggestion_widget-sug-card', role: 'button' },
                                  a.createElement(
                                    'a',
                                    {
                                      class: 'image_suggestion_widget-sug-link',
                                      href: '' + b.metadata.linkUrl,
                                    },
                                    a.createElement(
                                      'div',
                                      { class: 'image_suggestion_widget-sug-image-container' },
                                      a.createElement('img', {
                                        class: 'image_suggestion_widget-sug-image',
                                        src: '' + b.metadata.imageUrl,
                                      }),
                                    ),
                                  ),
                                ),
                              )
                            : p,
                        ]
                      }),
                    ),
                  ),
                ])
              }
              function g(a) {
                return !a.map && Java.from ? Java.from(a) : a
              }
              var k = b(7)
              d.exports = {}
              d.exports.default = h
              d.exports.ImageSuggestion = h
            },
            function (d, a) {
              function b(a, b, d) {
                a.assertNotNull(b, ['value', 'display'])
                return a.root('autocomplete', 'Options', [
                  a.createElement('option', { value: 'search-alias\x3d' + b.value }, b.display),
                ])
              }
              d.exports = {}
              d.exports.default = b
              d.exports.Options = b
            },
            function (d, a, b) {
              function h(a, b, d) {
                a.assertNotNull(b, ['suggestion', 'enabledFeatures'])
                d = g.KeywordSuggestion
                return a.root('autocomplete', 'RecentSearchSuggestion', [
                  d(
                    a,
                    {
                      suggestion: b.suggestion,
                      enabledFeatures: b.enabledFeatures,
                      suggestionClasses: 's-recentSearchDistinct',
                    },
                    [
                      a.createElement(
                        'div',
                        {
                          class: 's-suggestion-deleteDistinct',
                          deleteurl: !0,
                          role: 'button',
                          'aria-label': 'delete',
                        },
                        a.createElement('i', {
                          class:
                            'a-icon a-icon-close s-suggestion-close-icon-display s-suggestion-icon-left',
                          deleteurl: !0,
                        }),
                        a.createElement('i', {
                          class: 'icon-close s-suggestion-icon-left',
                          deleteurl: !0,
                        }),
                      ),
                    ],
                  ),
                ])
              }
              var g = b(42)
              d.exports = {}
              d.exports.default = h
              d.exports.RecentSearchSuggestion = h
            },
            function (d, a, b) {
              function h(a, b, d) {
                a.assertNotNull(b, ['suggestion', 'enabledFeatures'])
                d = g.KeywordSuggestion
                return a.root('autocomplete', 'KeywordImageSuggestion', [
                  d(
                    a,
                    {
                      suggestion: b.suggestion,
                      enabledFeatures: b.enabledFeatures,
                      suggestionClasses: b.suggestionClasses,
                    },
                    [],
                  ),
                ])
              }
              var g = b(42)
              d.exports = {}
              d.exports.default = h
              d.exports.KeywordImageSuggestion = h
            },
            function (d, a, b) {
              function h(a, b, f) {
                a.assertNotNull(b, ['asin'])
                f = g.WidgetHeader
                var c = k.AsinHeader
                return a.root('autocomplete', 'WidgetAsin', [
                  b.asin.topLineSeparator
                    ? a.createElement('hr', { class: 's-top-line-separator' })
                    : p,
                  f(a, { widgetHeader: b.asin.widgetHeader }, []),
                  a.createElement(
                    'div',
                    { class: 's-asin-suggestion s-suggestion' },
                    a.createElement(
                      'a',
                      { class: 's-asin-sug-link', href: b.asin.link },
                      a.createElement(
                        'div',
                        { class: 's-asin-sug-left' },
                        a.createElement(
                          'div',
                          { class: 's-asin-image-container', style: 'opacity: 1;' },
                          a.createElement('img', { class: 's-asin-image', src: b.asin.image }),
                        ),
                      ),
                      a.createElement(
                        'div',
                        { class: 's-asin-sug-right' },
                        c(a, { brandingPrefix: b.asin.brandingPrefix, header: b.asin.header }, []),
                        a.createElement('div', { class: 's-asin-title' }, b.asin.title),
                      ),
                    ),
                  ),
                ])
              }
              var g = b(78),
                k = b(76)
              d.exports = {}
              d.exports.default = h
              d.exports.WidgetAsin = h
            },
            function (d, a) {
              function b(a, b, d) {
                return a.root('autocomplete', 'Separator', [
                  a.createElement('div', { class: 's-separator' }),
                ])
              }
              d.exports = {}
              d.exports.default = b
              d.exports.Separator = b
            },
            function (d, a, b) {
              var h =
                  (this && this.__extends) ||
                  (function () {
                    var a = function (b, c) {
                      a =
                        Object.setPrototypeOf ||
                        ({ __proto__: [] } instanceof Array &&
                          function (a, b) {
                            a.__proto__ = b
                          }) ||
                        function (a, b) {
                          for (var c in b)
                            Object.prototype.hasOwnProperty.call(b, c) && (a[c] = b[c])
                        }
                      return a(b, c)
                    }
                    return function (b, c) {
                      function e() {
                        this.constructor = b
                      }
                      a(b, c)
                      b.prototype =
                        null === c ? Object.create(c) : ((e.prototype = c.prototype), new e())
                    }
                  })(),
                g =
                  (this && this.__assign) ||
                  function () {
                    g =
                      Object.assign ||
                      function (a) {
                        for (var b, c = 1, e = arguments.length; c < e; c++) {
                          b = arguments[c]
                          for (var l in b)
                            Object.prototype.hasOwnProperty.call(b, l) && (a[l] = b[l])
                        }
                        return a
                      }
                    return g.apply(this, arguments)
                  }
              Object.defineProperty(a, '__esModule', { value: !0 })
              var k = b(0),
                m = b(1).KeywordSuggestion
              d = (function (a) {
                function b(b, e, f) {
                  var c = a.call(this, e.getContext().enabledFeatures) || this
                  c.isDelimited = function () {
                    var a = c.context.enabledFeatures
                    if (a.useSuggestionDelimiter !== p) return a.useSuggestionDelimiter
                    a = c.api.getContext().getContextField('site-variant')
                    return k.isMShop(a)
                  }
                  c.select = function (b, e, f) {
                    a.prototype.select.call(c, b, e, f)
                    k.textSuggestionSelectionHandler(f, c.api)
                  }
                  c.attachEventHandlers = function (a, b) {
                    a.addEventListener(
                      'click',
                      k.guardError({}, function (a) {
                        a.target instanceof Element && a.target.hasAttribute('autofill')
                          ? c.api.autofillSuggestion(b.value)
                          : c.click(b)
                      }),
                    )
                  }
                  c.generateHtml = function (a) {
                    return m.default(c.kataRuntime, {
                      suggestion: a,
                      enabledFeatures: g(
                        g(
                          g({}, c.context.enabledFeatures),
                          !!a.imageUrl && 'left' === a.imagePosition && { leftSideImage: !0 },
                        ),
                        !!a.imageUrl && 'right' === a.imagePosition && { rightSideImage: !0 },
                      ),
                    })
                  }
                  c.api = e
                  c.context = f
                  c.kataRuntime = b
                  return c
                }
                h(b, a)
                b.prototype.accept = function (a, b) {
                  var c, e, f, d, n, h
                  return g(g({}, a), {
                    crid: b.responseId,
                    highlightFragments: a.highlightFragments || k.highlightText(a.value, b.prefix),
                    crossCategoryString: k.buildCrossCategoryString(
                      this.context.crossCategoryString,
                      a.scopes,
                      this.context,
                    ),
                    imageUrl:
                      null ===
                        (e =
                          null === (c = a.complementaryInfo) || void 0 === c
                            ? void 0
                            : c.THUMBNAIL_IMAGE) || void 0 === e
                        ? void 0
                        : e.value,
                    imagePosition:
                      'hit-vc-nw' ===
                        (null ===
                          (d =
                            null === (f = a.complementaryInfo) || void 0 === f
                              ? void 0
                              : f.THUMBNAIL_IMAGE) || void 0 === d
                          ? void 0
                          : d.strategyId) ||
                      (null ===
                        (h =
                          null === (n = a.complementaryInfo) || void 0 === n
                            ? void 0
                            : n.THUMBNAIL_IMAGE) || void 0 === h
                        ? 0
                        : h.strategyId.endsWith('left'))
                        ? 'left'
                        : 'right',
                  })
                }
                b.prototype.type = function () {
                  return ['KEYWORD']
                }
                b.prototype.click = function (b) {
                  k.logOneTimeEvent(k.SearchAcceptanceMetric)
                  k.emitCounter(k.SearchAcceptanceMetric)
                  a.prototype.click.call(this, b)
                  q.location.assign(k.buildSearchLinkUrl(b, this.api.getContext()))
                  return !0
                }
                return b
              })(k.InstrumentedSuggestion)
              a.default = d
            },
            function (d, a, b) {
              var h =
                  (this && this.__extends) ||
                  (function () {
                    var a = function (b, c) {
                      a =
                        Object.setPrototypeOf ||
                        ({ __proto__: [] } instanceof Array &&
                          function (a, b) {
                            a.__proto__ = b
                          }) ||
                        function (a, b) {
                          for (var c in b)
                            Object.prototype.hasOwnProperty.call(b, c) && (a[c] = b[c])
                        }
                      return a(b, c)
                    }
                    return function (b, c) {
                      function e() {
                        this.constructor = b
                      }
                      a(b, c)
                      b.prototype =
                        null === c ? Object.create(c) : ((e.prototype = c.prototype), new e())
                    }
                  })(),
                g =
                  (this && this.__assign) ||
                  function () {
                    g =
                      Object.assign ||
                      function (a) {
                        for (var b, c = 1, e = arguments.length; c < e; c++) {
                          b = arguments[c]
                          for (var l in b)
                            Object.prototype.hasOwnProperty.call(b, l) && (a[l] = b[l])
                        }
                        return a
                      }
                    return g.apply(this, arguments)
                  }
              Object.defineProperty(a, '__esModule', { value: !0 })
              var k = b(0),
                m = b(1).KeywordImageSuggestion
              d = (function (a) {
                function b(b, e, f) {
                  var c = a.call(this, e.getContext().enabledFeatures) || this
                  c.isDelimited = function () {
                    var a = c.context.enabledFeatures
                    if (a.useSuggestionDelimiter !== p) return a.useSuggestionDelimiter
                    a = c.api.getContext().getContextField('site-variant')
                    return k.isMShop(a)
                  }
                  c.select = function (b, e, f) {
                    a.prototype.select.call(c, b, e, f)
                    k.textSuggestionSelectionHandler(f, c.api)
                  }
                  c.attachEventHandlers = function (a, b) {
                    a.addEventListener(
                      'click',
                      k.guardError({}, function (a) {
                        a.target instanceof Element && a.target.hasAttribute('autofill')
                          ? c.api.autofillSuggestion(b.value)
                          : c.click(b)
                      }),
                    )
                  }
                  c.generateHtml = function (a) {
                    return m.default(c.kataRuntime, {
                      suggestion: a,
                      enabledFeatures: g(
                        g(
                          g({}, c.context.enabledFeatures),
                          'kw-img-l' === a.template && { leftSideImage: !0 },
                        ),
                        { rightSideImage: 'kw-img-r' === a.template },
                      ),
                    })
                  }
                  c.api = e
                  c.context = f
                  c.kataRuntime = b
                  return c
                }
                h(b, a)
                b.prototype.accept = function (a, b) {
                  return g(g({}, a), {
                    crid: b.responseId,
                    highlightFragments: a.highlightFragments || k.highlightText(a.value, b.prefix),
                    crossCategoryString: k.buildCrossCategoryString(
                      this.context.crossCategoryString,
                      a.scopes,
                      this.context,
                    ),
                    imageUrl: a.metadata.imageUrl,
                  })
                }
                b.prototype.type = function () {
                  return ['kw-img-l', 'kw-img-r']
                }
                b.prototype.click = function (b) {
                  k.logOneTimeEvent(k.SearchAcceptanceMetric)
                  k.emitCounter(k.SearchAcceptanceMetric)
                  a.prototype.click.call(this, b)
                  q.location.assign(k.buildSearchLinkUrl(b, this.api.getContext()))
                  return !0
                }
                return b
              })(k.InstrumentedSuggestion)
              a.default = d
            },
            function (d, a, b) {
              var h =
                  (this && this.__extends) ||
                  (function () {
                    var a = function (b, c) {
                      a =
                        Object.setPrototypeOf ||
                        ({ __proto__: [] } instanceof Array &&
                          function (a, b) {
                            a.__proto__ = b
                          }) ||
                        function (a, b) {
                          for (var c in b)
                            Object.prototype.hasOwnProperty.call(b, c) && (a[c] = b[c])
                        }
                      return a(b, c)
                    }
                    return function (b, c) {
                      function e() {
                        this.constructor = b
                      }
                      a(b, c)
                      b.prototype =
                        null === c ? Object.create(c) : ((e.prototype = c.prototype), new e())
                    }
                  })(),
                g =
                  (this && this.__assign) ||
                  function () {
                    g =
                      Object.assign ||
                      function (a) {
                        for (var b, c = 1, e = arguments.length; c < e; c++) {
                          b = arguments[c]
                          for (var l in b)
                            Object.prototype.hasOwnProperty.call(b, l) && (a[l] = b[l])
                        }
                        return a
                      }
                    return g.apply(this, arguments)
                  }
              Object.defineProperty(a, '__esModule', { value: !0 })
              var k = b(0),
                m = b(1).RecentSearchSuggestion
              d = (function (a) {
                function b(b, e, f) {
                  var c = a.call(this, e.getContext().enabledFeatures) || this
                  c.generateHtml = function (a) {
                    return m.default(c.kataRuntime, {
                      suggestion: a,
                      enabledFeatures: c.context.enabledFeatures,
                    })
                  }
                  c.select = function (b, e, f) {
                    a.prototype.select.call(c, b, e, f)
                    k.textSuggestionSelectionHandler(f, c.api)
                  }
                  c.isDelimited = function () {
                    var a = c.context.enabledFeatures
                    if (a.useSuggestionDelimiter !== p) return a.useSuggestionDelimiter
                    a = c.api.getContext().getContextField('site-variant')
                    return k.isMShop(a)
                  }
                  c.attachEventHandlers = function (a, b) {
                    a.addEventListener(
                      'click',
                      k.guardError({}, function (a) {
                        a.target instanceof Element && a.target.hasAttribute('deleteurl')
                          ? c.api.deleteSuggestion(b.deleteUrl)
                          : a.target instanceof Element && a.target.hasAttribute('autofill')
                            ? c.api.autofillSuggestion(b.value)
                            : c.click(b)
                      }),
                    )
                  }
                  c.api = e
                  c.kataRuntime = b
                  c.context = f
                  return c
                }
                h(b, a)
                b.prototype.accept = function (a, b) {
                  return g(g({}, a), {
                    crid: b.responseId,
                    highlightFragments: k.highlightText(a.value, b.prefix),
                    crossCategoryString: k.buildCrossCategoryString(
                      this.context.crossCategoryString,
                      a.scopes,
                      this.context,
                    ),
                  })
                }
                b.prototype.type = function () {
                  return ['PAST_SEARCHES']
                }
                b.prototype.click = function (b) {
                  k.logOneTimeEvent(k.SearchAcceptanceMetric)
                  k.emitCounter(k.SearchAcceptanceMetric)
                  a.prototype.click.call(this, b)
                  q.location.assign(k.buildSearchLinkUrl(b, this.api.getContext()))
                  return !0
                }
                return b
              })(k.InstrumentedSuggestion)
              a.default = d
            },
            function (d, a, b) {
              var h =
                (this && this.__extends) ||
                (function () {
                  var a = function (b, c) {
                    a =
                      Object.setPrototypeOf ||
                      ({ __proto__: [] } instanceof Array &&
                        function (a, b) {
                          a.__proto__ = b
                        }) ||
                      function (a, b) {
                        for (var c in b) Object.prototype.hasOwnProperty.call(b, c) && (a[c] = b[c])
                      }
                    return a(b, c)
                  }
                  return function (b, c) {
                    function e() {
                      this.constructor = b
                    }
                    a(b, c)
                    b.prototype =
                      null === c ? Object.create(c) : ((e.prototype = c.prototype), new e())
                  }
                })()
              d =
                (this && this.__importDefault) ||
                function (a) {
                  return a && a.__esModule ? a : { default: a }
                }
              Object.defineProperty(a, '__esModule', { value: !0 })
              var g = b(0),
                k = b(6),
                m = d(b(43)),
                n = b(23),
                f = b(1).CardsWidget,
                c = {
                  cards: 'cards_discover',
                  'discover-top-grey': 'cards_discover',
                  'discover-bot-grey': 'cards_discover',
                  'card-carousel': 'cards_carousel',
                  'lifestyle-card': 'lifestyles_card',
                  'mini-lifestyle-card': 'mini_lifestyles_card',
                  cardCarousel: 'cards_carousel',
                  'ufs-tiles-card': 'ufs_tiles_card',
                },
                e = function (a) {
                  return {
                    cardsRowContainer: '.' + a + '_widget-sug-container-top',
                    cardContainer: '.' + a + '_widget-sug-column',
                    selectionClass: '.' + a + '_widget-sug-card',
                    prefix: a,
                  }
                }
              b = (function (a) {
                function b(b, f) {
                  var l = a.call(this) || this
                  l.isDelimited = function () {
                    return !0
                  }
                  l.attachEventHandlers = function (a) {
                    l.carouselControl.attachEventHandlers(a)
                  }
                  l.select = function (a, b) {
                    var c, e, f
                    a = (
                      null === (c = l.api.getContext().enabledFeatures) || void 0 === c
                        ? 0
                        : c.accessibilityColorContrast
                    )
                      ? g.cardsKeyboardScrollHandler(
                          b.key,
                          null === (e = l.carouselControl.elements) || void 0 === e
                            ? void 0
                            : e.scrollableArea,
                          l.classes.cardContainer,
                        )
                      : g.keyboardScrollHandler(
                          b.key,
                          null === (f = l.carouselControl.elements) || void 0 === f
                            ? void 0
                            : f.scrollableArea,
                          l.classes.selectionClass,
                          l.classes.cardContainer,
                        )
                    l.carouselControl.scrollToHighlightedSuggestion(a)
                  }
                  l.click = function () {
                    return l.isSelected() && l.carouselControl.click(l.highlightSuggestionClass)
                  }
                  l.isSelected = function () {
                    var a, b
                    return (
                      0 <
                      (null ===
                        (b =
                          null === (a = l.carouselControl.elements) || void 0 === a
                            ? void 0
                            : a.scrollableArea) || void 0 === b
                        ? void 0
                        : b.find('.' + l.highlightSuggestionClass).length)
                    )
                  }
                  l.deSelect = function () {
                    var a, b
                    null ===
                      (b =
                        null === (a = l.carouselControl.elements) || void 0 === a
                          ? void 0
                          : a.scrollableArea) || void 0 === b
                      ? void 0
                      : b.find(l.getHighlightSelectionClass()).each(function (a, b) {
                          if (
                            null === b || void 0 === b
                              ? 0
                              : b.classList.contains(l.highlightSuggestionClass)
                          )
                            null === b || void 0 === b
                              ? void 0
                              : b.classList.remove(l.highlightSuggestionClass),
                              null === b || void 0 === b
                                ? void 0
                                : b.classList.add(g.highlightSuggestionInactive)
                        })
                  }
                  l.onRendered = function () {
                    l.carouselControl.onRendered()
                  }
                  l.showCarouselControl = function () {
                    return (
                      'desktop' === n.getSiteVariant() &&
                      ('cards_carousel' === l.classes.prefix ||
                        'lifestyles_card' === l.classes.prefix)
                    )
                  }
                  l.getHighlightSuggestionClass = function () {
                    var a
                    return (
                      null === (a = l.api.getContext().enabledFeatures) || void 0 === a
                        ? 0
                        : a.accessibilityColorContrast
                    )
                      ? g.highlightSuggestionCardByKeyboardFocus
                      : g.highlightSuggestion
                  }
                  l.getHighlightSelectionClass = function () {
                    var a
                    return (
                      null === (a = l.api.getContext().enabledFeatures) || void 0 === a
                        ? 0
                        : a.accessibilityColorContrast
                    )
                      ? l.classes.cardContainer
                      : l.classes.selectionClass
                  }
                  l.api = f
                  l.$ = f.getJQuery()
                  l.kataRuntime = b
                  l.classes = e(c.cards)
                  l.carouselControl = new m.default(f, l.$, l.classes.cardsRowContainer)
                  l.highlightSuggestionClass = l.getHighlightSuggestionClass()
                  return l
                }
                h(b, a)
                b.prototype.accept = function (a) {
                  var b = this.classes.cardsRowContainer
                  this.classes = e(c[a.template])
                  b !== this.classes.cardsRowContainer &&
                    (this.carouselControl = new m.default(
                      this.api,
                      this.$,
                      this.classes.cardsRowContainer,
                    ))
                  a.metadata = k.setDefaultMetadata(a.metadata)
                  return g.normalizeInputObject(a)
                }
                b.prototype.generateHtml = function (a) {
                  return f.default(this.kataRuntime, {
                    suggestion: a,
                    prefix: this.classes.prefix,
                    showCarouselControl: this.showCarouselControl(),
                  })
                }
                b.prototype.getSelectedId = function (a) {
                  if (!a) return ''
                  if (this.highlightSuggestionClass === g.highlightSuggestion) {
                    var b = a.querySelector('.' + this.highlightSuggestionClass)
                    if (b) return b.id
                  } else if (
                    this.highlightSuggestionClass === g.highlightSuggestionCardByKeyboardFocus &&
                    (b = a.querySelector('.' + this.highlightSuggestionClass)) &&
                    b.children &&
                    0 < b.children.length
                  )
                    return b.children[0].id
                  return a.id ? a.id : ''
                }
                b.prototype.type = function () {
                  return 'cards discover-top-grey discover-bot-grey card-carousel lifestyle-card mini-lifestyle-card cardCarousel ufs-tiles-card'.split(
                    ' ',
                  )
                }
                return b
              })(g.InstrumentedSuggestion)
              a.default = b
            },
            function (d, a, b) {
              var h =
                (this && this.__extends) ||
                (function () {
                  var a = function (b, c) {
                    a =
                      Object.setPrototypeOf ||
                      ({ __proto__: [] } instanceof Array &&
                        function (a, b) {
                          a.__proto__ = b
                        }) ||
                      function (a, b) {
                        for (var c in b) Object.prototype.hasOwnProperty.call(b, c) && (a[c] = b[c])
                      }
                    return a(b, c)
                  }
                  return function (b, c) {
                    function e() {
                      this.constructor = b
                    }
                    a(b, c)
                    b.prototype =
                      null === c ? Object.create(c) : ((e.prototype = c.prototype), new e())
                  }
                })()
              d =
                (this && this.__importDefault) ||
                function (a) {
                  return a && a.__esModule ? a : { default: a }
                }
              Object.defineProperty(a, '__esModule', { value: !0 })
              var g = b(0),
                k = b(6),
                m = d(b(43)),
                n = b(79),
                f = b(1).ImageRefinement
              b = (function (a) {
                function b(b, c) {
                  var e = a.call(this, c.getContext().enabledFeatures) || this
                  e.select = function (a, b) {
                    var c
                    a = g.keyboardScrollHandler(
                      b.key,
                      null === (c = e.carouselControl.elements) || void 0 === c
                        ? void 0
                        : c.scrollableArea,
                      '.image_refinement_widget-sug-item',
                      '.image_refinement_widget-sug-column',
                    )
                    e.carouselControl.scrollToHighlightedSuggestion(a)
                    b.preventDefault()
                  }
                  e.isDelimited = function () {
                    return !0
                  }
                  e.deSelect = function () {
                    var a, b
                    null ===
                      (b =
                        null === (a = e.carouselControl.elements) || void 0 === a
                          ? void 0
                          : a.scrollableArea) || void 0 === b
                      ? void 0
                      : b.find('.image_refinement_widget-sug-item').each(function (a, b) {
                          if (
                            null === b || void 0 === b
                              ? 0
                              : b.classList.contains(g.highlightSuggestion)
                          )
                            null === b || void 0 === b
                              ? void 0
                              : b.classList.remove(g.highlightSuggestion),
                              null === b || void 0 === b
                                ? void 0
                                : b.classList.add(g.highlightSuggestionInactive)
                        })
                  }
                  e.isSelected = function () {
                    var a, b
                    return (
                      0 <
                      (null ===
                        (b =
                          null === (a = e.carouselControl.elements) || void 0 === a
                            ? void 0
                            : a.scrollableArea) || void 0 === b
                        ? void 0
                        : b.find('.' + g.highlightSuggestion).length)
                    )
                  }
                  e.attachEventHandlers = function (a) {
                    e.carouselControl.attachEventHandlers(a)
                  }
                  e.click = function () {
                    return e.isSelected() && e.carouselControl.click()
                  }
                  e.onRendered = function () {
                    e.carouselControl.onRendered()
                  }
                  e.showCarouselControl = function () {
                    return 'desktop' === g.getSiteVariant()
                  }
                  e.$ = c.getJQuery()
                  e.api = c
                  e.filterByString = c.getContext().filterByString
                  e.kataRuntime = b
                  e.carouselControl = new m.default(
                    c,
                    e.$,
                    '.image_refinement_widget-sug-container',
                  )
                  return e
                }
                h(b, a)
                b.prototype.accept = function (a) {
                  var b, c
                  this.filterByString &&
                    (null === (b = a.metadata) || void 0 === b ? 0 : b.refinement) &&
                    (a = n.setTitle(a, this.filterByString))
                  a.metadata = k.setDefaultMetadata(a.metadata)
                  for (b = 0; b < a.widgetItems.length; b += 1) {
                    var e = a.widgetItems[b]
                    e.metadata.image_url &&
                      (e.metadata.imagePadding =
                        null !== (c = e.metadata.image_padding) && void 0 !== c ? c : '0')
                  }
                  return g.normalizeInputObject(a)
                }
                b.prototype.resize = function (a) {
                  this.carouselControl.onResized()
                }
                b.prototype.generateHtml = function (a) {
                  return f.default(this.kataRuntime, {
                    suggestion: a,
                    showCarouselControl: this.showCarouselControl(),
                    useSmallPill: 'true' == a.metadata.useSmallPill,
                  })
                }
                b.prototype.type = function () {
                  return ['image-refinement']
                }
                return b
              })(g.InstrumentedSuggestion)
              a.default = b
            },
            function (d, a, b) {
              var h =
                (this && this.__extends) ||
                (function () {
                  var a = function (b, c) {
                    a =
                      Object.setPrototypeOf ||
                      ({ __proto__: [] } instanceof Array &&
                        function (a, b) {
                          a.__proto__ = b
                        }) ||
                      function (a, b) {
                        for (var c in b) Object.prototype.hasOwnProperty.call(b, c) && (a[c] = b[c])
                      }
                    return a(b, c)
                  }
                  return function (b, c) {
                    function e() {
                      this.constructor = b
                    }
                    a(b, c)
                    b.prototype =
                      null === c ? Object.create(c) : ((e.prototype = c.prototype), new e())
                  }
                })()
              d =
                (this && this.__importDefault) ||
                function (a) {
                  return a && a.__esModule ? a : { default: a }
                }
              var g
              Object.defineProperty(a, '__esModule', { value: !0 })
              var k = b(0),
                m = b(6),
                n = d(b(43)),
                f = b(79),
                c = b(1).TextRefinement,
                e
              ;(function (a) {
                a.DISCOVER = 'discover-top-refinement-desktop-top'
                a.TEXT_REFINEMENT = 'text-refinement'
              })(e || (e = {}))
              var l =
                  ((g = {}),
                  (g[e.DISCOVER] = 'discover-tr'),
                  (g[e.TEXT_REFINEMENT] = 'text-refinement'),
                  g),
                w = function (a) {
                  return {
                    cardsRowContainer: '.' + a + '-carousel-container',
                    cardContainer: '.' + a + '-carousel-card',
                    selectionClass: '.' + a + '-carousel-sug-item',
                    prefix: a,
                  }
                }
              b = (function (a) {
                function b(b, f) {
                  var d = a.call(this, f.getContext().enabledFeatures) || this
                  d.select = function (a, b) {
                    var c
                    a = k.keyboardScrollHandler(
                      b.key,
                      null === (c = d.carouselControl.elements) || void 0 === c
                        ? void 0
                        : c.scrollableArea,
                      d.classes.selectionClass,
                      d.classes.cardContainer,
                    )
                    d.carouselControl.scrollToHighlightedSuggestion(a)
                    b.preventDefault()
                  }
                  d.isDelimited = function () {
                    return !0
                  }
                  d.deSelect = function () {
                    var a, b
                    null ===
                      (b =
                        null === (a = d.carouselControl.elements) || void 0 === a
                          ? void 0
                          : a.scrollableArea) || void 0 === b
                      ? void 0
                      : b.find(d.classes.selectionClass).each(function (a, b) {
                          if (
                            null === b || void 0 === b
                              ? 0
                              : b.classList.contains(k.highlightSuggestion)
                          )
                            null === b || void 0 === b
                              ? void 0
                              : b.classList.remove(k.highlightSuggestion),
                              null === b || void 0 === b
                                ? void 0
                                : b.classList.add(k.highlightSuggestionInactive)
                        })
                  }
                  d.isSelected = function () {
                    var a, b
                    return (
                      0 <
                      (null ===
                        (b =
                          null === (a = d.carouselControl.elements) || void 0 === a
                            ? void 0
                            : a.scrollableArea) || void 0 === b
                        ? void 0
                        : b.find('.' + k.highlightSuggestion).length)
                    )
                  }
                  d.attachEventHandlers = function (a) {
                    d.carouselControl.attachEventHandlers(a)
                  }
                  d.click = function () {
                    return d.isSelected() && d.carouselControl.click()
                  }
                  d.onRendered = function () {
                    d.carouselControl.onRendered()
                  }
                  d.generateHtml = function (a) {
                    return c.default(d.kataRuntime, {
                      suggestion: a,
                      showCarouselControl: d.showCarouselControl(),
                      prefix: d.classes.prefix,
                    })
                  }
                  d.showCarouselControl = function () {
                    return 'desktop' === k.getSiteVariant()
                  }
                  d.$ = f.getJQuery()
                  d.api = f
                  d.filterByString = f.getContext().filterByString
                  d.kataRuntime = b
                  d.classes = w(l[e.DISCOVER])
                  d.carouselControl = new n.default(f, d.$, d.classes.cardsRowContainer)
                  return d
                }
                h(b, a)
                b.prototype.accept = function (a) {
                  var b,
                    c = this.classes.cardsRowContainer
                  this.classes = w(l[a.template])
                  c !== this.classes.cardsRowContainer &&
                    (this.carouselControl = new n.default(
                      this.api,
                      this.$,
                      this.classes.cardsRowContainer,
                    ))
                  this.filterByString &&
                    (null === (b = a.metadata) || void 0 === b ? 0 : b.refinement) &&
                    (a = f.setTitle(a, this.filterByString))
                  a.metadata = m.setDefaultMetadata(a.metadata)
                  return k.normalizeInputObject(a)
                }
                b.prototype.getSelectedId = function (a) {
                  if (!a) return ''
                  var b = a.querySelector('.' + k.highlightSuggestion)
                  return b ? b.id : a.id ? a.id : ''
                }
                b.prototype.resize = function (a) {
                  this.carouselControl.onResized()
                }
                b.prototype.type = function () {
                  return [e.DISCOVER, e.TEXT_REFINEMENT]
                }
                return b
              })(k.InstrumentedSuggestion)
              a.default = b
            },
            function (d, a, b) {
              function h(a, b) {
                var c, e, f
                return {
                  highlightFragments:
                    a.highlightFragments ||
                    k.highlightText(
                      null ===
                        (e =
                          null === (c = null === a || void 0 === a ? void 0 : a.widgetItems[0]) ||
                          void 0 === c
                            ? void 0
                            : c.metadata) || void 0 === e
                        ? void 0
                        : e.text,
                      b.prefix,
                    ),
                  linkUrl:
                    null === (f = null === a || void 0 === a ? void 0 : a.widgetItems[0]) ||
                    void 0 === f
                      ? void 0
                      : f.metadata.link_url,
                }
              }
              var g =
                (this && this.__extends) ||
                (function () {
                  var a = function (b, c) {
                    a =
                      Object.setPrototypeOf ||
                      ({ __proto__: [] } instanceof Array &&
                        function (a, b) {
                          a.__proto__ = b
                        }) ||
                      function (a, b) {
                        for (var c in b) Object.prototype.hasOwnProperty.call(b, c) && (a[c] = b[c])
                      }
                    return a(b, c)
                  }
                  return function (b, c) {
                    function e() {
                      this.constructor = b
                    }
                    a(b, c)
                    b.prototype =
                      null === c ? Object.create(c) : ((e.prototype = c.prototype), new e())
                  }
                })()
              Object.defineProperty(a, '__esModule', { value: !0 })
              a.translate = void 0
              var k = b(0),
                m = b(1).TextWithLink
              a.translate = h
              d = (function (a) {
                function b(b) {
                  var c = a.call(this) || this
                  c.isDelimited = function () {
                    return !0
                  }
                  c.click = function () {
                    var a = document.querySelectorAll('.s-suggestion-link-template a')
                    if (0 === a.length)
                      return (
                        k.logError('ClickedNonExistingWidget'),
                        k.emitError('ClickedNonExistingWidget'),
                        !1
                      )
                    a[0].click()
                    return !0
                  }
                  c.kataRuntime = b
                  return c
                }
                g(b, a)
                b.prototype.accept = function (a, b) {
                  return h(a, b)
                }
                b.prototype.generateHtml = function (a) {
                  return m.default(this.kataRuntime, { twl: a })
                }
                b.prototype.type = function () {
                  return ['keywords-link', 'promoted-suggestion']
                }
                return b
              })(k.InstrumentedSuggestion)
              a.default = d
            },
            function (d, a, b) {
              function h(a) {
                var b,
                  c,
                  e =
                    null === (b = null === a || void 0 === a ? void 0 : a.widgetItems[0]) ||
                    void 0 === b
                      ? void 0
                      : b.metadata
                return {
                  header: e.asin_header,
                  image: e.image_url,
                  link: e.link_url,
                  title: e.asin_title,
                  topLineSeparator:
                    'storefront' === (null === a || void 0 === a ? void 0 : a.template) ||
                    'BOTTOM_SLOT' === (null === a || void 0 === a ? void 0 : a.slot),
                  brandingPrefix: e.branding_prefix,
                  widgetHeader:
                    null === (c = null === a || void 0 === a ? void 0 : a.metadata) || void 0 === c
                      ? void 0
                      : c.header,
                }
              }
              var g =
                (this && this.__extends) ||
                (function () {
                  var a = function (b, c) {
                    a =
                      Object.setPrototypeOf ||
                      ({ __proto__: [] } instanceof Array &&
                        function (a, b) {
                          a.__proto__ = b
                        }) ||
                      function (a, b) {
                        for (var c in b) Object.prototype.hasOwnProperty.call(b, c) && (a[c] = b[c])
                      }
                    return a(b, c)
                  }
                  return function (b, c) {
                    function e() {
                      this.constructor = b
                    }
                    a(b, c)
                    b.prototype =
                      null === c ? Object.create(c) : ((e.prototype = c.prototype), new e())
                  }
                })()
              Object.defineProperty(a, '__esModule', { value: !0 })
              a.translate = void 0
              var k = b(0),
                m = b(1).WidgetAsin
              a.translate = h
              d = (function (a) {
                function b(b) {
                  var c = a.call(this) || this
                  c.isDelimited = function () {
                    return !0
                  }
                  c.kataRuntime = b
                  return c
                }
                g(b, a)
                b.prototype.accept = function (a) {
                  return h(a)
                }
                b.prototype.click = function (a) {
                  a = document.getElementsByClassName('s-asin-sug-link')
                  if (0 === a.length)
                    return (
                      k.logError('ClickedNonExistingWidget'),
                      k.emitError('ClickedNonExistingWidget'),
                      !1
                    )
                  a[0].click()
                  return !0
                }
                b.prototype.generateHtml = function (a) {
                  return m.default(this.kataRuntime, { asin: a })
                }
                b.prototype.type = function () {
                  return ['asin', 'storefront']
                }
                return b
              })(k.InstrumentedSuggestion)
              a.default = d
            },
            function (d, a, b) {
              var h =
                (this && this.__extends) ||
                (function () {
                  var a = function (b, f) {
                    a =
                      Object.setPrototypeOf ||
                      ({ __proto__: [] } instanceof Array &&
                        function (a, b) {
                          a.__proto__ = b
                        }) ||
                      function (a, b) {
                        for (var c in b) Object.prototype.hasOwnProperty.call(b, c) && (a[c] = b[c])
                      }
                    return a(b, f)
                  }
                  return function (b, f) {
                    function c() {
                      this.constructor = b
                    }
                    a(b, f)
                    b.prototype =
                      null === f ? Object.create(f) : ((c.prototype = f.prototype), new c())
                  }
                })()
              Object.defineProperty(a, '__esModule', { value: !0 })
              var g = b(0),
                k = b(1).Stores
              d = (function (a) {
                function b(b, c) {
                  c = a.call(this, c.getContext().enabledFeatures) || this
                  c.click = function () {
                    var a = document.getElementsByClassName('s-store-sug-link')
                    if (0 === a.length)
                      return (
                        g.logError('ClickedNonExistingWidget'),
                        g.emitError('ClickedNonExistingWidget'),
                        !1
                      )
                    a[0].click()
                    return !0
                  }
                  c.kataRuntime = b
                  return c
                }
                h(b, a)
                b.prototype.accept = function (a) {
                  return g.normalizeInputObject(a)
                }
                b.prototype.generateHtml = function (a) {
                  return k.default(this.kataRuntime, { suggestion: a })
                }
                b.prototype.type = function () {
                  return ['stores']
                }
                return b
              })(g.InstrumentedSuggestion)
              a.default = d
            },
            function (d, a, b) {
              var h =
                (this && this.__extends) ||
                (function () {
                  var a = function (b, f) {
                    a =
                      Object.setPrototypeOf ||
                      ({ __proto__: [] } instanceof Array &&
                        function (a, b) {
                          a.__proto__ = b
                        }) ||
                      function (a, b) {
                        for (var c in b) Object.prototype.hasOwnProperty.call(b, c) && (a[c] = b[c])
                      }
                    return a(b, f)
                  }
                  return function (b, f) {
                    function c() {
                      this.constructor = b
                    }
                    a(b, f)
                    b.prototype =
                      null === f ? Object.create(f) : ((c.prototype = f.prototype), new c())
                  }
                })()
              Object.defineProperty(a, '__esModule', { value: !0 })
              var g = b(0),
                k = b(1).ImageAndTextSuggestion
              d = (function (a) {
                function b(b) {
                  var c = a.call(this) || this
                  c.onRendered = function (a) {
                    a.style.width = '100%'
                  }
                  c.kataRuntime = b
                  return c
                }
                h(b, a)
                b.prototype.accept = function (a) {
                  return g.normalizeInputObject(a)
                }
                b.prototype.generateHtml = function (a) {
                  return k.default(this.kataRuntime, { suggestion: a })
                }
                b.prototype.type = function () {
                  return ['image-text-suggestion']
                }
                return b
              })(g.InstrumentedSuggestion)
              a.default = d
            },
            function (d, a, b) {
              var h =
                (this && this.__extends) ||
                (function () {
                  var a = function (b, f) {
                    a =
                      Object.setPrototypeOf ||
                      ({ __proto__: [] } instanceof Array &&
                        function (a, b) {
                          a.__proto__ = b
                        }) ||
                      function (a, b) {
                        for (var c in b) Object.prototype.hasOwnProperty.call(b, c) && (a[c] = b[c])
                      }
                    return a(b, f)
                  }
                  return function (b, f) {
                    function c() {
                      this.constructor = b
                    }
                    a(b, f)
                    b.prototype =
                      null === f ? Object.create(f) : ((c.prototype = f.prototype), new c())
                  }
                })()
              Object.defineProperty(a, '__esModule', { value: !0 })
              var g = b(0),
                k = b(1).MultiKeywordSuggestions
              d = (function (a) {
                function b(b, c) {
                  var e = a.call(this) || this
                  e.isDelimited = function () {
                    return !0
                  }
                  e.select = function (b, c, f) {
                    a.prototype.select.call(e, b, c, f)
                    g.textSuggestionSelectionHandler(f, e.api)
                  }
                  e.attachEventHandlers = function (a, b) {
                    a.addEventListener(
                      'click',
                      g.guardError({}, function (c) {
                        if (c.target instanceof Element) {
                          c = c.target.closest('.s-onfocus')
                          for (
                            var f = 0 < e.$(a).children('.s-onfocus-label').length, d = 0;
                            d < a.childNodes.length;
                            d += 1
                          )
                            if (a.childNodes[d].isEqualNode(c))
                              return (
                                g.logOneTimeEvent(g.SearchAcceptanceMetric),
                                g.emitCounter(g.SearchAcceptanceMetric),
                                g.emitEvents(),
                                q.location.assign(
                                  g.buildSearchLinkUrl(
                                    b.suggestions[d - (f ? 1 : 0)],
                                    e.api.getContext(),
                                  ),
                                ),
                                !0
                              )
                        }
                        return !1
                      }),
                    )
                  }
                  e.generateHtml = function (a) {
                    return k.default(e.kataRuntime, { suggestion: a })
                  }
                  e.api = c
                  e.kataRuntime = b
                  e.$ = c.getJQuery()
                  return e
                }
                h(b, a)
                b.prototype.accept = function (a) {
                  var b,
                    e,
                    f = {
                      label:
                        null !==
                          (e = null === (b = a.metadata) || void 0 === b ? void 0 : b.header) &&
                        void 0 !== e
                          ? e
                          : '',
                      suggestions: [],
                    }
                  b = 0
                  for (a = a.widgetItems; b < a.length; b++)
                    (e = a[b]),
                      f.suggestions.push({
                        value: e.metadata.value,
                        type: e.metadata.type,
                        refTag: e.metadata.reftag,
                        strategyId: e.metadata.strategyid,
                        crid: e.metadata.crid,
                      })
                  return f
                }
                b.prototype.type = function () {
                  return ['MultiKeywordSuggestions']
                }
                return b
              })(g.InstrumentedSuggestion)
              a.default = d
            },
            function (d, a, b) {
              var h =
                  (this && this.__extends) ||
                  (function () {
                    var a = function (b, c) {
                      a =
                        Object.setPrototypeOf ||
                        ({ __proto__: [] } instanceof Array &&
                          function (a, b) {
                            a.__proto__ = b
                          }) ||
                        function (a, b) {
                          for (var c in b)
                            Object.prototype.hasOwnProperty.call(b, c) && (a[c] = b[c])
                        }
                      return a(b, c)
                    }
                    return function (b, c) {
                      function e() {
                        this.constructor = b
                      }
                      a(b, c)
                      b.prototype =
                        null === c ? Object.create(c) : ((e.prototype = c.prototype), new e())
                    }
                  })(),
                g =
                  (this && this.__assign) ||
                  function () {
                    g =
                      Object.assign ||
                      function (a) {
                        for (var b, c = 1, e = arguments.length; c < e; c++) {
                          b = arguments[c]
                          for (var d in b)
                            Object.prototype.hasOwnProperty.call(b, d) && (a[d] = b[d])
                        }
                        return a
                      }
                    return g.apply(this, arguments)
                  }
              Object.defineProperty(a, '__esModule', { value: !0 })
              var k = b(0),
                m = b(1).TrendingSearchSuggestion
              d = (function (a) {
                function b(b, e, d) {
                  var c = a.call(this, e.getContext().enabledFeatures) || this
                  c.isDelimited = function () {
                    var a = c.context.enabledFeatures
                    if (a.useSuggestionDelimiter !== p) return a.useSuggestionDelimiter
                    a = c.api.getContext().getContextField('site-variant')
                    return k.isMShop(a)
                  }
                  c.select = function (b, e, d) {
                    a.prototype.select.call(c, b, e, d)
                    k.textSuggestionSelectionHandler(d, c.api)
                  }
                  c.attachEventHandlers = function (a, b) {
                    a.addEventListener(
                      'click',
                      k.guardError({}, function (a) {
                        a.target instanceof Element && a.target.hasAttribute('autofill')
                          ? c.api.autofillSuggestion(b.value)
                          : c.click(b)
                      }),
                    )
                  }
                  c.generateHtml = function (a) {
                    return m.default(c.kataRuntime, {
                      suggestion: a,
                      enabledFeatures: c.context.enabledFeatures,
                    })
                  }
                  c.api = e
                  c.context = d
                  c.kataRuntime = b
                  return c
                }
                h(b, a)
                b.prototype.accept = function (a, b) {
                  return g(g({}, a), {
                    crid: b.responseId,
                    highlightFragments: a.highlightFragments || k.highlightText(a.value, b.prefix),
                    crossCategoryString: k.buildCrossCategoryString(
                      this.context.crossCategoryString,
                      a.scopes,
                      this.context,
                    ),
                  })
                }
                b.prototype.type = function () {
                  return ['TRENDING_SEARCHES']
                }
                b.prototype.click = function (b) {
                  k.logOneTimeEvent(k.SearchAcceptanceMetric)
                  k.emitCounter(k.SearchAcceptanceMetric)
                  a.prototype.click.call(this, b)
                  q.location.assign(k.buildSearchLinkUrl(b, this.api.getContext()))
                  return !0
                }
                return b
              })(k.InstrumentedSuggestion)
              a.default = d
            },
            function (d, a, b) {
              var h =
                (this && this.__extends) ||
                (function () {
                  var a = function (b, d) {
                    a =
                      Object.setPrototypeOf ||
                      ({ __proto__: [] } instanceof Array &&
                        function (a, b) {
                          a.__proto__ = b
                        }) ||
                      function (a, b) {
                        for (var c in b) Object.prototype.hasOwnProperty.call(b, c) && (a[c] = b[c])
                      }
                    return a(b, d)
                  }
                  return function (b, d) {
                    function c() {
                      this.constructor = b
                    }
                    a(b, d)
                    b.prototype =
                      null === d ? Object.create(d) : ((c.prototype = d.prototype), new c())
                  }
                })()
              Object.defineProperty(a, '__esModule', { value: !0 })
              var g = b(0),
                k = b(1).ImageSuggestion
              d = (function (a) {
                function b(b) {
                  var c = a.call(this) || this
                  c.onRendered = function (a) {
                    a.style.width = '100%'
                  }
                  c.kataRuntime = b
                  return c
                }
                h(b, a)
                b.prototype.accept = function (a) {
                  return g.normalizeInputObject(a)
                }
                b.prototype.generateHtml = function (a) {
                  return k.default(this.kataRuntime, { suggestion: a })
                }
                b.prototype.type = function () {
                  return ['image-suggestion']
                }
                return b
              })(g.InstrumentedSuggestion)
              a.default = d
            },
            function (d, a, b) {
              var h =
                (this && this.__extends) ||
                (function () {
                  var a = function (b, c) {
                    a =
                      Object.setPrototypeOf ||
                      ({ __proto__: [] } instanceof Array &&
                        function (a, b) {
                          a.__proto__ = b
                        }) ||
                      function (a, b) {
                        for (var c in b) Object.prototype.hasOwnProperty.call(b, c) && (a[c] = b[c])
                      }
                    return a(b, c)
                  }
                  return function (b, c) {
                    function e() {
                      this.constructor = b
                    }
                    a(b, c)
                    b.prototype =
                      null === c ? Object.create(c) : ((e.prototype = c.prototype), new e())
                  }
                })()
              Object.defineProperty(a, '__esModule', { value: !0 })
              var g = b(0),
                k = b(6),
                m = b(1).MultiAsins
              d = (function (a) {
                function b(b, e) {
                  var c = a.call(this) || this
                  c.attachEventHandlers = function (a) {
                    c.navigationArea = c.$(a).find(c.classes.widgetSuggestionContainer)
                  }
                  c.select = function (a, b) {
                    g.keyboardVerticalNavHandler(
                      b.key,
                      c.navigationArea,
                      c.classes.asinSuggestion,
                      c.classes.asinSuggestionContainer,
                    )
                  }
                  c.isSelected = function () {
                    var a
                    return (
                      0 <
                      (null === (a = c.navigationArea) || void 0 === a
                        ? void 0
                        : a.find('.' + g.highlightSuggestion).length)
                    )
                  }
                  c.deSelect = function () {
                    var a
                    null === (a = c.navigationArea) || void 0 === a
                      ? void 0
                      : a.find(c.classes.asinSuggestion).each(function (a, b) {
                          if (
                            null === b || void 0 === b
                              ? 0
                              : b.classList.contains(g.highlightSuggestion)
                          )
                            null === b || void 0 === b
                              ? void 0
                              : b.classList.remove(g.highlightSuggestion),
                              null === b || void 0 === b
                                ? void 0
                                : b.classList.add(g.highlightSuggestionInactive)
                          if (
                            null === b || void 0 === b
                              ? 0
                              : b.classList.contains(g.highlightMultiItemsWidgetSuggestion)
                          )
                            null === b || void 0 === b
                              ? void 0
                              : b.classList.remove(g.highlightMultiItemsWidgetSuggestion)
                        })
                  }
                  c.api = e
                  c.$ = e.getJQuery()
                  c.kataRuntime = b
                  c.classes = {
                    widgetSuggestionContainer: '.s-bia-suggestion',
                    asinSuggestion: '.s-asin-suggestion',
                    asinSuggestionContainer: '.s-asin-sug-container',
                  }
                  return c
                }
                h(b, a)
                b.prototype.accept = function (a) {
                  a.metadata = k.setDefaultMetadata(a.metadata)
                  return g.normalizeInputObject(a)
                }
                b.prototype.generateHtml = function (a) {
                  return m.default(this.kataRuntime, { suggestion: a })
                }
                b.prototype.click = function (a) {
                  var b, c
                  a =
                    null ===
                      (c =
                        null === (b = this.navigationArea) || void 0 === b
                          ? void 0
                          : b.find('.' + g.highlightSuggestion)) || void 0 === c
                      ? void 0
                      : c.find('a')
                  return 0 < (null === a || void 0 === a ? void 0 : a.length)
                    ? (a[0].click(), !0)
                    : !1
                }
                b.prototype.type = function () {
                  return ['multiAsins']
                }
                return b
              })(g.InstrumentedSuggestion)
              a.default = d
            },
            function (d, a, b) {
              var h =
                  (this && this.__extends) ||
                  (function () {
                    var a = function (b, e) {
                      a =
                        Object.setPrototypeOf ||
                        ({ __proto__: [] } instanceof Array &&
                          function (a, b) {
                            a.__proto__ = b
                          }) ||
                        function (a, b) {
                          for (var c in b)
                            Object.prototype.hasOwnProperty.call(b, c) && (a[c] = b[c])
                        }
                      return a(b, e)
                    }
                    return function (b, e) {
                      function c() {
                        this.constructor = b
                      }
                      a(b, e)
                      b.prototype =
                        null === e ? Object.create(e) : ((c.prototype = e.prototype), new c())
                    }
                  })(),
                g =
                  (this && this.__assign) ||
                  function () {
                    g =
                      Object.assign ||
                      function (a) {
                        for (var b, e = 1, d = arguments.length; e < d; e++) {
                          b = arguments[e]
                          for (var f in b)
                            Object.prototype.hasOwnProperty.call(b, f) && (a[f] = b[f])
                        }
                        return a
                      }
                    return g.apply(this, arguments)
                  }
              d =
                (this && this.__importDefault) ||
                function (a) {
                  return a && a.__esModule ? a : { default: a }
                }
              Object.defineProperty(a, '__esModule', { value: !0 })
              var k = b(0),
                m = d(b(40)),
                n = b(1).NileSearchSuggestionsWidget
              b = (function (a) {
                function b(b, c, d) {
                  var e,
                    f = a.call(this) || this
                  f.generateHtml = function (a) {
                    var b = /^(?:nas)(\d+)/,
                      c = !1
                    a.widgetId && (b = a.widgetId.match(b)) && '0' === b[1] && (c = !0)
                    return n.default(f.kataRuntime, {
                      suggestion: a,
                      enabledFeatures: g(g({}, f.context.enabledFeatures), {
                        darkPills: 'nile-keyword-suggestions-v2' === a.template,
                      }),
                      isFirstNileSuggestion: c,
                    })
                  }
                  f.attachEventHandlers = function (a, b) {
                    a.addEventListener(
                      'click',
                      k.guardError({}, function (a) {
                        a.target instanceof Element && a.target.hasAttribute('autofill')
                          ? f.api.autofillSuggestion(b.value)
                          : f.click(b)
                      }),
                    )
                  }
                  f.api = c
                  f.context = d
                  f.kataRuntime = b
                  f.askRufus =
                    null !== (e = c.getContext().askRufus) && void 0 !== e ? e : 'Ask Rufus'
                  return f
                }
                h(b, a)
                b.prototype.accept = function (a, b) {
                  a = g(g({}, a), { crid: b.responseId, metadata: { title: this.askRufus } })
                  return k.normalizeInputObject(a)
                }
                b.prototype.click = function (b) {
                  k.logOneTimeEvent(k.SearchAcceptanceMetric)
                  k.emitCounter(k.SearchAcceptanceMetric)
                  a.prototype.click.call(this, b)
                  q.location.assign(m.default(b, this.api.getContext()))
                  return !0
                }
                b.prototype.type = function () {
                  return ['nile-keyword-suggestions']
                }
                return b
              })(k.InstrumentedSuggestion)
              a.default = b
            },
            function (d, a, b) {
              var h =
                  (this && this.__extends) ||
                  (function () {
                    var a = function (b, e) {
                      a =
                        Object.setPrototypeOf ||
                        ({ __proto__: [] } instanceof Array &&
                          function (a, b) {
                            a.__proto__ = b
                          }) ||
                        function (a, b) {
                          for (var c in b)
                            Object.prototype.hasOwnProperty.call(b, c) && (a[c] = b[c])
                        }
                      return a(b, e)
                    }
                    return function (b, e) {
                      function c() {
                        this.constructor = b
                      }
                      a(b, e)
                      b.prototype =
                        null === e ? Object.create(e) : ((c.prototype = e.prototype), new c())
                    }
                  })(),
                g =
                  (this && this.__assign) ||
                  function () {
                    g =
                      Object.assign ||
                      function (a) {
                        for (var b, e = 1, d = arguments.length; e < d; e++) {
                          b = arguments[e]
                          for (var f in b)
                            Object.prototype.hasOwnProperty.call(b, f) && (a[f] = b[f])
                        }
                        return a
                      }
                    return g.apply(this, arguments)
                  }
              Object.defineProperty(a, '__esModule', { value: !0 })
              var k = b(0),
                m = b(3),
                n = b(1).EntityEgressDropDown
              d = (function (a) {
                function b(b, c, d, f) {
                  void 0 === f && (f = k.EntityWidgetPane.Default)
                  var e = a.call(this) || this
                  e.select = function (a, b, c) {}
                  e.deSelect = function (a) {}
                  e.attachEventHandlers = function (a, b) {
                    a.addEventListener(
                      'click',
                      k.guardError({}, function (a) {
                        ;(a = a.target) &&
                          !a.closest('#' + m.DROPDOWN_BUTTON_CONTAINER_ID_NAME) &&
                          (q.location.assign(
                            m.getEntityLinkURL(b, e.api.getContext(), k.EntityWidgetPane.Default),
                          ),
                          e.click(b))
                      }),
                    )
                  }
                  e.api = c
                  e.context = d
                  e.kataRuntime = b
                  e.pane = f
                  return e
                }
                h(b, a)
                b.prototype.accept = function (a, b) {
                  b = g(g({}, a), { responseMetadata: b })
                  b.metadata.csaTag = m.generateCSATag(a)
                  return b
                }
                b.prototype.type = function () {
                  return [k.EntityDefaultPaneTemplate.ENTITY_EGRESS_DROPDOWN]
                }
                b.prototype.click = function (b) {
                  k.logOneTimeEvent(k.SearchAcceptanceMetric)
                  k.emitCounter(k.SearchAcceptanceMetric)
                  a.prototype.click.call(this, b)
                  return !0
                }
                b.prototype.generateHtml = function (a) {
                  a = k.normalizeInputObject(a)
                  var b = JSON.parse(a.metadata.image),
                    c = null === b || void 0 === b ? void 0 : b.url
                  b = (b.shape ? b.shape : k.EntityImageShape.RECTANGLE).toLowerCase()
                  var e = m.isEntityDisclosurePaneDefaultShow(m.getEntityTemplateConfig(a))
                  return n.default(this.kataRuntime, {
                    title: a.metadata.title,
                    subtitle: a.metadata.subtitle,
                    imageUrl: c,
                    imageShape: b,
                    addDropdownButton: !0,
                    csaTag: a.metadata.csaTag,
                    defaultShow: e,
                    buttonText: a.metadata.buttonText || null,
                  })
                }
                return b
              })(k.InstrumentedSuggestion)
              a.default = d
            },
            function (d, a, b) {
              var h =
                (this && this.__extends) ||
                (function () {
                  var a = function (b, d) {
                    a =
                      Object.setPrototypeOf ||
                      ({ __proto__: [] } instanceof Array &&
                        function (a, b) {
                          a.__proto__ = b
                        }) ||
                      function (a, b) {
                        for (var c in b) Object.prototype.hasOwnProperty.call(b, c) && (a[c] = b[c])
                      }
                    return a(b, d)
                  }
                  return function (b, d) {
                    function c() {
                      this.constructor = b
                    }
                    a(b, d)
                    b.prototype =
                      null === d ? Object.create(d) : ((c.prototype = d.prototype), new c())
                  }
                })()
              d =
                (this && this.__importDefault) ||
                function (a) {
                  return a && a.__esModule ? a : { default: a }
                }
              Object.defineProperty(a, '__esModule', { value: !0 })
              var g = b(0)
              d = d(b(81))
              var k = b(1).SuggestionWithTitle
              b = (function (a) {
                function b(b, c, e) {
                  var d = a.call(this, b, c, e) || this
                  d.attachEventHandlers = function (a, b) {
                    a.addEventListener(
                      'click',
                      g.guardError({}, function (a) {
                        a.target instanceof Element && a.target.hasAttribute('autofill')
                          ? d.api.autofillSuggestion(b.value)
                          : a.target instanceof Element &&
                              a.target.classList.contains('non-clickable-suggestion-header')
                            ? a.preventDefault()
                            : d.click(b)
                      }),
                    )
                  }
                  d.generateHtml = function (a) {
                    var b,
                      c,
                      e = null === (b = a.metadata) || void 0 === b ? void 0 : b.header
                    b =
                      (null === (c = a.metadata) || void 0 === c ? void 0 : c.headerCssPrefix) ||
                      'suggestion-wt'
                    return k.default(d.kataRuntime, {
                      suggestion: a,
                      enabledFeatures: d.context.enabledFeatures,
                      header: e,
                      headerCssPrefix: b,
                    })
                  }
                  d.kataRuntime = b
                  d.api = c
                  d.context = e
                  return d
                }
                h(b, a)
                b.prototype.type = function () {
                  return ['SUGGESTION_WITH_TITLE']
                }
                return b
              })(d.default)
              a.default = b
            },
            function (d, a, b) {
              var h =
                (this && this.__extends) ||
                (function () {
                  var a = function (b, c) {
                    a =
                      Object.setPrototypeOf ||
                      ({ __proto__: [] } instanceof Array &&
                        function (a, b) {
                          a.__proto__ = b
                        }) ||
                      function (a, b) {
                        for (var c in b) Object.prototype.hasOwnProperty.call(b, c) && (a[c] = b[c])
                      }
                    return a(b, c)
                  }
                  return function (b, c) {
                    function e() {
                      this.constructor = b
                    }
                    a(b, c)
                    b.prototype =
                      null === c ? Object.create(c) : ((e.prototype = c.prototype), new e())
                  }
                })()
              Object.defineProperty(a, '__esModule', { value: !0 })
              var g = b(0),
                k = b(6),
                m = b(1).MultiAsinsMobile
              d = (function (a) {
                function b(b, e) {
                  var c = a.call(this) || this
                  c.attachEventHandlers = function (a) {
                    c.navigationArea = c.$(a).find(c.classes.widgetSuggestionContainer)
                  }
                  c.select = function (a, b) {
                    g.keyboardVerticalNavHandler(
                      b.key,
                      c.navigationArea,
                      c.classes.asinSuggestion,
                      c.classes.asinSuggestionContainer,
                    )
                  }
                  c.isSelected = function () {
                    var a
                    return (
                      0 <
                      (null === (a = c.navigationArea) || void 0 === a
                        ? void 0
                        : a.find('.' + g.highlightSuggestion).length)
                    )
                  }
                  c.deSelect = function () {
                    var a
                    null === (a = c.navigationArea) || void 0 === a
                      ? void 0
                      : a.find(c.classes.asinSuggestion).each(function (a, b) {
                          if (
                            null === b || void 0 === b
                              ? 0
                              : b.classList.contains(g.highlightSuggestion)
                          )
                            null === b || void 0 === b
                              ? void 0
                              : b.classList.remove(g.highlightSuggestion),
                              null === b || void 0 === b
                                ? void 0
                                : b.classList.add(g.highlightSuggestionInactive)
                          if (
                            null === b || void 0 === b
                              ? 0
                              : b.classList.contains(g.highlightMultiItemsWidgetSuggestion)
                          )
                            null === b || void 0 === b
                              ? void 0
                              : b.classList.remove(g.highlightMultiItemsWidgetSuggestion)
                        })
                  }
                  c.api = e
                  c.$ = e.getJQuery()
                  c.kataRuntime = b
                  c.classes = {
                    widgetSuggestionContainer: '.p13n-bia-mam-suggestion',
                    asinSuggestion: '.p13n-bia-mam-asin-suggestion',
                    asinSuggestionContainer: '.p13n-bia-mam-asin-sug-container',
                  }
                  return c
                }
                h(b, a)
                b.prototype.accept = function (a) {
                  a.metadata = k.setDefaultMetadata(a.metadata)
                  return g.normalizeInputObject(a)
                }
                b.prototype.generateHtml = function (a) {
                  return m.default(this.kataRuntime, { suggestion: a })
                }
                b.prototype.click = function (a) {
                  var b, c
                  a =
                    null ===
                      (c =
                        null === (b = this.navigationArea) || void 0 === b
                          ? void 0
                          : b.find('.' + g.highlightSuggestion)) || void 0 === c
                      ? void 0
                      : c.find('a')
                  return 0 < (null === a || void 0 === a ? void 0 : a.length)
                    ? (a[0].click(), !0)
                    : !1
                }
                b.prototype.type = function () {
                  return ['multiAsinsMobile']
                }
                return b
              })(g.InstrumentedSuggestion)
              a.default = d
            },
            function (d, a, b) {
              var h =
                  (this && this.__extends) ||
                  (function () {
                    var a = function (b, e) {
                      a =
                        Object.setPrototypeOf ||
                        ({ __proto__: [] } instanceof Array &&
                          function (a, b) {
                            a.__proto__ = b
                          }) ||
                        function (a, b) {
                          for (var c in b)
                            Object.prototype.hasOwnProperty.call(b, c) && (a[c] = b[c])
                        }
                      return a(b, e)
                    }
                    return function (b, e) {
                      function c() {
                        this.constructor = b
                      }
                      a(b, e)
                      b.prototype =
                        null === e ? Object.create(e) : ((c.prototype = e.prototype), new c())
                    }
                  })(),
                g =
                  (this && this.__assign) ||
                  function () {
                    g =
                      Object.assign ||
                      function (a) {
                        for (var b, e = 1, d = arguments.length; e < d; e++) {
                          b = arguments[e]
                          for (var f in b)
                            Object.prototype.hasOwnProperty.call(b, f) && (a[f] = b[f])
                        }
                        return a
                      }
                    return g.apply(this, arguments)
                  }
              d =
                (this && this.__importDefault) ||
                function (a) {
                  return a && a.__esModule ? a : { default: a }
                }
              Object.defineProperty(a, '__esModule', { value: !0 })
              var k = b(0),
                m = d(b(70)),
                n = b(1).NileSearchSuggestionsWidgetDesktop
              b = (function (a) {
                function b(b, c, d) {
                  var e = a.call(this) || this
                  e.generateHtml = function (a) {
                    return n.default(e.kataRuntime, { suggestion: a })
                  }
                  e.attachEventHandlers = function (a, b) {
                    a.addEventListener(
                      'click',
                      k.guardError({}, function (a) {
                        e.click(b)
                      }),
                    )
                  }
                  e.api = c
                  e.context = d
                  e.kataRuntime = b
                  return e
                }
                h(b, a)
                b.prototype.accept = function (a, b) {
                  a = g(g({}, a), { crid: b.responseId })
                  return k.normalizeInputObject(a)
                }
                b.prototype.click = function (b) {
                  var c = this,
                    e
                  k.logOneTimeEvent(k.SearchAcceptanceMetric)
                  k.emitCounter(k.SearchAcceptanceMetric)
                  a.prototype.click.call(this, b)
                  null === (e = null === q || void 0 === q ? void 0 : q.P) || void 0 === e
                    ? void 0
                    : e
                        .now('rufus-handle-stream')
                        .execute('Rufus Dialog Box Handler', function (a) {
                          a && a(m.default(b, c.context))
                        })
                  this.api.hideDropdown()
                  return !0
                }
                b.prototype.deSelect = function (a) {
                  var b
                  a.classList.remove(k.highlightNileSearchSuggestionWidget)
                  ;(null === (b = this.api.getContext().enabledFeatures) || void 0 === b
                    ? 0
                    : b.accessibilityColorContrast) &&
                    a.classList.remove(k.highlightSuggestionByKeyboardFocus)
                }
                b.prototype.select = function (a, b, c) {
                  var e
                  a.classList.add(k.highlightNileSearchSuggestionWidget)
                  ;(null === (e = this.api.getContext().enabledFeatures) || void 0 === e
                    ? 0
                    : e.accessibilityColorContrast) &&
                    b instanceof KeyboardEvent &&
                    a.classList.add(k.highlightSuggestionByKeyboardFocus)
                  this.revertSearchInputToPrefix()
                  b.preventDefault()
                }
                b.prototype.isSelected = function (a) {
                  return a.classList.contains(k.highlightNileSearchSuggestionWidget)
                }
                b.prototype.revertSearchInputToPrefix = function () {
                  var a,
                    b = this.context.getContextField('prefix'),
                    c =
                      null === (a = this.api.getAutocompleteView()) || void 0 === a
                        ? void 0
                        : a.input
                  c && c.setKeyword(b)
                }
                b.prototype.type = function () {
                  return ['nile-keyword-suggestions-desktop']
                }
                return b
              })(k.InstrumentedSuggestion)
              a.default = b
            },
            function (d, a, b) {
              var h =
                  (this && this.__extends) ||
                  (function () {
                    var a = function (b, c) {
                      a =
                        Object.setPrototypeOf ||
                        ({ __proto__: [] } instanceof Array &&
                          function (a, b) {
                            a.__proto__ = b
                          }) ||
                        function (a, b) {
                          for (var c in b)
                            Object.prototype.hasOwnProperty.call(b, c) && (a[c] = b[c])
                        }
                      return a(b, c)
                    }
                    return function (b, c) {
                      function e() {
                        this.constructor = b
                      }
                      a(b, c)
                      b.prototype =
                        null === c ? Object.create(c) : ((e.prototype = c.prototype), new e())
                    }
                  })(),
                g =
                  (this && this.__assign) ||
                  function () {
                    g =
                      Object.assign ||
                      function (a) {
                        for (var b, c = 1, e = arguments.length; c < e; c++) {
                          b = arguments[c]
                          for (var d in b)
                            Object.prototype.hasOwnProperty.call(b, d) && (a[d] = b[d])
                        }
                        return a
                      }
                    return g.apply(this, arguments)
                  }
              d =
                (this && this.__importDefault) ||
                function (a) {
                  return a && a.__esModule ? a : { default: a }
                }
              Object.defineProperty(a, '__esModule', { value: !0 })
              var k = b(0),
                m = b(3),
                n = b(80),
                f = d(b(4)),
                c = b(1).Separator
              b = (function (a) {
                function b(b, c, e, d) {
                  void 0 === d && (d = k.EntityWidgetPane.Default)
                  var f = a.call(this) || this
                  f.select = function (b, c, e) {
                    var d
                    a.prototype.select.call(f, b, c, e)
                    m.canTriggerEntityDisclosurePaneByKeyboardSelect(e) &&
                      ((b = m.getEntityTemplateConfig(e)),
                      (null === b || void 0 === b ? void 0 : b.entityLayout) ===
                      k.EntityLayout.LEFT_AND_RIGHT_PANE
                        ? f.api
                            .getAutocompleteView()
                            .twoPanelists.triggerEntityProgressiveDisclosureTwoPane(e, f.api)
                        : (null === b || void 0 === b ? void 0 : b.entityLayout) ===
                            k.EntityLayout.LEFT_PANE_ONLY &&
                          ((
                            null === (d = f.context.enabledFeatures) || void 0 === d
                              ? 0
                              : d.entityPD
                          )
                            ? m.setEntityWidgetLeftDisclosurePaneVisibility(
                                f.api.getAutocompleteView().list.autocompleteListElements,
                                !0,
                              )
                            : f.api
                                .getAutocompleteView()
                                .list.setEntityWidgetLeftDisclosurePaneVisibility(!0)))
                  }
                  f.deSelect = function (b) {
                    var c, e
                    a.prototype.deSelect.call(f, b)
                    ;(null === (c = f.context.enabledFeatures) || void 0 === c ? 0 : c.entityPD)
                      ? ((b = m.getEntityWidgetElementInAutocompleteList(
                          f.api.getAutocompleteView().list.autocompleteListElements,
                        )),
                        (b =
                          null === (e = m.getEntityTemplateConfig(b.data)) || void 0 === e
                            ? void 0
                            : e.entityLayout),
                        b === k.EntityLayout.LEFT_PANE_ONLY
                          ? m.setEntityWidgetLeftDisclosurePaneVisibility(
                              f.api.getAutocompleteView().list.autocompleteListElements,
                              !1,
                            )
                          : b === k.EntityLayout.LEFT_AND_RIGHT_PANE &&
                            f.api
                              .getAutocompleteView()
                              .twoPanelists.hideEntityProgressiveDisclosureTwoPane())
                      : 'desktop' === k.getSiteVariant() &&
                        (f.api
                          .getAutocompleteView()
                          .twoPanelists.hideEntityProgressiveDisclosureTwoPane(),
                        f.api
                          .getAutocompleteView()
                          .list.setEntityWidgetLeftDisclosurePaneVisibility(!1))
                  }
                  f.addHighlightFocus = function (a) {
                    a.classList.add(k.highlightSuggestion)
                  }
                  f.removeHighlightFocus = function (a) {
                    a.classList.remove(k.highlightSuggestion)
                  }
                  f.attachEventHandlers = function (a, b) {
                    var c
                    switch (
                      null === (c = m.getEntityTemplateConfig(b)) || void 0 === c
                        ? void 0
                        : c.defaultPaneTemplate
                    ) {
                      case k.EntityDefaultPaneTemplate.ENTITY_EGRESS_DROPDOWN:
                        m.canTriggerEntityDisclosurePaneByDropdownButton(b) &&
                          ((c = a.querySelector('#' + m.DROPDOWN_BUTTON_CONTAINER_ID_NAME)),
                          null === c || void 0 === c
                            ? void 0
                            : c.addEventListener(
                                'click',
                                k.guardError({}, function (b) {
                                  f.toggleDropdownDisclosurePaneDisplay(a)
                                  f.toggleDropdownButtonStyle(a, !0)
                                }),
                              ))
                        break
                      default:
                        ;(c = a
                          .getElementsByClassName(m.ENTITY_DEFAULT_PANE_CONTAINER_CLASS_NAME)
                          .item(0)),
                          m.canTriggerEntityDisclosurePaneByDropdownButton(b)
                            ? null === c || void 0 === c
                              ? void 0
                              : c.addEventListener(
                                  'click',
                                  k.guardError({}, function (b) {
                                    f.toggleDropdownDisclosurePaneDisplay(a)
                                    f.toggleDropdownButtonStyle(a)
                                  }),
                                )
                            : null === c || void 0 === c
                              ? void 0
                              : c.addEventListener(
                                  'click',
                                  k.guardError({}, function (a) {
                                    f.click(b)
                                  }),
                                )
                    }
                  }
                  f.toggleDropdownDisclosurePaneDisplay = function (a) {
                    var b, c
                    ;(a =
                      null ===
                        (b = a.getElementsByClassName(
                          m.ENTITY_DISCLOSURE_PANE_CONTAINER_CLASS_NAME,
                        )) || void 0 === b
                        ? void 0
                        : b.item(0)) &&
                      ((
                        null === (c = a.getAttribute('style')) || void 0 === c
                          ? 0
                          : c.includes(m.ENTITY_WIDGET_CSS_NO_DISPLAY_STYLE)
                      )
                        ? a.setAttribute('style', m.ENTITY_WIDGET_CSS_DISPLAY_STYLE)
                        : a.setAttribute('style', m.ENTITY_WIDGET_CSS_NO_DISPLAY_STYLE))
                  }
                  f.showSeparator = function () {
                    var a = f.api.getContext().getContextField('site-variant')
                    return k.isMShop(a) || k.isMobileWeb(a)
                  }
                  f.api = c
                  f.context = e
                  f.kataRuntime = b
                  f.pane = d
                  return f
                }
                h(b, a)
                b.prototype.accept = function (a, b) {
                  return g(g({}, a), { responseMetadata: b })
                }
                b.prototype.type = function () {
                  return [m.ENTITY_TEMPLATE]
                }
                b.prototype.getEntityLinkURL = function (a) {
                  var b = k.normalizeInputObject(a),
                    c = JSON.parse(b.metadata.link)
                  a = k.constructRefTag(
                    a.refTag,
                    a.strategyId,
                    k.EntityWidgetPane.Default,
                    c.tag,
                    a.widgetId,
                    a.metadata.removeWidgetIdFromRefTag,
                  )
                  return f.default(
                    b,
                    c.link,
                    this.api.getContext(),
                    a,
                    m.isBrowseNodePageLink(c.link),
                  )
                }
                b.prototype.click = function (b) {
                  k.logOneTimeEvent(k.SearchAcceptanceMetric)
                  k.emitCounter(k.SearchAcceptanceMetric)
                  a.prototype.click.call(this, b)
                  q.location.assign(this.getEntityLinkURL(b))
                  return !0
                }
                b.prototype.generateHtml = function (a) {
                  var b = m.getEntityTemplateConfig(a),
                    e = k.renderingFunctionsForEntityDefaultPane(this.api)[b.defaultPaneTemplate],
                    d = []
                  if (e && ((e = e.render(a, a.responseMetadata)), e.firstChild)) {
                    e.classList.add(m.ENTITY_DEFAULT_PANE_CONTAINER_CLASS_NAME)
                    d.push(e)
                    if (b.entityLayout === k.EntityLayout.LEFT_PANE_ONLY) {
                      var f = k.renderingFunctionsForEntityDisclosurePane(this.api)[
                        b.disclosurePaneTemplate
                      ]
                      f &&
                        ((a = f.render(a, a.responseMetadata)),
                        a.firstChild &&
                          (a.classList.add(m.ENTITY_DISCLOSURE_PANE_CONTAINER_CLASS_NAME),
                          this.setDisclosureInitialDisplayStatus(a, e, b),
                          d.push(a)))
                    }
                    b = c.default(this.kataRuntime, {})[0]
                    this.showSeparator() && b && d.push(b)
                  }
                  return d
                }
                b.prototype.setDisclosureInitialDisplayStatus = function (a, b, c) {
                  m.isEntityDisclosurePaneDefaultShow(c)
                    ? (a.setAttribute('style', m.ENTITY_WIDGET_CSS_DISPLAY_STYLE),
                      (a = b.querySelector('#' + m.DROPDOWN_BUTTON_CONTAINER_ID_NAME)),
                      b.getElementsByClassName(m.DROPDOWN_BUTTON_CLASS_NAME) &&
                        !a &&
                        this.toggleDropdownButtonStyle(b))
                    : a.setAttribute('style', m.ENTITY_WIDGET_CSS_NO_DISPLAY_STYLE)
                }
                b.prototype.toggleDropdownButtonStyle = function (a, b) {
                  var c
                  if (b) {
                    var e = a.querySelector('#' + m.DROPDOWN_BUTTON_CHEVRON_ICON_ID_NAME)
                    if (e) {
                      var d
                      Object.entries(m.TOGGLE_CHEVRON_ICON_MAP).forEach(function (a) {
                        a = a[0]
                        e.classList.contains(a) && (d = a)
                      })
                      d && e.classList.replace(d, m.TOGGLE_CHEVRON_ICON_MAP[d])
                    }
                  } else
                    (a =
                      null === (c = a.getElementsByClassName(m.DROPDOWN_BUTTON_CLASS_NAME)) ||
                      void 0 === c
                        ? void 0
                        : c.item(0)) &&
                      (a.classList.contains(n.dropdownButtonUpwardClassName)
                        ? a.classList.replace(
                            n.dropdownButtonUpwardClassName,
                            n.dropdownButtonDownwardClassName,
                          )
                        : a.classList.contains(n.dropdownButtonDownwardClassName) &&
                          a.classList.replace(
                            n.dropdownButtonDownwardClassName,
                            n.dropdownButtonUpwardClassName,
                          ))
                }
                return b
              })(k.InstrumentedSuggestion)
              a.default = b
            },
            function (d, a, b) {
              var h =
                (this && this.__extends) ||
                (function () {
                  var a = function (b, c) {
                    a =
                      Object.setPrototypeOf ||
                      ({ __proto__: [] } instanceof Array &&
                        function (a, b) {
                          a.__proto__ = b
                        }) ||
                      function (a, b) {
                        for (var c in b) Object.prototype.hasOwnProperty.call(b, c) && (a[c] = b[c])
                      }
                    return a(b, c)
                  }
                  return function (b, c) {
                    function e() {
                      this.constructor = b
                    }
                    a(b, c)
                    b.prototype =
                      null === c ? Object.create(c) : ((e.prototype = c.prototype), new e())
                  }
                })()
              d =
                (this && this.__importDefault) ||
                function (a) {
                  return a && a.__esModule ? a : { default: a }
                }
              Object.defineProperty(a, '__esModule', { value: !0 })
              a.tileCardContainerClassName = void 0
              var g = b(0),
                k = d(b(14)),
                m = d(b(4)),
                n = b(12),
                f = b(3),
                c = b(1).ResizableTileRows
              a.tileCardContainerClassName = 's-entity-pd-resizable-tile-rows-container'
              b = (function (b) {
                function e() {
                  var c = (null !== b && b.apply(this, arguments)) || this
                  c.attachEventHandlers = function (b, e) {
                    var d = b.getElementsByClassName(a.tileCardContainerClassName)
                    b = function (a) {
                      d.item(a).addEventListener(
                        'click',
                        g.guardError({}, function (a) {
                          c.click(e)
                        }),
                      )
                      d.item(a).addEventListener(
                        'mouseover',
                        g.guardError({}, function (b) {
                          for (var f = 0; f < d.length; f += 1) c.deSelect(d.item(f))
                          c.select(d.item(a), b, e)
                        }),
                      )
                      d.item(a).addEventListener(
                        'mouseout',
                        g.guardError({}, function (a) {
                          for (a = 0; a < d.length; a += 1) c.deSelect(d.item(a))
                        }),
                      )
                    }
                    for (var f = 0; f < d.length; f += 1) b(f)
                  }
                  return c
                }
                h(e, b)
                e.prototype.generateHtml = function (a) {
                  a = g.normalizeInputObject(a)
                  g.updateWidgetItemRefTag(a, this.getLinkFields(), this.pane)
                  a.metadata.toDisplayCardNum = a.widgetItems.length
                  for (var b = 0, e = a.widgetItems; b < e.length; b++) {
                    var d = e[b],
                      l = d.metadata.tileCardLink
                    d.metadata.formattedCardLink = m.default(
                      a,
                      l.link,
                      this.api.getContext(),
                      l.constructedRefTag,
                      f.isBrowseNodePageLink(l.link),
                    )
                  }
                  return c.default(this.kataRuntime, {
                    suggestion: a,
                    elementClassName: 'resizable-tile-rows',
                  })
                }
                e.prototype.transformInputObject = function (a, b) {
                  return a
                }
                e.prototype.deSelect = function (a) {
                  a.classList.remove(g.highlightEntityTileCardSuggestion)
                }
                e.prototype.select = function (a, b, c) {
                  a.classList.add(g.highlightEntityTileCardSuggestion)
                  b.preventDefault()
                }
                e.prototype.isSelected = function (a) {
                  return a.classList.contains(g.highlightEntityTileCardSuggestion)
                }
                e.prototype.getLinkFields = function () {
                  return ['tileCardLink']
                }
                e.prototype.type = function () {
                  return [n.EntityDisclosurePaneTemplate.RESIZABLE_TILE_ROWS]
                }
                return e
              })(k.default)
              a.default = b
            },
            function (d, a, b) {
              var h =
                (this && this.__extends) ||
                (function () {
                  var a = function (b, c) {
                    a =
                      Object.setPrototypeOf ||
                      ({ __proto__: [] } instanceof Array &&
                        function (a, b) {
                          a.__proto__ = b
                        }) ||
                      function (a, b) {
                        for (var c in b) Object.prototype.hasOwnProperty.call(b, c) && (a[c] = b[c])
                      }
                    return a(b, c)
                  }
                  return function (b, c) {
                    function e() {
                      this.constructor = b
                    }
                    a(b, c)
                    b.prototype =
                      null === c ? Object.create(c) : ((e.prototype = c.prototype), new e())
                  }
                })()
              d =
                (this && this.__importDefault) ||
                function (a) {
                  return a && a.__esModule ? a : { default: a }
                }
              Object.defineProperty(a, '__esModule', { value: !0 })
              a.tileCardContainerClassName = void 0
              var g = b(0),
                k = d(b(14)),
                m = d(b(4)),
                n = b(3),
                f = b(1).TileRows
              a.tileCardContainerClassName = 's-entity-pd-tile-rows-element-container'
              b = (function (a) {
                function b() {
                  var b = (null !== a && a.apply(this, arguments)) || this
                  b.attachEventHandlers = function (a, c) {
                    a = a.getElementsByClassName('s-entity-pd-tile-rows-element-container')
                    for (var e = 0; e < a.length; e += 1)
                      a.item(e).addEventListener(
                        'click',
                        g.guardError({}, function (a) {
                          b.click(c)
                        }),
                      )
                  }
                  return b
                }
                h(b, a)
                b.prototype.transformInputObject = function (a, b) {
                  return a
                }
                b.prototype.generateHtml = function (a) {
                  a = g.normalizeInputObject(a)
                  g.updateWidgetItemRefTag(a, this.getLinkFields(), this.pane)
                  for (var b = 0, c = a.widgetItems; b < c.length; b++) {
                    var e = c[b],
                      d = e.metadata.tileCardLink
                    e.metadata.formattedCardLink = m.default(
                      a,
                      d.link,
                      this.api.getContext(),
                      d.constructedRefTag,
                      n.isBrowseNodePageLink(d.link),
                    )
                  }
                  return f.default(this.kataRuntime, {
                    suggestion: a,
                    elementClassName: 'tile-rows',
                  })
                }
                b.prototype.click = function (b) {
                  g.logOneTimeEvent(g.SearchAcceptanceMetric)
                  g.emitCounter(g.SearchAcceptanceMetric)
                  a.prototype.click.call(this, b)
                  return !0
                }
                b.prototype.getLinkFields = function () {
                  return ['tileCardLink']
                }
                b.prototype.type = function () {
                  return [g.EntityDisclosurePaneTemplate.TILE_ROWS]
                }
                return b
              })(k.default)
              a.default = b
            },
            function (d, a, b) {
              var h =
                (this && this.__extends) ||
                (function () {
                  var a = function (b, e) {
                    a =
                      Object.setPrototypeOf ||
                      ({ __proto__: [] } instanceof Array &&
                        function (a, b) {
                          a.__proto__ = b
                        }) ||
                      function (a, b) {
                        for (var c in b) Object.prototype.hasOwnProperty.call(b, c) && (a[c] = b[c])
                      }
                    return a(b, e)
                  }
                  return function (b, e) {
                    function c() {
                      this.constructor = b
                    }
                    a(b, e)
                    b.prototype =
                      null === e ? Object.create(e) : ((c.prototype = e.prototype), new c())
                  }
                })()
              d =
                (this && this.__importDefault) ||
                function (a) {
                  return a && a.__esModule ? a : { default: a }
                }
              Object.defineProperty(a, '__esModule', { value: !0 })
              a.carouselButtonClassName = void 0
              var g = b(0)
              d = d(b(14))
              var k = b(4),
                m = b(12),
                n = b(1).ButtonCarousel
              a.carouselButtonClassName = 'entity-carousel-sug-item'
              b = (function (b) {
                function c() {
                  var c = (null !== b && b.apply(this, arguments)) || this
                  c.attachEventHandlers = function (b, e) {
                    b = b.getElementsByClassName(a.carouselButtonClassName)
                    for (var d = 0; d < b.length; d += 1)
                      b.item(d).addEventListener(
                        'click',
                        g.guardError({}, function (a) {
                          c.click(e)
                        }),
                      )
                  }
                  return c
                }
                h(c, b)
                c.prototype.generateHtml = function (a) {
                  var b = this
                  a = g.normalizeInputObject(a)
                  var c = this.getLinkFields()
                  g.updateWidgetItemRefTag(a, c, this.pane)
                  for (
                    var e = !1,
                      d = function (c) {
                        a.widgetItems.forEach(function (d) {
                          d.metadata[c] &&
                            2 <= d.metadata[c].length &&
                            ((e = !0),
                            (d.metadata[c] = k.updateEntityWidgetLinkUrls(
                              a,
                              b.api.getContext(),
                              d.metadata[c],
                            )))
                        })
                      },
                      f = 0;
                    f < c.length;
                    f++
                  )
                    d(c[f])
                  return e ? n.default(this.kataRuntime, { suggestion: a }) : []
                }
                c.prototype.getLinkFields = function () {
                  return ['buttonList']
                }
                c.prototype.transformInputObject = function (a, b) {
                  return a
                }
                c.prototype.type = function () {
                  return [m.EntityDisclosurePaneTemplate.BUTTON_CAROUSEL]
                }
                return c
              })(d.default)
              a.default = b
            },
            function (d, a, b) {
              var h =
                (this && this.__extends) ||
                (function () {
                  var a = function (b, e) {
                    a =
                      Object.setPrototypeOf ||
                      ({ __proto__: [] } instanceof Array &&
                        function (a, b) {
                          a.__proto__ = b
                        }) ||
                      function (a, b) {
                        for (var c in b) Object.prototype.hasOwnProperty.call(b, c) && (a[c] = b[c])
                      }
                    return a(b, e)
                  }
                  return function (b, e) {
                    function c() {
                      this.constructor = b
                    }
                    a(b, e)
                    b.prototype =
                      null === e ? Object.create(e) : ((c.prototype = e.prototype), new c())
                  }
                })()
              d =
                (this && this.__importDefault) ||
                function (a) {
                  return a && a.__esModule ? a : { default: a }
                }
              Object.defineProperty(a, '__esModule', { value: !0 })
              var g = b(0),
                k = b(4)
              d = d(b(14))
              var m = b(12),
                n = b(1).ProductPreview
              b = (function (a) {
                function b() {
                  var b = (null !== a && a.apply(this, arguments)) || this
                  b.attachEventHandlers = function (a, c) {
                    a.addEventListener(
                      'click',
                      g.guardError({}, function (a) {
                        b.click(c)
                      }),
                    )
                  }
                  return b
                }
                h(b, a)
                b.prototype.generateHtml = function (a) {
                  var b = this
                  a = g.normalizeInputObject(a)
                  var c = this.getLinkFields()
                  g.updateWidgetItemRefTag(a, c, this.pane)
                  for (
                    var e = function (c) {
                        var e = 'contributorList' === c
                        a.widgetItems.forEach(function (d) {
                          d.metadata[c] &&
                            (d.metadata[c] = k.updateEntityWidgetLinkUrls(
                              a,
                              b.api.getContext(),
                              d.metadata[c],
                              e,
                            ))
                        })
                      },
                      d = 0;
                    d < c.length;
                    d++
                  )
                    e(c[d])
                  a.metadata.formattedSuggLink = this.getEntityLinkURL(a)
                  c = JSON.parse(a.metadata.image).url
                  return n.default(this.kataRuntime, { suggestion: a, imageUrl: c })
                }
                b.prototype.getLinkFields = function () {
                  return ['contributorList', 'optionList']
                }
                b.prototype.transformInputObject = function (a, b) {
                  return a
                }
                b.prototype.deSelect = function (a) {
                  a.classList.remove(this.getProductPreviewHighlightSuggestion(a))
                }
                b.prototype.select = function (a, b, c) {
                  a.classList.add(this.getProductPreviewHighlightSuggestion(a))
                  b.preventDefault()
                }
                b.prototype.isSelected = function (a) {
                  return a.classList.contains(this.getProductPreviewHighlightSuggestion(a))
                }
                b.prototype.getProductPreviewHighlightSuggestion = function (a) {
                  return a instanceof HTMLAnchorElement
                    ? g.highlightHyperlinkSuggestion
                    : g.highlightSuggestion
                }
                b.prototype.getSelectedId = function (a) {
                  if (!a) return ''
                  var b = this.getProductPreviewHighlightSuggestion(a)
                  return (b =
                    a.classList && a.classList.contains(b)
                      ? a.querySelector('[role\x3d"gridcell"]')
                      : a.querySelector('.' + b))
                    ? b.id
                    : a.id
                      ? a.id
                      : ''
                }
                b.prototype.type = function () {
                  return [m.EntityDisclosurePaneTemplate.PRODUCT_PREVIEW]
                }
                return b
              })(d.default)
              a.default = b
            },
            function (d, a, b) {
              var h =
                (this && this.__extends) ||
                (function () {
                  var a = function (b, c) {
                    a =
                      Object.setPrototypeOf ||
                      ({ __proto__: [] } instanceof Array &&
                        function (a, b) {
                          a.__proto__ = b
                        }) ||
                      function (a, b) {
                        for (var c in b) Object.prototype.hasOwnProperty.call(b, c) && (a[c] = b[c])
                      }
                    return a(b, c)
                  }
                  return function (b, c) {
                    function e() {
                      this.constructor = b
                    }
                    a(b, c)
                    b.prototype =
                      null === c ? Object.create(c) : ((e.prototype = c.prototype), new e())
                  }
                })()
              d =
                (this && this.__importDefault) ||
                function (a) {
                  return a && a.__esModule ? a : { default: a }
                }
              Object.defineProperty(a, '__esModule', { value: !0 })
              a.tileCardContainerClassName = void 0
              var g = b(0),
                k = d(b(14)),
                m = d(b(4)),
                n = b(3),
                f = b(1).TileCarousel
              a.tileCardContainerClassName = 's-entity-pd-carousel-tile-element-container'
              b = (function (a) {
                function b() {
                  var b = (null !== a && a.apply(this, arguments)) || this
                  b.attachEventHandlers = function (a, c) {
                    var e,
                      d,
                      f = a.getElementsByClassName('s-entity-pd-carousel-tile-element-container'),
                      h = a.getElementsByClassName('s-entity-pd-carousel-tile-container')[0],
                      l = a.getElementsByClassName('s-entity-pd-carousel-tile-suggestion')[0]
                    for (a = 0; a < f.length; a += 1)
                      f.item(a).addEventListener(
                        'click',
                        g.guardError({}, function (a) {
                          b.click(c)
                        }),
                      )
                    ;(null ===
                      (d =
                        null === (e = b.api.getContext()) || void 0 === e
                          ? void 0
                          : e.enabledFeatures) || void 0 === d
                      ? 0
                      : d.entityPD) &&
                      h.addEventListener(
                        'scroll',
                        g.guardError({}, function (a) {
                          b.dynamicallyAddRightEdge(l, h)
                        }),
                      )
                  }
                  b.dynamicallyAddRightEdge = function (a, b) {
                    Math.ceil(b.scrollLeft + b.offsetWidth) >= b.scrollWidth
                      ? a.style.setProperty('margin-right', '8px')
                      : a.style.setProperty('margin-right', '0px')
                  }
                  return b
                }
                h(b, a)
                b.prototype.transformInputObject = function (a, b) {
                  return a
                }
                b.prototype.generateHtml = function (a) {
                  a = g.normalizeInputObject(a)
                  g.updateWidgetItemRefTag(a, this.getLinkFields(), this.pane)
                  for (var b = 0, c = a.widgetItems; b < c.length; b++) {
                    var e = c[b],
                      d = e.metadata.tileCardLink
                    e.metadata.formattedCardLink = m.default(
                      a,
                      d.link,
                      this.api.getContext(),
                      d.constructedRefTag,
                      n.isBrowseNodePageLink(d.link),
                    )
                  }
                  return f.default(this.kataRuntime, {
                    suggestion: a,
                    elementClassName: 'carousel-tile',
                  })
                }
                b.prototype.click = function (b) {
                  g.logOneTimeEvent(g.SearchAcceptanceMetric)
                  g.emitCounter(g.SearchAcceptanceMetric)
                  a.prototype.click.call(this, b)
                  return !0
                }
                b.prototype.getLinkFields = function () {
                  return ['tileCardLink']
                }
                b.prototype.type = function () {
                  return [g.EntityDisclosurePaneTemplate.CAROUSEL_TILE]
                }
                return b
              })(k.default)
              a.default = b
            },
            function (d, a, b) {
              Object.defineProperty(a, '__esModule', { value: !0 })
              a.highlightNileSearchSuggestionWidget =
                a.highlightHyperlinkSuggestion =
                a.highlightEntityTileCardSuggestion =
                a.highlightMultiItemsWidgetSuggestion =
                a.highlightSuggestionInactive =
                a.highlightSuggestionCardByKeyboardFocus =
                a.highlightSuggestionByKeyboardFocus =
                a.highlightSuggestion =
                  void 0
              a.highlightSuggestion = 's-selected'
              a.highlightSuggestionByKeyboardFocus = 's-selected-keyboard-focus'
              a.highlightSuggestionCardByKeyboardFocus = 's-selected-card-keyboard-focus'
              a.highlightSuggestionInactive = 's-selected-inactive'
              a.highlightMultiItemsWidgetSuggestion = 's-widget-selected'
              a.highlightEntityTileCardSuggestion = 's-entity-tile-card-selected'
              a.highlightHyperlinkSuggestion = 's-entity-hyperlink-selected'
              a.highlightNileSearchSuggestionWidget = 's-suggestion-nile-desktop-container-selected'
            },
            function (d, a, b) {
              Object.defineProperty(a, '__esModule', { value: !0 })
              a.logMShopMetric = a.searchQueryToSuggestionsRequest = void 0
              var h = b(0),
                g = !0,
                k = 6e4 * new Date().getTimezoneOffset(),
                m = { query: h.prefixFieldName },
                n = function (a) {
                  return a
                    .split('')
                    .map(function (a, b) {
                      var c = a.toLowerCase()
                      return c === a || 0 === b ? c : '-' + c
                    })
                    .join('')
                }
              a.searchQueryToSuggestionsRequest = function (a) {
                a = Object.entries(a).reduce(function (a, b) {
                  var c = b[0]
                  b = b[1]
                  m[c] ? (a[m[c]] = b) : (a[n(c)] = b)
                  return a
                }, {})
                g
                  ? ((g = !1), (a.event = a.prefix ? 'onfocuswithsearchterm' : 'onfocus'))
                  : (a.event = 'onkeypress')
                a['site-variant'] = h.getSiteVariant().startsWith('android')
                  ? h.getSiteVariant()
                  : a['site-variant']
                return a
              }
              a.logMShopMetric = function (a) {
                a &&
                  a.metricName &&
                  (a.timestamp && (a.timestamp -= k),
                  a.latency
                    ? h.emitLatency(a.metricName, a.latency, a.timestamp)
                    : a.count && h.emitCounter(a.metricName, a.count, a.timestamp))
              }
            },
            function (d, a, b) {
              var h =
                (this && this.__assign) ||
                function () {
                  h =
                    Object.assign ||
                    function (a) {
                      for (var b, c = 1, e = arguments.length; c < e; c++) {
                        b = arguments[c]
                        for (var d in b) Object.prototype.hasOwnProperty.call(b, d) && (a[d] = b[d])
                      }
                      return a
                    }
                  return h.apply(this, arguments)
                }
              d =
                (this && this.__importDefault) ||
                function (a) {
                  return a && a.__esModule ? a : { default: a }
                }
              Object.defineProperty(a, '__esModule', { value: !0 })
              var g = b(0),
                k = d(b(217)),
                m = b(218)
              b = (function () {
                function a(a, b, d, l, n, t, r, u, v, A) {
                  var c = this
                  this.statusMessageContainer = null
                  this.onInput = function (a) {
                    var b
                    void 0 === a && (a = 'input')
                    var d = c.autocompleteView.input.getKeyword(),
                      e = c.autocompleteView.input.getAliasFromDropdown(),
                      f = ''
                    c.context.enabledFeatures.predictiveText &&
                      (c.autocompleteView.input.isPredictiveTextElementsPresent() ||
                        ((f = document.querySelector('#nav-logo a')),
                        (f = null === f || void 0 === f ? void 0 : f.href),
                        (null === f || void 0 === f ? 0 : f.endsWith('ref\x3dnav_logo'))
                          ? (g.logEvent(g.NavxGhostingFieldsNotAvailableOnRetailMetric),
                            g.emitCounter(g.NavxGhostingFieldsNotAvailableOnRetailMetric))
                          : (null === f || void 0 === f ? 0 : f.endsWith('?ref_\x3dabn_logo'))
                            ? (g.logEvent(g.NavxGhostingFieldsNotAvailableOnABMetric),
                              g.emitCounter(g.NavxGhostingFieldsNotAvailableOnABMetric))
                            : (g.logEvent(g.NavxGhostingFieldsNotAvailableMetric),
                              g.emitCounter(g.NavxGhostingFieldsNotAvailableMetric))),
                      (f =
                        'arrowRightToAcceptPredictiveText' === a ||
                        'clickToAcceptPredictiveText' === a ||
                        'tabKeyToAcceptPredictiveText' === a
                          ? c.predictiveTextAccepted
                          : c.defaultPredictiveTextAccepted))
                    var h = c.autocompleteView.input.getSelectedSearchDropdownUrl()
                    if (h) {
                      h = g.decodeSearchDropdownUrl(h)
                      if (h.srs) {
                        var l = h.srs
                        e = h['search-alias']
                      }
                      if (h.bbn) var k = h.bbn
                    }
                    c.getSuggestions(
                      c.context.autocompleteContext.updateContext(
                        ((b = { prefix: d, alias: e, srs: l, bbn: k, event: g.getEventType(a, d) }),
                        (b['cursor-position'] = c.autocompleteView.input.getCursorPosition()),
                        (b.predicted_text_accepted = f),
                        b),
                      ),
                    )
                  }
                  this.removeEscapeCharacters = function (a) {
                    return a
                      ? a.replace(/\\(.)/g, function (a, b) {
                          switch (b) {
                            case '"':
                              return '"'
                            default:
                              return b
                          }
                        })
                      : a
                  }
                  this.renderSuggestions = function (a) {
                    return function (b) {
                      c.handleSuggestions(b)
                      g.measuredMethod('TimeToRedraw', function (a, b) {
                        return g.timedFunctionWrapper('TimeToRedraw', c.autocompleteView.render)(
                          a,
                          b,
                        )
                      })(b, c.context)
                      c.context.autocompleteContext.updateContext({ 'last-prefix': a.prefix })
                    }
                  }
                  this.getSuggestions = function (a) {
                    m.recordKeyPress()
                    g.startTimeToFirstSuggestion()
                    return c.handler.getSuggestions(
                      c.getSuggestionsRequestParameters(a),
                      c.renderSuggestions(a),
                    )
                  }
                  this.deleteSuggestion = function (a) {
                    var b = c.getSuggestionsRequestParameters()
                    return c.handler.deleteSuggestion(
                      a,
                      b,
                      c.updateSuggestionList,
                      c.renderSuggestions(b),
                    )
                  }
                  this.getSuggestionsRequestParameters = function (a) {
                    a &&
                      c.flags.enableNileDesktopCX &&
                      'desktop' === g.getSiteVariant() &&
                      c.getNileEligibility(a)
                    return c.context.autocompleteContext.updateContext(
                      h(h({}, a), {
                        'avg-ks-time': m.getAverageKeyPressTime(),
                        'client-info': c.getClientInfo(
                          g.getSiteVariant(),
                          c.context.autocompleteContext.context['client-info'],
                        ),
                      }),
                    )
                  }
                  this.getClientInfo = function (a, b) {
                    if (b) return b
                    switch (a) {
                      case 'ios-iphone-mshop':
                      case 'ios-ipad-mshop':
                        return 'search-ios-mshop'
                      case 'android-mshop':
                      case 'android-tablet-mshop':
                        return 'search-android-mshop'
                      default:
                        return b
                    }
                  }
                  this.autofillSuggestion = function (a) {
                    var b = new g.CSMCounterLatencyMetric(g.AutofillLatencyMetricName),
                      d = new g.LatencyMetric(g.AutofillLatencyMetricName)
                    d.start()
                    c.autocompletePluginHandler.call('autofill')({ text: a }, function () {
                      b.finish()
                      d.finish()
                    })
                    g.logEvent('AutoFillSelected')
                    g.emitCounter('AutoFillSelected')
                  }
                  this.updateSuggestionList = function () {
                    var a = c.context.autocompleteContext
                    c.getSuggestions(a.updateContext(a))
                  }
                  this.getAutocompleteView = function () {
                    return c.autocompleteView
                  }
                  this.navigation = function (a) {
                    return c.autocompleteView.handleNavigationEvent(a)
                  }
                  this.getJQuery = function () {
                    return c.$
                  }
                  this.getAutocompletePluginCall = function (a) {
                    return c.autocompletePluginHandler.call(a)
                  }
                  this.hideDropdown = function () {
                    c.searchInput.hideDropdown()
                  }
                  this.getNileEligibility = function (a) {
                    var b
                    null === (b = null === q || void 0 === q ? void 0 : q.P) || void 0 === b
                      ? void 0
                      : b
                          .now('rufus-eligible', 'rufus-handle-stream')
                          .execute('Rufus Desktop Eligibility Check', function (b, c) {
                            b && c && (a.ni = '1')
                          })
                  }
                  this.addPredictiveTextEventListeners = function () {
                    c.context.enabledFeatures.predictiveText
                      ? (c.autocompleteView.input.getSearchInput().addEventListener(
                          'keydown',
                          g.guardError({ attribution: 'ApiImpl:keydown' }, function (a) {
                            var b = c.autocompleteView.input.getPrediction(),
                              d = c.autocompleteView.input.getSearchInput(),
                              e = d.selectionStart
                            d = d.value
                            c.autocompleteView.input.setDeletePressed(!1)
                            !c.isPredictiveTextAvailable(b) ||
                            ('ArrowRight' !== a.key && 9 !== a.keyCode) ||
                            null === e ||
                            e !== d.length
                              ? 'ArrowLeft Left ArrowUp Up ArrowDown Down Backspace Delete'
                                  .split(' ')
                                  .includes(a.key)
                                ? (['Delete', 'Backspace'].includes(a.key) &&
                                    c.autocompleteView.input.setDeletePressed(!0),
                                  c.autocompleteView.input.dismissPredictiveText())
                                : c.isPredictiveTextAvailable(b) ||
                                  9 !== a.keyCode ||
                                  (c.autocompleteView.input.hideDropdown(),
                                  c.autocompleteView.input.dismissPredictiveText())
                              : ((c.predictiveTextAccepted = b),
                                c.autocompleteView.input.showPredictiveTextOnSearchBar(),
                                c.autocompleteView.input.updatePreviousCursorPosition(),
                                c.onInput(
                                  'ArrowRight' === a.key
                                    ? 'arrowRightToAcceptPredictiveText'
                                    : 'tabKeyToAcceptPredictiveText',
                                ),
                                9 === a.keyCode && a.preventDefault(),
                                (c.predictiveTextAccepted = c.defaultPredictiveTextAccepted),
                                g.logEvent(
                                  'ArrowRight' === a.key
                                    ? g.EnabledGhostingClickedArrowRightMetric
                                    : g.EnabledGhostingClickedTabMetric,
                                ),
                                g.emitCounter(
                                  'ArrowRight' === a.key
                                    ? g.EnabledGhostingClickedArrowRightMetric
                                    : g.EnabledGhostingClickedTabMetric,
                                ))
                            c.autocompleteView.input.updatePreviousCursorPosition()
                          }),
                        ),
                        c.autocompleteView.input.getSearchInput().addEventListener(
                          'click',
                          g.guardError({ attribution: 'ApiImpl:click' }, function () {
                            var a = c.autocompleteView.input.getPrediction()
                            c.isPredictiveTextAvailable(a) &&
                              ((c.predictiveTextAccepted = a),
                              c.autocompleteView.input.showPredictiveTextOnSearchBar(),
                              c.autocompleteView.input.updatePreviousCursorPosition(),
                              c.onInput('clickToAcceptPredictiveText'),
                              (c.predictiveTextAccepted = c.defaultPredictiveTextAccepted),
                              g.logEvent(g.EnabledGhostingClickedOnSearchBarMetric),
                              g.emitCounter(g.EnabledGhostingClickedOnSearchBarMetric))
                          }),
                        ))
                      : c.autocompleteView.input.getSearchInput().addEventListener(
                          'keydown',
                          g.guardError({ attribution: 'ApiImpl:keydown' }, function (a) {
                            9 == a.keyCode &&
                              c.autocompleteView.input.isSearchBoxFocused() &&
                              (c.autocompleteView.input.hideDropdown(),
                              c.autocompleteView.input.dismissPredictiveText())
                          }),
                        )
                  }
                  this.isPredictiveTextAvailable = function (a) {
                    return a && 0 < a.length && a !== c.defaultPredictiveTextAccepted
                  }
                  this.$ = a
                  this.handler = b
                  this.autocompletePluginHandler = d
                  this.resultsContainer = n
                  this.leftPaneResultsContainer = t
                  this.rightPaneResultsContainer = r
                  this.flags = A
                  this.predictiveTextAccepted = ''
                  this.rightArrowSelected = !1
                  this.defaultPredictiveTextAccepted = ' '
                  this.context = new g.Context(
                    u,
                    this.autocompletePluginHandler.getCordovaEnabledFeatures(),
                  )
                  this.flags.entityPD && this.context.updateEnabledFeatures({ entityPD: !0 })
                  this.flags.accessibilityColorContrast &&
                    this.context.updateEnabledFeatures({ accessibilityColorContrast: !0 })
                  this.flags.accessibilityDesignPattern &&
                    this.context.updateEnabledFeatures({ accessibilityDesignPattern: !0 })
                  this.flags.keywordWithBylineCustomLink &&
                    this.context.updateEnabledFeatures({ keywordWithBylineCustomLink: !0 })
                  this.flags.useSuggestionsIcons &&
                    this.context.updateEnabledFeatures({ useSuggestionsIcons: !0 })
                  this.flags.predictiveText &&
                    this.context.updateEnabledFeatures({ predictiveText: !0 })
                  this.flags.useSuggestionDelimiter !== p &&
                    this.context.updateEnabledFeatures({
                      useSuggestionDelimiter: this.flags.useSuggestionDelimiter,
                    })
                  this.flags.showABOnfocusWidget &&
                    this.context.updateEnabledFeatures({ showABOnfocusWidget: !0 })
                  this.flags.keyboardNavigationFix &&
                    this.context.updateEnabledFeatures({ keyboardNavigationFix: !0 })
                  'desktop' === g.getSiteVariant() &&
                    ((this.statusMessageContainer = document.createElement('div')),
                    (this.statusMessageContainer.className = 'status-message-container'),
                    this.statusMessageContainer.setAttribute('role', 'status'),
                    this.resultsContainer.appendChild(this.statusMessageContainer))
                  this.context.autocompleteContext.updateContext(v)
                  this.searchInput =
                    'desktop' === g.getSiteVariant() || 'mobile' === g.getSiteVariant()
                      ? new k.default(l, this)
                      : l
                  this.autocompleteView = new g.AutocompleteView(
                    this.searchInput,
                    new g.AutocompleteList(
                      this.leftPaneResultsContainer,
                      this,
                      this.searchInput,
                      this.statusMessageContainer,
                    ),
                    new g.AutocompleteListTwoPane(
                      this.leftPaneResultsContainer,
                      this.rightPaneResultsContainer,
                      this,
                    ),
                  )
                  ;['focus', 'input'].forEach(function (a) {
                    return c.autocompleteView.input.getSearchInput().addEventListener(
                      a,
                      g.guardError({ attribution: 'ApiImpl:input' }, function () {
                        var b = c.autocompleteView.input.getSearchInput()
                        c.context.enabledFeatures.predictiveText && '' === b.value
                          ? (c.autocompleteView.input.dismissPredictiveText(),
                            'input' === a &&
                              (c.autocompleteView.input.updatePreviousCursorPosition(),
                              (c.predictiveTextAccepted = c.defaultPredictiveTextAccepted)))
                          : (c.predictiveTextAccepted = c.defaultPredictiveTextAccepted)
                        c.onInput(a)
                      }),
                    )
                  })
                  this.addPredictiveTextEventListeners()
                  this.autocompleteView.input.getSearchInput().addEventListener(
                    'keydown',
                    g.guardError({ attribution: 'ApiImpl:enter' }, function (a) {
                      'Enter' === a.key &&
                        c.autocompleteView.input.getKeyword() &&
                        c.autocompleteView.input.isSelected() &&
                        (g.logOneTimeEvent(g.SearchNonAcceptanceMetric),
                        g.emitCounter(g.SearchNonAcceptanceMetric),
                        g.emitEvents())
                    }),
                  )
                  q.AutocompleteAPI = this
                }
                a.prototype.getContext = function () {
                  return this.context
                }
                a.prototype.handleSuggestions = function (a) {
                  var b = this
                  a.suggestions.forEach(function (c) {
                    var d, e
                    c.crid = a.responseId
                    c.value = b.removeEscapeCharacters(c.value)
                    if (
                      'highlightFragments' in c &&
                      c.highlightFragments &&
                      0 < c.highlightFragments.length &&
                      ((c.highlightFragments = c.highlightFragments.map(function (a) {
                        a.text = b.removeEscapeCharacters(a.text)
                        return a
                      })),
                      1 < c.highlightFragments.length)
                    ) {
                      var f =
                        '"' ===
                        (null === (d = c.highlightFragments[0]) || void 0 === d ? void 0 : d.text)
                      d =
                        '"' ===
                        (null === (e = c.highlightFragments[c.highlightFragments.length - 1]) ||
                        void 0 === e
                          ? void 0
                          : e.text)
                      f && d && (c.highlightFragments = c.highlightFragments.slice(1, -1))
                    }
                  })
                }
                return a
              })()
              a.default = b
            },
            function (d, a, b) {
              Object.defineProperty(a, '__esModule', { value: !0 })
              var h = b(0)
              d = (function () {
                function a(a, b) {
                  var d = this
                  this._isSelected = !0
                  this.showDropdown = function () {
                    return d.delegateSearchInput.showDropdown()
                  }
                  this.hideDropdown = function () {
                    d.dismissPredictiveText()
                    d.delegateSearchInput.hideDropdown()
                  }
                  this.isSelected = function () {
                    return d._isSelected
                  }
                  this.toggleIsSelected = function () {
                    var a
                    d._isSelected = !d._isSelected
                    d._isSelected &&
                      (d.setKeyword(d.typedInputValue),
                      d.api &&
                        d.setAlias(
                          null === (a = d.api.getContext()) || void 0 === a
                            ? void 0
                            : a.getContextField('alias'),
                        ))
                    return d._isSelected
                  }
                  this.delegateSearchInput = a
                  this.api = b
                  var f = this.delegateSearchInput.getSearchInput()
                  this.typedInputValue = f.value
                  f.addEventListener(
                    'input',
                    h.guardError({ attribution: 'BrowserSearchInput' }, function (a) {
                      d.typedInputValue = f.value
                    }),
                  )
                }
                a.prototype.setAttribution = function (a, b, d, f) {
                  this.delegateSearchInput.setAttribution(a, b, d, f)
                }
                a.prototype.getAliasFromDropdown = function () {
                  return this.delegateSearchInput.getAliasFromDropdown()
                }
                a.prototype.getKeyword = function () {
                  return this.delegateSearchInput.getKeyword()
                }
                a.prototype.getCursorPosition = function () {
                  return this.delegateSearchInput.getCursorPosition()
                }
                a.prototype.getSearchInput = function () {
                  return this.delegateSearchInput.getSearchInput()
                }
                a.prototype.setAlias = function (a, b) {
                  this.delegateSearchInput.setAlias(a, b, h.options)
                }
                a.prototype.setKeyword = function (a) {
                  this.delegateSearchInput.setKeyword(a)
                }
                a.prototype.getSelectedSearchDropdownUrl = function () {
                  return this.delegateSearchInput.getSelectedSearchDropdownUrl()
                }
                a.prototype.setSelectedSearchDropdownUrl = function (a) {
                  return this.delegateSearchInput.setSelectedSearchDropdownUrl(a)
                }
                a.prototype.setPredictedText = function (a, b, d) {
                  return this.delegateSearchInput.setPredictedText(a, b, d)
                }
                a.prototype.dismissPredictiveText = function () {
                  return this.delegateSearchInput.dismissPredictiveText()
                }
                a.prototype.showPredictiveTextOnSearchBar = function () {
                  return this.delegateSearchInput.showPredictiveTextOnSearchBar()
                }
                a.prototype.updatePreviousCursorPosition = function () {
                  return this.delegateSearchInput.updatePreviousCursorPosition()
                }
                a.prototype.setDeletePressed = function (a) {
                  return this.delegateSearchInput.setDeletePressed(a)
                }
                a.prototype.getDeleteKeyPressed = function () {
                  return this.delegateSearchInput.getDeleteKeyPressed()
                }
                a.prototype.isSearchBoxFocused = function () {
                  return this.delegateSearchInput.isSearchBoxFocused()
                }
                a.prototype.getPrediction = function () {
                  return this.delegateSearchInput.getPrediction()
                }
                a.prototype.isPredictiveTextElementsPresent = function () {
                  return this.delegateSearchInput.isPredictiveTextElementsPresent()
                }
                a.prototype.notifySearchBoxSelection = function (a) {
                  this.delegateSearchInput.notifySearchBoxSelection(a)
                }
                return a
              })()
              a.default = d
            },
            function (d, a, b) {
              Object.defineProperty(a, '__esModule', { value: !0 })
              a.recordKeyPress = a.getAverageKeyPressTime = void 0
              var h = 0,
                g = 0,
                k = -1
              a.getAverageKeyPressTime = function () {
                return g ? Math.round(h / g) : 0
              }
              a.recordKeyPress = function () {
                g += 1
                var a = new Date().getTime()
                0 <= k && (h += a - k)
                k = a
              }
            },
            function (d, a, b) {
              Object.defineProperty(a, '__esModule', { value: !0 })
              var h = b(0)
              d = (function () {
                function a(a, b) {
                  var d = this,
                    f
                  this._isSelected = !0
                  this.setKeyword = function (a) {
                    d.input.value = a
                  }
                  this.isSelected = function () {
                    return d._isSelected
                  }
                  this.toggleIsSelected = function () {
                    d._isSelected = !d._isSelected
                    d._isSelected &&
                      ((d.input.value = d.typedInputValue),
                      setTimeout(function () {
                        d.input.selectionStart = d.typedInputValue.length
                        d.input.selectionEnd = d.typedInputValue.length
                      }, 0))
                    return d._isSelected
                  }
                  this.showDropdown = function () {}
                  this.hideDropdown = function () {}
                  this.getAliasFromDropdown = function () {
                    return ''
                  }
                  this.setAlias = function (a) {}
                  this.setPredictedText = function (a, b, d) {}
                  this.dismissPredictiveText = function () {}
                  this.input = a
                  this.typedInputValue = a.value
                  this.autocompletePluginHandler = b
                  this.cursorPosition =
                    (null === (f = a.value) || void 0 === f ? void 0 : f.length) || 0
                  a.addEventListener(
                    'input',
                    h.guardError({ attribution: 'MShopSearchInput' }, function (b) {
                      var c
                      d.typedInputValue = a.value
                      d.cursorPosition =
                        a.selectionStart ||
                        (null === (c = a.value) || void 0 === c ? void 0 : c.length) ||
                        0
                    }),
                  )
                }
                a.prototype.setAttribution = function (a, b, d, f) {
                  var c
                  null === (c = this.autocompletePluginHandler) || void 0 === c
                    ? void 0
                    : c.call('setAttribution')({
                        refTag: a,
                        crid: b,
                        prefix: d,
                        timeStamp: f || new Date().getTime(),
                      })
                }
                a.prototype.getKeyword = function () {
                  return this.input.value
                }
                a.prototype.getCursorPosition = function () {
                  return this.cursorPosition
                }
                a.prototype.getSearchInput = function () {
                  return this.input
                }
                a.prototype.getSelectedSearchDropdownUrl = function () {
                  return p
                }
                a.prototype.setSelectedSearchDropdownUrl = function (a) {}
                a.prototype.showPredictiveTextOnSearchBar = function () {}
                a.prototype.isSearchBoxFocused = function () {
                  return !1
                }
                a.prototype.updatePreviousCursorPosition = function () {}
                a.prototype.getPrediction = function () {
                  return ''
                }
                a.prototype.setDeletePressed = function () {
                  return !1
                }
                a.prototype.getDeleteKeyPressed = function () {
                  return !1
                }
                a.prototype.isPredictiveTextElementsPresent = function () {
                  return !1
                }
                a.prototype.notifySearchBoxSelection = function (a) {}
                return a
              })()
              a.default = d
            },
            function (d, a, b) {
              var h =
                (this && this.__assign) ||
                function () {
                  h =
                    Object.assign ||
                    function (a) {
                      for (var b, d = 1, c = arguments.length; d < c; d++) {
                        b = arguments[d]
                        for (var e in b) Object.prototype.hasOwnProperty.call(b, e) && (a[e] = b[e])
                      }
                      return a
                    }
                  return h.apply(this, arguments)
                }
              Object.defineProperty(a, '__esModule', { value: !0 })
              var g = b(0),
                k = {
                  setSearchEntryText: 'autofill',
                  setAttribution: 'setAttribution',
                  searchSuggestionRendered: 'searchSuggestionRendered',
                }
              d = (function () {
                return function (a) {
                  var b = this
                  void 0 === a && (a = {})
                  this.featureToCordovaCall = {}
                  this.getCordovaEnabledFeatures = function () {
                    return b.cordovaEnabledFeatures
                  }
                  this.call = function (a) {
                    return function (c, d, f) {
                      void 0 === d && (d = function (a) {})
                      void 0 === f && (f = function (a) {})
                      a in b.cordovaEnabledFeatures &&
                        (['android-mshop', 'android-tablet-mshop'].includes(g.getSiteVariant()) &&
                          (c = h(h({}, c), {
                            successCallback: function (a) {
                              d(a)
                            },
                            failCallback: function (b) {
                              g.logError('Plugin:' + a)
                              g.emitError('Plugin:' + a)
                              f(b)
                            },
                          })),
                        b.AutocompletePlugin[b.featureToCordovaCall[a]](c))
                    }
                  }
                  this.AutocompletePlugin = a
                  this.cordovaEnabledFeatures = Object.keys(this.AutocompletePlugin).reduce(
                    function (a, c) {
                      var d = k[c]
                      a[d] = !0
                      d in b.featureToCordovaCall &&
                        (g.logError('Plugin:Conflict'), g.emitError('Plugin:Conflict'))
                      b.featureToCordovaCall[d] = c
                      return a
                    },
                    {},
                  )
                }
              })()
              a.default = d
            },
            function (d, a, b) {
              var h =
                (this && this.__assign) ||
                function () {
                  h =
                    Object.assign ||
                    function (a) {
                      for (var b, d = 1, c = arguments.length; d < c; d++) {
                        b = arguments[d]
                        for (var e in b) Object.prototype.hasOwnProperty.call(b, e) && (a[e] = b[e])
                      }
                      return a
                    }
                  return h.apply(this, arguments)
                }
              Object.defineProperty(a, '__esModule', { value: !0 })
              var g = b(0),
                k =
                  '_ alias avg-ks-time b2b client-info event fb fresh ks last-prefix limit lop mid page-type search-keyword plain-mid prefix suffix request-id session-id site-variant version wc asin client-version ni predicted_text_accepted'.split(
                    ' ',
                  )
              d = (function () {
                function a(a, b) {
                  var c, d, f
                  this.$ = a
                  this.completionDomain =
                    b.completion ||
                    (null ===
                      (d = null === (c = b.config) || void 0 === c ? void 0 : c.endpoints) ||
                    void 0 === d
                      ? void 0
                      : d.completion) ||
                    g.autocompleteServiceDomain
                  this.suggestionParams = h(
                    h(
                      h({}, b.maxSuggestions ? { limit: b.maxSuggestions } : {}),
                      (null === (f = b.config) || void 0 === f ? 0 : f.marketplaceId)
                        ? { mid: b.config.marketplaceId }
                        : {},
                    ),
                    { prefix: '', 'suggestion-type': ['WIDGET', 'KEYWORD'] },
                  )
                  this.isCDNEnabled = !this.completionDomain.includes('completion')
                  this.lastRequest = new Date().getTime()
                }
                a.prototype.warmupRequest = function () {
                  var a = this
                  return this.ajaxAction(
                    'HeadLatency',
                    function () {
                      return {
                        type: 'HEAD',
                        url: 'https://' + a.completionDomain + '/api/2017/suggestions',
                        xhrFields: { withCredentials: !0 },
                        error: function (a) {},
                      }
                    },
                    {},
                    function () {},
                  )
                }
                a.prototype.getSuggestions = function (a, b) {
                  var c = this
                  return a.alias
                    ? this.ajaxAction(
                        'RetrieveSuggestionsLatency',
                        function (a) {
                          return c.suggestionRequest(a)
                        },
                        a,
                        b,
                      )
                    : Promise.resolve()
                }
                a.prototype.deleteSuggestion = function (a, b, c, d) {
                  var e = this
                  return this.ajaxAction(
                    'DeleteRecentSearchSuggestionLatency',
                    function (a) {
                      return e.deleteRecentSearchSuggestionRequest(a, b)
                    },
                    a,
                    this.isCDNEnabled ? d : c,
                  )
                }
                a.prototype.filterSuggestionsRequestParameters = function (a) {
                  return Object.keys(a)
                    .map(function (b) {
                      return [b, a[b]]
                    })
                    .filter(function (a) {
                      return k.includes(a[0])
                    })
                    .reduce(function (a, b) {
                      var c,
                        d = b[0]
                      b = b[1]
                      return h(h({}, a), ((c = {}), (c[d] = b), c))
                    }, this.suggestionParams)
                }
                a.prototype.suggestionRequest = function (a) {
                  a = this.filterSuggestionsRequestParameters(a)
                  return {
                    url:
                      'https://' +
                      this.completionDomain +
                      '/api/2017/suggestions?' +
                      g.paramsToURLParameters(a),
                    dataType: 'json',
                    startTime: new Date().getTime(),
                    xhrFields: { withCredentials: !0 },
                    error: function (a) {
                      g.logError('RetrieveSuggestionsFailure')
                      g.emitError('RetrieveSuggestionsFailure')
                    },
                  }
                }
                a.prototype.deleteRecentSearchSuggestionRequest = function (a, b) {
                  this.isCDNEnabled
                    ? ((b = g.paramsToURLParameters(this.filterSuggestionsRequestParameters(b))),
                      (a = a.replace(/mid=[A-z0-9]+&/, '')),
                      (a =
                        'https://' +
                        this.completionDomain +
                        '/api/2017/suggestions?' +
                        b +
                        '\x26' +
                        a),
                      (b = 'GET'))
                    : ((a = 'https://' + this.completionDomain + '/api/2017/recentsearches?' + a),
                      (b = 'DELETE'))
                  return {
                    type: b,
                    url: a,
                    dataType: 'json',
                    startTime: new Date().getTime(),
                    xhrFields: { withCredentials: !0 },
                    error: function (a) {
                      g.logError('DeleteRecentSearchSuggestionFailure')
                      g.emitError('DeleteRecentSearchSuggestionFailure')
                    },
                  }
                }
                a.prototype.request = function (a) {
                  var b = this
                  return new Promise(function (c, d) {
                    b.$.ajax(a).then(c, function (a, b, c) {
                      d(c)
                    })
                  })
                }
                a.prototype.ajaxAction = function (a, b, c, d) {
                  function e(a) {
                    try {
                      d(a)
                    } catch (u) {
                      g.logJsError(u, { attribution: 'ajaxAction:callback' })
                    }
                  }
                  var f = this,
                    h = b(c)
                  b = h.error || p
                  delete h.error
                  return g
                    .measuredPromise(a, g.timedPromiseWrapper(a, this.request(h)))
                    .then(
                      h.startTime
                        ? function (a) {
                            h.startTime > f.lastRequest &&
                              ((f.lastRequest = h.startTime), (a.startTime = h.startTime), e(a))
                          }
                        : e,
                      b,
                    )
                    .catch(function (a) {
                      g.logJsError(a, { attribution: 'ajaxAction' })
                    })
                }
                return a
              })()
              a.default = d
            },
            function (d, a, b) {
              function h(a) {
                return a.reduce(function (a, b) {
                  return a.concat(Array.isArray(b) ? h(b) : b)
                }, [])
              }
              function g(a) {
                return a instanceof Node
                  ? a.parentNode
                    ? a.cloneNode(!0)
                    : a
                  : document.createTextNode(a === p || null === a ? '' : a)
              }
              b.r(a)
              b.d(a, 'DomKataRuntime', function () {
                return m
              })
              var k = 0,
                m = (function () {
                  function a() {
                    if (!(this instanceof a))
                      throw new TypeError('Cannot call a class as a function')
                    this.context = {}
                  }
                  Z(a, [
                    {
                      key: 'generateInstanceId',
                      value: function () {
                        return 'inst' + k++
                      },
                    },
                    {
                      key: 'root',
                      value: function (a, b, d) {
                        var c = new Set()
                        return h(d)
                          .filter(function (a) {
                            return !!a
                          })
                          .map(function (a) {
                            a = g(a)
                            if (c.has(a)) return a.cloneNode(!0)
                            c.add(a)
                            return a
                          })
                      },
                    },
                    {
                      key: 'createElement',
                      value: function (a, b) {
                        var c = document.createElement(a)
                        Object.entries(b).forEach(function (a) {
                          a = K(a, 2)
                          return c.setAttribute(a[0], a[1])
                        })
                        for (
                          var d = arguments.length, f = Array(2 < d ? d - 2 : 0), k = 2;
                          k < d;
                          k++
                        )
                          f[k - 2] = arguments[k]
                        h(f).forEach(function (a) {
                          return c.appendChild(g(a))
                        })
                        return c
                      },
                    },
                    {
                      key: 'assertNotNull',
                      value: function (a, b) {
                        for (var c = 0; c < b.length; c++) {
                          var d = b[c]
                          if (!a.hasOwnProperty(d) || null === d || d === p)
                            throw Error('Required template key is undefined: ' + d)
                        }
                      },
                    },
                    {
                      key: 'createComment',
                      value: function (a) {
                        return document.createComment(a)
                      },
                    },
                    {
                      key: 'createDoctype',
                      value: function (a) {
                        return document.implementation.createDocumentType(a, '', '')
                      },
                    },
                    {
                      key: 'shallowMerge',
                      value: function (a, b) {
                        return Object.assign(Object.assign({}, a), b)
                      },
                    },
                    { key: 'dynamicInstance', value: function (a, b, d) {} },
                    {
                      key: 'testCondition',
                      value: function (a) {
                        return !1
                      },
                    },
                  ])
                  return a
                })()
            },
          ]),
          W = 'Down ArrowDown Up ArrowUp Left ArrowLeft Right ArrowRight Enter'.split(' '),
          S = ['Esc', 'Escape'],
          N = document.createElement('div')
        N.className = 'autocomplete-results-container'
        N.id = 'sac-autocomplete-results-container'
        N.role = 'grid'
        var P = document.createElement('div')
        P.className = 'two-pane-results-container'
        P.role = 'rowgroup'
        var Q = document.createElement('div')
        Q.className = 'left-pane-results-container'
        var M = document.createElement('div')
        M.className = 'right-pane-results-container'
        return {
          init: function (d, a) {
            N.appendChild(P)
            P.appendChild(Q)
            P.appendChild(M)
            a.$dropdown[0].appendChild(N)
            T(a)
            var b = R.component({
              $: D,
              JSON: JSON,
              localizedStrings: r,
              inputBox: G,
              resultsContainer: N,
              twoPaneResultsContainer: P,
              leftPaneResultsContainer: Q,
              rightPaneResultsContainer: M,
              cfg: Object.assign({}, x, d),
              endpoints: t,
              warmup: !0,
              platform: H,
              autocompleteContextOverrides: L,
              flags: I,
            })
            q.addEventListener(
              'keydown',
              function (a) {
                G.isSearchBoxFocused() &&
                  (!a.defaultPrevented && W.includes(a.key)
                    ? b.navigationListener(a)
                    : S.includes(a.key) && (G.blurAutocomplete(), O()))
              },
              !1,
            )
            G.isSearchBoxFocused() && (b.listener(), G.showDropdown())
          },
        }
      }
    }
  x.when(
    'autocomplete-endpoints',
    'autocomplete-translations-localizedStrings',
    'autocomplete-show-ab-onfocus-widget',
    'autocomplete-icons-handler',
    'autocomplete-entity-pd',
    'autocomplete-nile-desktop-cx',
    'autocomplete-predictive-text',
    'autocomplete-accessibility-color-contrast',
    'autocomplete-keyword-with-byline-custom-link',
    'autocomplete-accessibility-design-pattern',
    'autocomplete-keyboard-navigation-fix',
  ).execute('load autocomplete', function (p, r, L, A, I, D, G, x, F, K, O) {
    q.$Nav.when('$', 'NavDomApi', 'sx.iss.Platform', 'sx.iss.Defaults').build(
      'sx.iss.AutocompleteUXFramework',
      W(
        p,
        r,
        { version: 3 },
        {},
        {
          showABOnfocusWidget: L(),
          useSuggestionsIcons: A(),
          entityPD: I(),
          enableNileDesktopCX: D(),
          predictiveText: G(),
          accessibilityColorContrast: x(),
          keywordWithBylineCustomLink: F(),
          accessibilityDesignPattern: K(),
          keyboardNavigationFix: O(),
        },
      ),
    )
  })
  ;('use strict')
  q.$Nav
    .when('$', 'sx.iss.AutocompleteUXFramework', 'NavDomApi')
    .build('sx.iss.IssParentCoordinator', function (p, q, x) {
      return function (r) {
        ;('undefined' !== typeof r && r) || (r = {})
        var t = {
          $form: x.getForm(),
          $dropdown: x.getDropdown(),
          $searchbox: x.getSearchBox(),
          $aliasDropDown: x.getAliasDropdown(),
        }
        r.useAmazonEmberFontFamily &&
          p('head').append(
            '\x3cstyle\x3e.s-suggestion { padding: 8px 10px; font-size: 16px; font-family: "Amazon Ember"; cursor: pointer; }\x3c/style\x3e',
          )
        x.getForm().data('originalSearchTerm', x.getKeyword())
        x.getForm().data('originalAlias', x.getAliasFromDropdown())
        q.init(r, t)
      }
    })
  ;('use strict')
  ;('use strict')
  q.$Nav.when('$').build('sx.iss.AttributionUtil', function (p) {
    function q(q, r, t, x) {
      r = p('\x3cinput type\x3d"hidden" /\x3e').attr('id', r).attr('name', t).attr('value', x)
      q.append(r)
    }
    var t = /(ref=[\-\w]+)/
    return {
      setRefTag: function (p, q) {
        var r = p.attr('action')
        t.test(r)
          ? (r = r.replace(t, 'ref\x3d' + q))
          : ('/' !== r.charAt(r.length - 1) && (r += '/'), (r += q))
        p.attr('action', r)
      },
      setCompletionResponseId: function (r, t) {
        if (t) {
          var x = p('#isscrid')
          0 < x.length ? x.attr('value', t) : q(r, 'isscrid', 'crid', t)
        }
      },
      setPrefix: function (r, t) {
        var x = p('#issprefix')
        0 < x.length ? x.attr('value', t) : q(r, 'issprefix', 'sprefix', t)
      },
    }
  })
  ;('use strict')
  x.register('autocomplete-icons-handler', function () {
    return function () {
      return !0
    }
  })
  ;('use strict')
  x.register('autocomplete-show-ab-onfocus-widget', function () {
    return function () {
      return !0
    }
  })
  ;('use strict')
  x.register('autocomplete-entity-pd', function () {
    return function () {
      return !1
    }
  })
  ;('use strict')
  x.register('autocomplete-nile-desktop-cx', function () {
    return function () {
      return !0
    }
  })
  ;('use strict')
  x.register('autocomplete-predictive-text', function () {
    return function () {
      return !1
    }
  })
  ;('use strict')
  x.register('autocomplete-accessibility-color-contrast', function () {
    return function () {
      return !1
    }
  })
  ;('use strict')
  x.register('autocomplete-keyword-with-byline-custom-link', function () {
    return function () {
      return !1
    }
  })
  ;('use strict')
  x.register('autocomplete-accessibility-design-pattern', function () {
    return function () {
      return !0
    }
  })
  ;('use strict')
  x.register('autocomplete-keyboard-navigation-fix', function () {
    return function () {
      return !0
    }
  })
})
/* ******** */
;(function (h) {
  var q = window.AmazonUIPageJS || window.P,
    t = q._namespace || q.attributeErrors,
    a = t ? t('P13NSharedSitewideJS', '') : q
  a.guardFatal
    ? a.guardFatal(h)(a, window)
    : a.execute(function () {
        h(a, window)
      })
})(function (h, q, t) {
  ;(function (a) {
    h.register('p13n-sc-math', function () {
      return Math
    })
    h.register('p13n-sc-document', function () {
      return a
    })
    h.register('p13n-sc-window', function () {
      return q
    })
    h.register('p13n-sc-undefined', function () {})
    var e = (function () {
        return 'undefined' !== typeof a.hidden
          ? function () {
              return a.hidden
            }
          : 'undefined' !== typeof a.msHidden
            ? function () {
                return a.msHidden
              }
            : 'undefined' !== typeof a.webkitHidden
              ? function () {
                  return a.webkitHidden
                }
              : function () {
                  return !1
                }
      })(),
      g = function () {
        return q.P && q.P.AUI_BUILD_DATE
      }
    g()
      ? (h.when('jQuery').register('p13n-sc-jQuery', function (a) {
          return a
        }),
        h.when('ready').register('p13n-sc-ready', function () {}))
      : q.amznJQ &&
        (q.amznJQ.available('jQuery', function () {
          h.register('p13n-sc-jQuery', function () {
            return q.amznJQ.jQuery
          })
        }),
        q.amznJQ.onReady('jQuery', function () {
          h.register('p13n-sc-ready', function () {})
        }),
        q.amznJQ.available('amazonShoveler', function () {
          h.register('p13n-sc-amznJQ-shoveler', function () {})
        }))
    var d = function (a, d) {
        return (a = d.getCarousel(a).dom.$container.data('aCarouselOptions')) && a.name
          ? a.name
          : null
      },
      k = function (a, d, c) {
        d = c.getCarousel(d)
        c = d.dom.$container.data('aCarouselOptions')
        if (!c) return 'p13n-sc-carousel-' + a
        c.name || ((a = 'p13n-sc-carousel-' + a), (c.name = a), d.setAttr('name', a))
        return c.name
      }
    h.register('p13n-sc-util', function () {
      var a = q.ueLogError
      'function' !== typeof a &&
        (a = function (a, b) {
          if (b && b.message) throw Error(b.message)
          if (a && a.message) throw Error(a.message)
        })
      var m = function (c, b) {
        a({ logLevel: c, attribution: 'P13NSharedSitewideJS', message: '[p13n-sc] ' + b })
      }
      return {
        constants: { DATA_ATTR_P13N_FEATURE_NAME: 'p13nFeatureName' },
        count: (q.ue && q.ue.count) || function () {},
        isAUI: g,
        isPageHidden: e,
        getCarouselName: d,
        createCarouselName: k,
        log: {
          warn: function (a) {
            m('WARN', a)
          },
          error: function (a) {
            m('ERROR', a)
          },
        },
        parseInt: function (a) {
          return parseInt(a, 10)
        },
      }
    })
  })(document)
  h.when('p13n-sc-jQuery', 'p13n-sc-window', 'p13n-sc-util', 'p13n-sc-undefined').register(
    'p13n-sc-heartbeat',
    function (a, e, g, d) {
      function k() {
        a.each(m, function (a, c) {
          c.call(e)
        })
      }
      var n = e.clearInterval,
        m = {},
        c,
        b,
        f = function () {
          if (!c) {
            var a = e.setInterval(function () {
              if (a !== c) n(a)
              else if (!g.isPageHidden()) {
                var f = new Date().getTime()
                ;(!b || 200 < f - b) && k()
                b = new Date().getTime()
              }
            }, 200)
            c = a
          }
        }
      return {
        subscribe: function (a, c) {
          m[a] || ((m[a] = c), f())
        },
        unsubscribe: function (a) {
          m[a] && delete m[a]
          a = !0
          for (var b in m) m.hasOwnProperty(b) && (a = !1)
          a && (n(c), (c = d))
        },
      }
    },
  )
  h.when('p13n-sc-jQuery', 'p13n-sc-heartbeat').register(
    'p13n-sc-call-on-visible',
    function (a, e) {
      function g() {
        for (
          var a = k.scrollTop() + k.height(), g = k.scrollLeft() + k.width(), c = d.length - 1;
          0 <= c;
          c--
        ) {
          var b = d[c],
            f = b.callback,
            p = b.$element,
            A = b.distanceY
          b = b.distanceX
          if (0 === p.parents('body').size()) d.splice(c, 1)
          else if (!p.is(':hidden')) {
            var r = p.offset()
            a - A > r.top && g - b > r.left && (d.splice(c, 1), f.call(null, p[0]))
          }
        }
        0 === d.length && e.unsubscribe('p13n-sc-call-on-visible')
      }
      var d = [],
        k = a(q)
      return {
        register: function (n, k, c) {
          var b = c && 'undefined' !== typeof c.distance ? c.distance : 0,
            f = c && 'undefined' !== typeof c.distanceY ? c.distanceY : b,
            p = c && 'undefined' !== typeof c.distanceX ? c.distanceX : 0
          a(n).each(function () {
            d.push({ $element: a(this), callback: k, distanceY: f, distanceX: p })
          })
          e.subscribe('p13n-sc-call-on-visible', g)
        },
      }
    },
  )
  h.when('A', 'jQuery', 'p13n-sc-call-on-visible', 'p13n-sc-util', 'p13n-sc-math').register(
    'p13n-sc-view-trigger',
    function (a, e, g, d, k) {
      var n = function (c) {
          function b() {
            n += 1
            e.ajax(g)
          }
          var f = e(c)
          c = f.attr('data-params')
          var p = f.attr('data-url')
          if (c && p) {
            c = a.parseJSON(c)
            var d = f.offset()
            f = [d.top, d.left, f.height(), e(q).width()]
            c.elementRect = f.join(',')
            var n = 0,
              g = {
                cache: !0,
                crossDomain: !1,
                data: e.param(c, !1),
                error: function (a) {
                  a = a.status || 0
                  3 <= n || (400 <= a && 500 > a) || setTimeout(b, 200 * k.pow(2, n))
                },
                global: !1,
                url: p,
              }
            b()
          }
        },
        m = function (c) {
          var b = e(c)
          if (1 === b.size()) {
            var f = b.attr('data-params')
            f = f ? a.parseJSON(f) : {}
            if (!0 === f.allowEmpty || 0 !== e.trim(b.text()).length) {
              var d = b.height()
              ;(!0 !== f.allowEmpty && 5 > d) ||
                ((d = 0),
                'number' === typeof f.distance && (d = f.distance),
                b.attr('data-p13n-sc-vt-initialized') ||
                  (b.attr('data-p13n-sc-vt-initialized', !0),
                  g.register(
                    c,
                    function () {
                      n(c)
                    },
                    { distance: d },
                  )))
            }
          }
        }
      d = function () {
        a.each(e('.p13n-sc-vt:not([data-p13n-sc-vt-initialized])'), function (a) {
          m(a)
        })
      }
      h.execute(d)
      h.when('afterReady').execute('p13n-sc-view-trigger:init', d)
      return { initializeElement: m }
    },
  )
  h.when(
    'p13n-sc-jQuery',
    'p13n-sc-util',
    'p13n-sc-window',
    'p13n-sc-document',
    'p13n-sc-ready',
  ).register('p13n-sc-logger', function (a, e, g, d) {
    function k(l, c) {
      l = l.attr(c)
      c = {}
      l !== t &&
        null !== l &&
        (c = 'undefined' !== typeof a.parseJSON ? a.parseJSON(l) : eval('(' + l + ')'))
      return c
    }
    function n(l, c) {
      for (var b = [l.widget, ':'], f = 0; f < l.asins.length; f++) {
        var d = l.asins[f]
        b.push(d.asin, '@')
        a.each(d, function (a, c) {
          'asin' !== a && b.push(a, '\x3d', c, '|')
        })
        b.splice(b.length - 1, 1)
        b.push(',')
      }
      0 < l.asins.length && b.splice(b.length - 1, 1)
      c &&
        (b.push(':', 'action\x3d', l.action),
        a.each(l.meta, function (a, c) {
          b.push(',', a, '\x3d', c)
        }))
      return b.join('')
    }
    function m(c, b) {
      if ((b = k(a(b), 'data-p13n-asin-metadata')) && b.asin) {
        var l = b.asin
        ;(c = k(a(c), 'data-p13n-asin-metadata')) && a.extend(!0, b, c[l])
        return b
      }
    }
    function c(b, c) {
      var l = new Image()
      e.count('p13n:logger:attempt', 1)
      l.onerror = function () {
        f++
        e.count('p13n:logger:error', 1)
      }
      l.src = [
        'https:' === d.location.protocol ? 'https://' : 'http://',
        g.ue_furl || 'fls-na.amazon.com',
        '/1/p13n-shared-components/1/OP/p13n/',
        c,
        ['?', a.param(k(a(b.featureElement), 'data-p13n-global'))].join(''),
      ].join('')
    }
    function b() {
      return 3 < f ? (p || (e.count('p13n:logger:abort', 1), (p = !0)), !0) : !1
    }
    var f = 0,
      p = !1,
      h = {},
      r = {},
      x = {
        logAction: function (l) {
          if (!b())
            if ('featureElement' in l)
              if ('action' in l) {
                var f = a(l.featureElement)
                l.widgetViewport && a(l.widgetViewport)
                var d = f.offset().left,
                  p = f.width() + d
                l.asins = a.map(
                  a(l.featureElement).find('.p13n-asin').filter(':visible'),
                  function (b) {
                    var c = a(b).offset().left
                    if (!(c < d || c > p)) return m(f, b)
                  },
                )
                l.meta = l.meta || {}
                var g = k(f, 'data-p13n-feature-metadata')
                a.extend(!0, l.meta, g)
                l.widget = f.attr('data-p13n-feature-name')
                l.widget in h || (h[l.widget] = {})
                if (0 !== l.asins.length) {
                  g = []
                  for (var r = 0; r < l.asins.length; r++)
                    l.asins[r].asin in h[l.widget] ||
                      ((h[l.widget][l.asins[r].asin] = !0), g.push(l.asins[r]))
                  ;(l.logOnlyOnNew && 0 === g.length) ||
                    (l.logOnlyNew && 0 < g.length && (l.asins = g),
                    (g = [
                      'action/',
                      [
                        l.widget,
                        '_:',
                        l.action,
                        '@v\x3d',
                        l.eventtime || 0,
                        ',impressed@v\x3d',
                        l.asins.length,
                      ].join(''),
                      '/',
                      n(l, !0),
                    ].join('')),
                    l.replicateAsinImpressions &&
                      ((r = ['asin/', n(l, !1)].join('')), (g = ['batch/', g, '$', r].join(''))),
                    c(l, g))
                }
              } else e.log.warn('action missing in eventData for logAction')
            else e.log.warn('featureElement missing in eventData for logAction')
        },
        logAsyncAction: function (b) {
          var c = new Date().getTime(),
            f = 'number' === typeof b.initialDelay ? b.initialDelay : 400,
            d = 'number' === typeof b.timeout ? b.timeout : 5e3,
            l = a(b.featureElement)
          b.widget = l.attr('data-p13n-feature-name')
          b.widget in r && g.clearTimeout(r[b.widget])
          var p = function () {
            var a = b.isEventComplete(),
              f = new Date().getTime()
            f - c < d && !a
              ? (r[b.widget] = g.setTimeout(p, 150))
              : (a || ('meta' in b || (b.meta = {}), (b.meta.err = 'notfinished')),
                (b.eventtime = f - c),
                delete r[b.widget],
                x.logAction(b))
          }
          r[b.widget] = g.setTimeout(p, f)
        },
        eventPending: function (b) {
          return a(b).attr('data-p13n-feature-name') in r
        },
        impressAsin: function (f) {
          if (!b())
            if ('featureElement' in f)
              if ('faceoutElement' in f) {
                var d = a(f.faceoutElement),
                  p = a(f.featureElement)
                f.widget = p.attr('data-p13n-feature-name')
                f.asins = [m(p, d)]
                d = ['asin/', n(f, !1)].join('')
                c(f, d)
              } else e.log.warn('faceoutElement missing in eventData for logAction')
            else e.log.warn('featureElement missing in eventData for logAction')
        },
        resetImpressions: function (a) {
          a in h && (h[a] = {})
        },
      }
    return x
  })
  h.when('jQuery', 'A', 'p13n-sc-call-on-visible', 'p13n-sc-logger', 'ready').register(
    'p13n-sc-faceout-logger',
    function (a, e, g, d) {
      var k = function (e, k) {
        e = a(e)
        var c = a(k)
        1 !== e.length ||
          e.attr('data-p13n-sc-fl-initialized') ||
          (e.attr('data-p13n-sc-fl-initialized', !0),
          g.register(e, function () {
            d.logAction({ featureElement: c, action: 'view', replicateAsinImpressions: !0 })
          }))
      }
      e.on('p13n:faceoutsloaded', function (d) {
        a(d)
          .find('.p13n-asin:not([data-p13n-sc-fl-initialized])')
          .each(function (a, c) {
            k(c, d)
          })
      })
    },
  )
  h.when('A', 'jQuery').register('p13n-sc-lazy-image-loader', function (a, e) {
    return {
      loadImages: function (g) {
        a.executeDeferred()
        g.find('.p13n-sc-lazy-loaded-img').each(function (d, g) {
          var k = e(g)
          d = k.find('.a-dynamic-image')
          d.load(function () {
            k.removeClass('p13n-sc-lazy-loaded-img')
          })
          a.loadDynamicImage(d)
        })
      },
    }
  })
  h.when('A', 'jQuery', 'p13n-sc-call-on-visible').register(
    'p13n-sc-lazy-widget-loader',
    function (a, e, g) {
      function d(a, d, g) {
        a.find('.' + d).each(function (a, b) {
          a = e(b)
          b = a.find('.lazy-widget-template')
          if (b.length) {
            a.append(b.html())
            b.remove()
            b = a.find('.lazy-widget-encoded-content')
            if (b.length)
              try {
                var f = decodeURIComponent(b.html())
                b.html(f)
                b.removeClass('lazy-widget-encoded-content')
              } catch (p) {
                a.addClass('aok-hidden')
              }
            g && g(a)
          }
        })
      }
      return {
        revealWidgets: function () {
          d(e(document), 'js-revealed-widget')
        },
        revealWhenVisible: function (a, n, h) {
          g.register(
            a,
            function (a) {
              d(e(a), 'js-onvisible-widget', n)
            },
            h,
          )
        },
      }
    },
  )
  h.when('p13n-sc-jQuery', 'p13n-sc-util', 'p13n-sc-math').register(
    'p13n-sc-line-truncator',
    function (a, e, g) {
      function d(b) {
        this.$element = b
        this.$experimentElement = a('\x3cdiv\x3e').addClass('p13n-sc-offscreen-truncate')
        this.maxRows = b.attr('data-rows')
        this.lineHeight = this.getLineHeight()
        this.maxRows
          ? this.lineHeight ||
            e.log.error('Truncation element does not have a line height or it is zero')
          : e.log.error('Truncation element missing necessary line number data')
      }
      function k(b, f, c) {
        b = b.split(c)
        var d = g.floor(f.width() / parseInt(f.css('font-size'), 10)),
          p = function (b) {
            b = a('\x3cdiv\x3e')
              .addClass('p13n-sc-offscreen-truncate')
              .css('overflow', 'hidden')
              .text(b)
              .appendTo(f)
            var c = b[0].clientWidth >= b[0].scrollWidth
            b.remove()
            return c
          },
          e = function (b) {
            var f = b.length - d
            a.trim(b).length > d &&
              !p(b) &&
              (b = a.map(b, function (a, b) {
                return b > d && b <= f && m.test(a) ? '\x26shy;' + a : a
              }))
            return b
          }
        b = a.map(b, function (a) {
          return e(a)
        })
        return b.join('')
      }
      var n =
          /(?=[ \-\/])|(?=[\u3105-\u312F])|(?=[\u31A0-\u31BA])|(?=[\u4E00-\u9FD5])|(?=[\u3400-\u4DB5])|(?=[\uF900-\uFAFF])|(?=[\u3040-\u309F])|(?=[\u30A0-\u30FF])|(?=[\u3190-\u319F])/,
        m = /[^\/\-\[\]():\s]/
      d.prototype.truncate = function () {
        var b = a.trim(this.$element.html()),
          f = a.trim(this.$element.text())
        b = k(b, this.$element, n)
        this.$element.append(this.$experimentElement)
        if (this.checkLineFit(b)) this.$experimentElement.remove(), this.$element.html(b)
        else {
          var c = this.truncateByToken(b)
          c
            ? (this.$element.html(c), this.$element.attr({ title: f }))
            : e.log.error('Unable to successfully truncate line ' + b)
          this.$experimentElement.remove()
        }
      }
      d.prototype.getLineHeight = function () {
        var a = this.$element.html()
        this.$element.html('\x26hellip;')
        var f = this.$element.innerHeight()
        this.$element.html(a)
        return f
      }
      d.prototype.checkLineFit = function (a) {
        this.$experimentElement.html(a)
        a = this.$experimentElement.get(0).clientHeight / this.lineHeight
        return g.round(a) <= this.maxRows
      }
      d.prototype.truncateByToken = function (a) {
        a = a.split(n)
        for (var b = 1, c = a.length, d, e, k = 0; b !== c; )
          if (
            ((d = g.floor((c + b) / 2)),
            (e = a.slice(0, d).join('') + '\x26hellip;'),
            this.checkLineFit(e))
          ) {
            if (1 >= c - d) {
              for (k = d; 0 < k && !m.test(a[k - 1]); ) k--
              break
            }
            b = d
          } else c = d
        if (0 !== k) return a.slice(0, k).join('') + '\x26hellip;'
      }
      var c = function () {}
      h.when('A').execute('trigger-linestruncated', function (a) {
        c = function () {
          a.trigger('p13n:linestruncated')
        }
      })
      return {
        truncateLines: function (b) {
          b.find(
            '.p13n-sc-truncate:visible, .p13n-sc-truncate-medium:visible, .p13n-sc-truncate-sky:visible',
          ).each(function () {
            new d(a(this)).truncate()
            a(this)
              .addClass('p13n-sc-truncated')
              .removeClass('p13n-sc-truncate p13n-sc-truncate-medium p13n-sc-truncate-sky')
            a(this).removeClass(function (a, b) {
              return (b.match(/p13n-sc-line-clamp-\d/g) || []).join(' ')
            })
          })
          c()
        },
      }
    },
  )
  h.when('A', 'jQuery', 'p13n-sc-call-on-visible', 'p13n-sc-logger', 'p13n-sp-logging').register(
    'p13n-sc-list-logger',
    function (a, e, g, d, k) {
      a.on('p13n-sc-list-log', function (a, e) {
        d.logAction({ featureElement: a, action: e, replicateAsinImpressions: !0 })
        k.logHiddenSponsoredProducts(a)
      })
    },
  )
  h.when('jQuery', 'A', 'p13n-sc-line-truncator', 'a-carousel-framework', 'p13n-sc-util').register(
    'p13n-sc-carousel',
    function (a, e, g, d, k) {
      function n(a) {
        g.truncateLines(a.carousel.dom.$container)
      }
      function m(a) {
        e.loadDynamicImage(a.carousel.dom.$container.find('.p13n-sc-dynamic-image'))
      }
      function c(b) {
        b = a(b)
        var c = b.find('.a-carousel-viewport'),
          d = 0
        c.find('.a-carousel-card').each(function (b, c) {
          d = Math.max(d, a(c).height())
        })
        0 < d && (c.height(d), b.find('.p13n-sc-sunk-container').addClass('p13n-sc-sunken'))
      }
      var b = function (a, b) {
        var f = k.getCarouselName(b, d)
        f || (f = k.createCarouselName(a, b, d))
        a = d.getCarousel(b).dom.$container
        g.truncateLines(a)
        e.loadDynamicImage(a.find('.p13n-sc-dynamic-image'))
        c(b)
        e.on('a:carousel:' + f + ':change:animating', function (a) {
          n(a)
          m(a)
          !1 === a.newValue && c(b)
        })
        e.on('a:carousel:' + f + ':change:pageSize', function (a) {
          n(a)
          m(a)
          c(b)
        })
        e.on('a:carousel:' + f + ':change:loading', function (a) {
          n(a)
          m(a)
          !1 === a.newValue && c(b)
        })
      }
      h.when('afterReady', 'a-carousel-framework').execute(
        'p13n-sc-carousel-add-truncation',
        function () {
          a('.p13n-sc-carousel').each(b)
        },
      )
      return { initializeElement: b }
    },
  )
  h.when(
    'A',
    'jQuery',
    'a-carousel-framework',
    'p13n-sc-call-on-visible',
    'p13n-sc-logger',
    'p13n-sc-util',
    'p13n-sp-logging',
    'ready',
  ).register('p13n-sc-carousel-logger', function (a, e, g, d, k, h, m) {
    function c(a, b) {
      var c = a.getAttr('pageNumber'),
        d = a.dom.$container,
        f = d
      d.find('.a-carousel-viewport') && (f = d.find('.a-carousel-viewport'))
      d.data('p13nPreviousPage', c)
      k.logAsyncAction(
        e.extend(
          !0,
          {},
          {
            featureElement: d,
            widgetViewport: f,
            isEventComplete: function () {
              return 0 === d.find('.a-carousel-card-empty').size() && !a.getAttr('animating')
            },
            meta: { p: c },
            replicateAsinImpressions: !0,
          },
          b,
        ),
      )
    }
    function b(a) {
      f(a) &&
        d.register(a.dom.$container, function () {
          c(a, { action: 'view' })
          m.logHiddenSponsoredProducts(a.dom.$container)
        })
    }
    var f = function (a) {
      return 'undefined' === typeof a
        ? !1
        : a.dom.$container.data(h.constants.DATA_ATTR_P13N_FEATURE_NAME)
          ? !0
          : !1
    }
    a.each(g.getAllCarousels(), function (a) {
      a.dom.$container.hasClass('a-carousel-initialized') && b(a)
    })
    a.on('a:carousel:init', function (a) {
      b(a.carousel)
    })
    e(document).delegate(
      '.a-carousel-container[data-p13n-feature-name] .a-carousel-goto-nextpage',
      'click',
      function (a) {
        a = g.getCarousel(a.target)
        c(a, { action: 'shovel_right', logOnlyOnNew: !0 })
      },
    )
    e(document).delegate(
      '.a-carousel-container[data-p13n-feature-name] .a-carousel-goto-prevpage',
      'click',
      function (a) {
        a = g.getCarousel(a.target)
        c(a, { action: 'shovel_left', logOnlyOnNew: !0 })
      },
    )
    e(document).delegate(
      '.a-carousel-container[data-p13n-feature-name] .a-carousel-restart',
      'click',
      function (a) {
        a = g.getCarousel(a.target)
        c(a, {
          action: 'start_over',
          logOnlyOnNew: !0,
          meta: { op: a.dom.$container.data('p13nPreviousPage') },
        })
      },
    )
    a.on('a:carousel:change:pageSize', function (a) {
      a = a.carousel
      f(a) &&
        a.dom.$container.hasClass('a-carousel-initialized') &&
        c(a, { action: 'resize', logOnlyOnNew: !0 })
    })
  })
  h.when(
    'p13n-sc-jQuery',
    'p13n-sc-window',
    'p13n-sc-document',
    'p13n-sc-call-on-visible',
    'p13n-sc-logger',
    'p13n-sc-util',
    'p13n-sc-amznJQ-shoveler',
  ).register('p13n-sc-non-aui-carousel', function (a, e, g, d, k, n) {
    var m = function (b) {
        function c() {
          var c = t
          b.find('.p13nimp, .p13n-asin').each(function () {
            var b = a(this).outerHeight(!0)
            b > c && (c = b)
          })
          c > t && ((t = c), h.animate({ height: c }, 200, 'linear'))
          y || d()
        }
        function d() {
          var a = t / 2
          b.find('a.next-button, a.back-button').css('top', a)
          y = !0
        }
        n.count('p13n-sc-non-aui-carousel:init', 1)
        var f = b.attr('data-widgetname'),
          g = a('#' + f + 'Data')
        if (1 !== g.length || b.attr('data-p13n-sc-carousel-initialized')) return !1
        b.attr('data-p13n-sc-carousel-initialized', !0)
        var l = g.text().split(','),
          h = b.find('.shoveler-content \x3e ul'),
          m = 'input#' + f + 'ShvlState',
          q = function () {},
          t = 200,
          y = !1,
          u = b.find('.shoveler').shoveler(
            function (b, c) {
              var d =
                'undefined' !== typeof e.JSON
                  ? JSON.parse(g.attr('data-ajax'))
                  : eval('(' + g.attr('data-ajax') + ')')
              d.asins = l.slice(b, b + c).join(',')
              d.count = c
              d.offset = b
              b = a.param(d)
              return g.attr('data-url') + '?' + b
            },
            l.length,
            {
              cellTransformer: function (a) {
                return null === a ? '' : a
              },
              cellChangeSpeedInMs: 30,
              preloadNextPage: !0,
              prevButtonSelector: 'a.back-button',
              nextButtonSelector: 'a.next-button',
              startOverSelector: 'span.start-over',
              startOverLinkSelector: 'a',
              horizPadding: 14,
              state: {
                ready: function () {
                  return 0 < a(m).val().length
                },
                get: function () {
                  return parseInt(a(m).val(), 10)
                },
                set: function (b) {
                  a(m).val(b)
                },
              },
              onUpdateUIHandler: function () {
                c()
                q()
              },
            },
          ),
          z = 0,
          B = function () {
            var b = a(e).width()
            z !== b && (u.updateUI(), (z = b))
          },
          w = null
        b.resize(function () {
          w && e.clearTimeout(w)
          w = e.setTimeout(B, 100)
        })
        var v = function (c) {
          k.logAsyncAction(
            a.extend(
              !0,
              {},
              {
                featureElement: b,
                isEventComplete: function () {
                  return 0 === b.find('li.shoveler-cell.shoveler-progress').size()
                },
                replicateAsinImpressions: !0,
              },
              c,
            ),
          )
        }
        v({ action: 'view', meta: { p: u.getCurrentPage() + 1 } })
        b.find('.back-button').click(function () {
          v({ action: 'shovel_left', meta: { p: u.getCurrentPage() + 1 } })
        })
        b.find('.next-button').click(function () {
          v({ action: 'shovel_right', meta: { p: u.getCurrentPage() + 1 } })
        })
        b.find('.start-over-link').mousedown(function () {
          v({ action: 'start_over', meta: { p: 1, op: u.getCurrentPage() + 1 } })
        })
        q = function () {
          k.eventPending(b) ||
            v({
              action: 'resize',
              page: u.getCurrentPage() + 1,
              logOnlyOnNew: !0,
              initialDelay: 2e3,
            })
        }
      },
      c = function (b) {
        var c = { distanceY: -250, distanceX: 0 }
        a(b)
          .find('.p13n-sc-nonAUI-carousel')
          .andSelf()
          .filter('.p13n-sc-nonAUI-carousel')
          .each(function (b, f) {
            d.register(
              f,
              function () {
                m(a(f))
              },
              c,
            )
          })
      },
      b = function () {
        c(g)
      }
    b()
    h.when('p13n-sc-ready').execute('p13n-sc-non-aui-carousel:readyInit', b)
    return { init: c }
  })
  h.when('p13n-sc-jQuery', 'p13n-sc-util').execute(
    'p13n-sc-carousel-initialization-setup',
    function (a, e) {
      e.isAUI()
        ? h.when('a-carousel-framework').register('p13n-sc-carousel-init', function (a) {
            return {
              init: function () {
                a.createAll()
              },
            }
          })
        : h.when('p13n-sc-non-aui-carousel').register('p13n-sc-carousel-init', function (a) {
            return {
              init: function (d) {
                a.init(d)
              },
            }
          })
    },
  )
  h.when(
    'jQuery',
    'A',
    'p13n-sc-call-on-visible',
    'p13n-sc-lazy-image-loader',
    'p13n-sc-line-truncator',
    'p13n-sc-list-logger',
  ).register('p13n-sc-static-list', function (a, e, g, d, k) {
    function n(e) {
      this.$container = a(e)
      d.loadImages(this.$container)
      k.truncateLines(this.$container)
    }
    h.when('afterReady').execute('p13n-sc-static-list:init', function () {
      function d(a) {
        g.register(
          a,
          function () {
            var b = new n(a)
            e.trigger('p13n-sc-list-log', b.$container, 'view')
          },
          c,
        )
      }
      var c = { distanceY: -500, distanceX: 0 }
      a('.p13n-sc-static-list').each(function (a, c) {
        d(c)
      })
    })
    return n
  })
  h.when('A', 'jQuery', 'p13n-sc-util').execute('updateDpLink', function (a, e, g) {
    var d = /([?&]preST=)([^&]*)/
    a.on('a:image:load:p13nImage', function (a) {
      var k = a.$imageElement[0]
      if (
        'undefined' !== typeof k &&
        (g.count('p13n:dynImgCallback', (g.count('p13n:dynImgCallback') || 0) + 1),
        (k = e(k).closest('a')),
        0 < k.length)
      ) {
        var h = e(k).attr('href'),
          c = h.match(d)
        a = a.url.split('/').pop().split('.')
        e.isArray(a) &&
          3 === a.length &&
          ((a = encodeURIComponent(a[1])),
          null !== c &&
            e.isArray(c) &&
            3 === c.length &&
            c[2] !== a &&
            ((a = h.replace(d, '$1' + a)), e(k).attr('href', a)))
      }
    })
  })
  h.when('fresh-add-to-cart', 'a-carousel-framework').execute(function (a, e) {
    a.attachCallbacks({
      success: function (a, d) {
        ;(d = a.$target.parents('.p13n-asin').find('.s-add-to-cart-badge-position')) &&
          d.removeClass('aok-hidden')
        if (
          (d = a.$declarativeParent.parents('.p13n-sc-carousel')) &&
          d.data() &&
          d.data('a-carousel-options') &&
          d.data('a-carousel-options').name &&
          ((d = d.data('a-carousel-options').name), (d = e.getCarouselByName(d)), null !== d)
        ) {
          var g = d.getAttr('fetchedItems')
          a = a.data.position - 1
          0 <= a && ((g[a] = g[a].replace('aok-hidden', '')), d.setAttr('fetchedItems', g))
        }
      },
      error: function (a, d, e, h) {
        a.$target.parents('.p13n-asin').find('.s-add-to-cart-badge-position').addClass('aok-hidden')
      },
      clientID: 'p13n',
    })
  })
  h.when('A', 'p13n-sc-heartbeat', 'a-carousel-framework', 'p13n-sc-util').execute(
    'p13n-sc-carousel-resize-detector',
    function (a, e, g, d) {
      var k = a.$
      e.subscribe(
        'p13n-sc-carousel-resize-detector',
        a.throttle(function () {
          for (var a = k('.p13n-sc-carousel'), e = a.length - 1; 0 <= e; e--) {
            var c = k(a[e]),
              b = c.width()
            if (b) {
              var f = c.data('previous-width')
              c.data('previous-width', b)
              f &&
                b !== f &&
                (d.count('p13n:carousel:resize', (d.count('p13n:carousel:resize') || 0) + 1),
                (c = g.getCarousel(c)) && c.resize())
            }
          }
        }, 500),
      )
    },
  )
  h.when('A', 'p13n-sc-jQuery', 'a-modal').execute(
    'desktop-carousel-add-to-list',
    function (a, e, g) {
      a.declarative('p13n-sc-atl', 'click', function (d) {
        function e() {
          var a = d.data.modalFailureMsg
          h.find('.p13n-sc-atl-in-progress').hide()
          b.show()
          g.create(c, { name: 'p13n-sc-failure-modal', content: a, width: 400 }).show()
        }
        var h = d.$declarativeParent.parents('.p13n-asin'),
          m = d.data.spinnerHTML,
          c = h.find('.p13n-sc-atl-alert-row'),
          b = h.find('.p13n-sc-atl-button')
        b.hide()
        c.html(m)
        g.remove(c)
        a.post(d.data.addToListURL, {
          success: function (a) {
            var b = d.data.inlineSuccessHTML,
              f = d.data.viewListText,
              g = a.listName,
              k = a.listExternalId
            !a.hasError && g && k
              ? (h.find('.p13n-sc-atl-in-progress').hide(),
                c.html(b),
                13 < g.length && (g = g.substring(0, 10).concat('...')),
                (a = h.find('.p13n-sc-atl-link')),
                a.attr('href', '/hz/wishlist/ls/'.concat(k).concat('/ref\x3dsc-atl-lists')),
                a.attr('title', f),
                a.attr('alt', f),
                a.text(g))
              : a.hasError && 'INVALID_SESSION_ID' === a.error
                ? (q.location.href = a.loginUrl)
                : e()
          },
          error: e,
          params: d.data.listArgs,
        })
      })
    },
  )
})
/* ******** */
;(function (f) {
  var c = window.AmazonUIPageJS || window.P,
    d = c._namespace || c.attributeErrors,
    b = d ? d('RecentHistoryFooterJS', '') : c
  b.guardFatal
    ? b.guardFatal(f)(b, window)
    : b.execute(function () {
        f(b, window)
      })
})(function (f, c, d) {
  f.when('jQuery', 'ready').execute(function (b) {
    function f(a, e, c) {
      var d = c && 'undefined' !== typeof c.distance ? c.distance : 0
      b(a).each(function () {
        g = { $element: b(this), callback: e, distanceY: d }
      })
      y()
    }
    function y() {
      l ||
        (l = t =
          c.setInterval(function () {
            var a = t
            if (a !== l) c.clearInterval(a)
            else {
              var e = new Date().getTime()
              if (!m || 200 < e - m) {
                e = b(c)
                e = e.scrollTop() + e.height()
                var f = g.callback,
                  h = g.distanceY,
                  k = g.$element.offset()
                e - h > k.top && (f.call(null, g.$element[0]), (g = d))
              }
              g || (c.clearInterval(a), (l = d))
              m = new Date().getTime()
            }
          }, 200))
    }
    function h(a, b) {
      c.ue && 'function' === typeof c.ue.count && c.ue.count(a, b)
    }
    function z() {
      k = new Date()
      var a = n.rhfHandlerParams
      a.cardJSPresent = c.mix_d !== d
      a.cardJSPresent &&
        (p || u.show(),
        (a = b.param(a)),
        b.ajax({ url: '/hz/rhf?' + a, timeout: 5e3, type: 'GET', success: A, error: v }))
    }
    function A(a) {
      q = new Date()
      a && a.success && 'object' === typeof a && 'string' === typeof a.html ? r.html(a.html) : v()
      k && q && h('p13n:rhf:renderingLatency', q.getTime() - k.getTime())
      p = !0
    }
    function v() {
      p || (r.hide(), w.show())
    }
    var p = !1,
      k,
      q,
      g,
      l,
      m,
      t
    var n = (function (a) {
      try {
        return 'undefined' === typeof b.parseJSON ? eval('(' + a + ')') : b.parseJSON(a)
      } catch (e) {
        return d
      }
    })(b('#rhf-context script').html())
    var r = b('#rhf-container')
    var w = b('#rhf-error')
    var u = b('.rhf-frame')
    var x = b('#rhf')
    ;(function () {
      if ('object' !== typeof n || null === n) return h('p13n:rhf:invalidPage', 1), !1
      for (var a = [r, w, u, x], b = 0; b < a.length; b++) {
        var c = a[b]
        if ('undefined' === typeof c || 'undefined' === typeof c.size || 0 === c.size())
          return h('p13n:rhf:expectedElementsMissing', 1), !1
      }
      return !0
    })() && f(x, z, { distance: -400 })
  })
})
/* ******** */
;(function (c) {
  var a = window.AmazonUIPageJS || window.P,
    d = a._namespace || a.attributeErrors,
    b = d ? d('InternationalCustomerPreferencesNavAssets', '') : a
  b.guardFatal
    ? b.guardFatal(c)(b, window)
    : b.execute(function () {
        c(b, window)
      })
})(function (c, a, d) {
  a.$Nav &&
    new MutationObserver(function (b, c) {
      a.google && a.google.translate && (ue && ue.count('googleTranslation', 1), c.disconnect())
    }).observe(document, { attributes: !0, childList: !0, subtree: !0 })
})
/* ******** */
;(function (l) {
  var a = window.AmazonUIPageJS || window.P,
    m = a._namespace || a.attributeErrors,
    b = m ? m('InternationalCustomerPreferencesNavDesktopAssets', '') : a
  b.guardFatal
    ? b.guardFatal(l)(b, window)
    : b.execute(function () {
        l(b, window)
      })
})(function (l, a, m) {
  a.$Nav &&
    a.$Nav.when('$').run('icp.main', function (b) {
      function g(c, a) {
        if ((c = b(a).attr('href')))
          (c = c.replace('preferencesReturnUrl\x3d%2F', 'preferencesReturnUrl\x3d' + f)),
            b(a).attr('href', c)
      }
      var f = encodeURIComponent(a.location.pathname + a.location.search)
      b('#icp-nav-dialog, #icp-nav-flyout').each(g)
      b('#icp-touch-link-language, #icp-touch-link-country, #icp-touch-link-cop').each(g)
      b('*[id*\x3dicp-flyout-mkt-change]').each(g)
      a.$Nav.when('$', 'page.loaded').run('icp.latency_exp', function (a) {
        if (a('#icp-country-button-experiment').length) {
          var b = a('#icp-country-button-experiment').html(),
            c = a('#icp-country-button-experiment-url').html()
          c = c.replace('preferencesReturnUrl\x3d%2F', 'preferencesReturnUrl\x3d' + f)
          b =
            '\x3ca href\x3d"' +
            c +
            '" class\x3d"icp-button a-declarative" id\x3d"icp-touch-link-country"\x3e \x3cspan class\x3d"icp-flag-3 icp-flag-3-jp"\x3e\x3c/span\x3e\x3cspan class\x3d"icp-color-base"\x3e' +
            b +
            '\x3c/span\x3e \x3c/a\x3e'
          a('#icp-country-button-experiment').replaceWith(a(b))
          a('#icp-country-button-experiment-url').remove()
        }
      })
    })
  l = {
    flyoutDataEndpoint: '/customer-preferences/api/flyout/xop-and-country',
    saveSettingsEndpoint: '/customer-preferences/api/xop',
  }
  ;('use strict')
  a.$Nav &&
    (a.$Nav
      .when(
        '$',
        'data',
        'flyouts.create',
        'flyouts.accessibility',
        'flyout.icp.language.endpointConfig',
        'flyout.icp.language.saveLanguageAndReloadPage',
      )
      .build('flyout.icp.language.builder', function (b, g, f, c, e, l) {
        var t = e || {},
          p = (function () {
            return {
              extractLanguage: function (a) {
                var b = (a || '').indexOf('#switch-lang\x3d')
                return -1 === b ? '' : a.substr(b + 13)
              },
              insertLanguage: function (a) {
                return '#switch-lang\x3d' + a
              },
            }
          })(),
          q,
          r
        g.observe('data', function (b) {
          b = b || {}
          var c = b.languages,
            d = (b.languages && b.languages.strings) || {},
            f = b.inputs || {},
            k = d.disclaimer || {},
            e = []
          if (c !== m && c.all !== m && 1 < c.all.length) {
            var h = c.strings
            b.cop &&
              h &&
              e.push({
                text:
                  h.changeText +
                  (h.helpLinkText
                    ? ' \x3ca href\x3d"' +
                      h.helpLinkHref +
                      '" class\x3d"icp-flyout-learn-more" aria-label\x3d"' +
                      h.helpLinkAriaText +
                      '"\x3e' +
                      h.helpLinkText +
                      '\x3c/a\x3e'
                    : ''),
              })
            for (h = 0; h < c.all.length; h++) {
              var n = c.all[h]
              var l = n.current
                  ? '\x3ci class\x3d"icp-radio icp-radio-active"\x3e\x3c/i\x3e'
                  : '\x3ci class\x3d"icp-radio"\x3e\x3c/i\x3e',
                u = p.insertLanguage(n.code)
              n = { text: l + n.name, url: u }
              1 === h && ((n.dividerBefore = !c.localeDividerHidden), (r = !0))
              e.push(n)
            }
          }
          k.text
            ? (q =
                '\x3cdiv class\x3d"icp-flyout-bottom"\x3e\x3cdiv class\x3d"icp-flyout-disclaimer"\x3e' +
                k.text +
                '\x3c/div\x3e\x3c/div\x3e')
            : !b.cop &&
              d.helpLinkHref &&
              d.helpLinkText &&
              e.push({
                text:
                  '\x3cdiv class\x3d"icp-helplink" aria-label\x3d"' +
                  d.helpLinkAriaText +
                  '"\x3e' +
                  d.helpLinkText +
                  '\x3c/div\x3e',
                url: d.helpLinkHref,
              })
          b.cop &&
            b.currency &&
            ((d = b.currency),
            d.strings &&
              ((d = d.strings),
              e.push({
                text:
                  d.changeText +
                  (d.helpLinkText
                    ? ' \x3ca href\x3d"' +
                      d.helpLinkHref +
                      '" class\x3d"icp-flyout-learn-more" aria-label\x3d"' +
                      d.helpLinkAriaText +
                      '"\x3e' +
                      d.helpLinkText +
                      '\x3c/a\x3e'
                    : ''),
                dividerBefore: c !== m && c.all !== m && 1 < c.all.length,
              }),
              (k = '\x3cspan\x3e' + d.currencyName + '\x3c/span\x3e'),
              (h = encodeURIComponent(a.location.pathname + a.location.search)),
              (k +=
                '\x3ca href\x3d"' +
                d.changeHref.replace('%s', h) +
                '" class\x3d"icp-flyout-change"\x3e' +
                d.changeShortText +
                '\x3c/a\x3e'),
              e.push({ text: k })))
          b.marketplace &&
            ((d = b.marketplace),
            (k = d.strings),
            d.country &&
              k.text &&
              (e.push({
                text:
                  '\x3ci class\x3d"icp-flyout-flag icp-flyout-flag-' +
                  d.country +
                  '"\x3e\x3c/i\x3e' +
                  k.text,
                dividerBefore: c !== m || (b.cop && b.currency !== m),
              }),
              d.href &&
                k.link &&
                e.push({
                  text: '\x3cdiv class\x3d"icp-mkt-change-lnk"\x3e' + k.link + '\x3c/div\x3e',
                  url: d.href,
                  id: 'icp-flyout-mkt-change',
                })))
          g({ icpContent: { template: { name: 'itemList', data: { items: e, inputs: f } } } })
        })
        return function (a) {
          a = a || {}
          var c = f({
            key: a.name,
            panelDataKey: 'icpContent',
            link: a.target,
            event: 'icp',
            arrow: 'top',
            cover: a.isCoverEnabled,
          })
          c.getPanel().onData(function (d) {
            q && !c.elem().find('.icp-flyout-bottom').length && c.elem().append(q)
            var e = c.elem().find('.nav-divider'),
              f = r ? 1 : 0
            if (e.length > 1 + f)
              for (; f <= e.length; f++) {
                var g = e.eq(f)
                g.addClass('icp-flyout-curr-divider')
                a.isHeader || (g.hide(), g.nextAll().hide())
              }
            var h = a.isHeader ? 'tn' : 'fo'
            c.elem()
              .find('a[href*\x3d"#switch-lang"]')
              .each(function (a, c) {
                var e = b(c)
                a = p.extractLanguage(e.attr('href'))
                e.attr('lang', a.replace('_', '-'))
                0 < e.find('span:has(i.icp-radio-active)').length && e.attr('aria-current', 'true')
                e.click(function (a) {
                  a.preventDefault()
                  a = p.extractLanguage(e.attr('href'))
                  var c = 'icp_lop_' + a.replace('_', '-') + '_' + h
                  l(b, t.saveSettingsEndpoint + '?ref_\x3d' + c, a, d.template.data.inputs.token)
                })
              })
          })
          return c
        }
      }),
    a.$Nav
      .when('provider.ajax', 'util.Proximity', 'flyout.icp.language.endpointConfig')
      .build('flyout.icp.language.ajax', function (a, g, f) {
        var b = a({ url: f && f.flyoutDataEndpoint, data: { icpContent: 'icp' } }).boundFetch()
        return function (a) {
          a.onShow(b)
          a.link.focus(b)
          g.onEnter(a.link, [20, 40, 40, 40], b)
        }
      }),
    a.$Nav.declare && a.$Nav.declare('flyout.icp.language.endpointConfig', l),
    a.$Nav
      .when('$', 'flyout.icp.language.builder', 'flyout.icp.language.ajax', 'config', 'page.loaded')
      .run('flyout.icp.language', function (a, g, f, c) {
        var b = a('#icp-nav-flyout')
        c = !c.primeDay
        1 === b.length && f(g({ name: 'icp', target: b, isHeader: !0, isCoverEnabled: c }))
        a = a('#icp-touch-link-language')
        1 === a.find('.icp-up-down-arrow').length &&
          f(g({ name: 'icp-footer-flyout', target: a, isHeader: !1 }))
      }))
  a.$Nav.declare &&
    a.$Nav.declare('flyout.icp.language.saveLanguageAndReloadPage', function (b, g, f, c) {
      b.ajax({
        url: g,
        type: 'POST',
        contentType: 'application/json; charset\x3dUTF-8',
        data: JSON.stringify({ lop: f }),
        headers: { 'anti-csrftoken-a2z': c },
        success: function (b) {
          b = new URLSearchParams(a.location.search)
          b.set('language', f)
          a.location.search = b.toString()
        },
      })
    })
})
/* ******** */
;(function (l) {
  var m = window.AmazonUIPageJS || window.P,
    v = m._namespace || m.attributeErrors,
    b = v ? v('GLUXAssets', '') : m
  b.guardFatal
    ? b.guardFatal(l)(b, window)
    : b.execute(function () {
        l(b, window)
      })
})(function (l, m, v) {
  l.when(
    'A',
    'GLUXConfig',
    'GLUXWidget',
    'GLUXWidgetController',
    'GLUXRegionData',
    'LocationTypes',
    'GLUXMetrics',
    'GLUXWeblabUtil',
    'GLUXCartConflict',
    'addressChangeConstants',
    'GLUXCartConflictUtil',
  ).register('GLUXActionHandler', function (b, k, a, d, c, h, f, e, u, q, n) {
    var t = e.doesWeblabMatchTreatment('PACKARD_GLOBAL_DESKTOP_124721', e.TREATMENTS.T1),
      y = e.doesWeblabMatchTreatment('DEX_GLOW_A11Y_POSTAL_CODE_SECTION_1055948', e.TREATMENTS.T1),
      w = e.doesWeblabMatchTreatment('DEX_GLOW_A11Y_CHOOSE_ADDRESS_1104000', e.TREATMENTS.T1),
      z = b.$('#' + a.IDs.ADDRESS_LIST + ' li').length,
      J = b.$('#' + a.IDs.ADDRESS_LIST_DELIVERY + ' li').length,
      x = b.$('#' + a.IDs.ADDRESS_LIST_PICKUP + ' li').length,
      r = a.INITIAL_DISPLAY_ADDRESS_INDEX && t ? a.INITIAL_DISPLAY_ADDRESS_INDEX : 4,
      C = r,
      D = r,
      K = r,
      G = k.ADDRESS_BOOK_URL,
      H = q.ENDPOINT,
      L = k.SIGNIN_URL,
      E = 'input[id^\x3d' + a.IDs.ZIP_UPDATE_INPUT + ']',
      F = function (a, d, c, f) {
        b.$('#' + a + ' li').show()
        c = f - 1
        b.$('#' + d).hide()
        return c
      },
      A = function (a, d) {
        b.$('#' + a).show()
        b.$('[id\x3d' + d + ']').hide()
      },
      p = function (g, c, f) {
        if (c === h.TYPE_ADDRESS_ID) {
          var I = !1
          l.now('GLUXExternalConfig').execute('updateDestinationHandler', function (a) {
            a !== v &&
              a.updateDestinationHandler &&
              (a.updateDestinationHandler(addressID), (I = !0))
          })
          if (I) return
        }
        l.now('packardGlowStoreName').execute('setStoreContext', function (a) {
          a && (g.storeContext = a)
        })
        g.deviceType = 'web'
        g.pageType = m.ue_pty
        g.actionSource = 'glow'
        g.almBrandId = n.getAlmBrandId()
        d.resetErrors()
        var e = c === h.TYPE_ADDRESS_ID && 'FRESH_PICKUP' === f
        b.post(H, {
          headers: { 'anti-csrftoken-a2z': a ? a.CSRF_TOKEN : '', 'Content-Type': q.CONTENT_TYPE },
          params: g,
          paramsFormat: q.PARAMS_FORMAT,
          success: function (a) {
            d.handleLocationUpdateResponse(a.sembuUpdated, a.isTransitOutOfAis, c, g, e)
          },
          error: function (a) {
            d.handleLocationUpdateResponseError(g, e)
          },
        })
      },
      M = function (a) {
        return function (b, g) {
          return p(b, g, a)
        }
      },
      B = function (a) {
        return a.replace(/[^A-Za-z0-9\- ]/g, '')
      },
      N = function () {
        ;[a.IDs.ADDRESS_LIST, a.IDs.ADDRESS_LIST_DELIVERY, a.IDs.ADDRESS_LIST_PICKUP].forEach(
          function (a) {
            b.$('#' + a)
              .find('.a-button-selected input')
              .each(function () {
                this.setAttribute('disabled', 'disabled')
              })
          },
        )
      },
      O = function () {
        ;[a.IDs.ADDRESS_LIST, a.IDs.ADDRESS_LIST_DELIVERY, a.IDs.ADDRESS_LIST_PICKUP].forEach(
          function (a) {
            b.$('#' + a)
              .find('.a-button-selected input')
              .each(function () {
                this.setAttribute('readonly', 'readonly')
                this.setAttribute('aria-pressed', 'true')
              })
          },
        )
      }
    b.on('a:button-group:GLUXAddresses:toggle', function (g) {
      g = g.selectedButton.buttonName
      var c = g.split(':')[0],
        f = g.split(':')[1]
      g = b.$('input[name\x3d"' + String(g) + '"]')
      var e = g.attr('deliverydestinationtype')
      if ((!w || 'readonly' !== g.attr('readonly')) && 'MANAGE_ADDRESS' !== c) {
        d.resetAddressRowState()
        if (t || y) w ? O() : N()
        var r = h.TYPE_ACCOUNT_ADDRESS
        0 === parseInt(f, 10) &&
          b.$('#' + a.IDs.DEAFULT_ADDRESS_TEXT).length &&
          (r = h.TYPE_DEFAULT_ADDRESS)
        c = {
          locationType: r,
          addressId: c,
          totalCustomerAddresses: z,
          selectedAddressIndex: f,
          almBrandId: n.getAlmBrandId(),
          storeRegionId: g.attr('storeregionid'),
          deviceType: 'web',
        }
        u.reset()
        d.clearPostalSelection()
        d.clearCountrySelection()
        d.clearCitySelection()
        f = g.next().html()
        b.$('#' + a.IDs.ADDRESS_SUCCESS_PLACEHOLDER).html(f)
        g.blur()
        c.almBrandId && c.storeRegionId
          ? n.checkForCartConflict(c, h.TYPE_ADDRESS_ID, M(e), d.hideWidget)
          : p(c, h.TYPE_ADDRESS_ID, e)
      }
    })
    b.on('a:dropdown:GLUXCityList:select', function (g) {
      g = g.value
      var c = b.$('#' + a.IDs.CITY_VALUE).text(),
        f = {
          locationType: h.TYPE_CITY,
          city: g,
          cityName: c,
          almBrandId: n.getAlmBrandId(),
          deviceType: 'web',
        }
      u.reset()
      d.clearAddressSelection()
      d.clearAndReselectCityDropdown(g)
      d.clearPostalSelection()
      d.clearCountrySelection()
      b.$('#' + a.IDs.ADDRESS_SUCCESS_PLACEHOLDER).html(c)
      f.almBrandId && n.unrecCartConflictWeblabEnabled
        ? n.checkForCartConflict(f, h.TYPE_CITY, p, d.hideWidget)
        : p(f, h.TYPE_CITY)
    })
    b.on('a:dropdown:GLUXCountryList:select', function (g) {
      g = g.value
      var f = b.$('#' + a.IDs.COUNTRY_VALUE).text(),
        e
      2 < g.length
        ? (e = c.mapRegionCodeToLocationData(g)) ||
          (e = { locationType: h.TYPE_REGION, addressLabel: g, countryCode: a.COUNTRY_CODE })
        : (e = { locationType: h.TYPE_COUNTRY, district: g, countryCode: g })
      e.almBrandId = n.getAlmBrandId()
      e.deviceType = 'web'
      u.reset()
      d.clearPostalSelection()
      d.clearAddressSelection()
      d.clearAndReselectCountryDropdown(g)
      b.$('#' + a.IDs.ADDRESS_SUCCESS_PLACEHOLDER).html(f)
      e.almBrandId && n.unrecCartConflictWeblabEnabled
        ? n.checkForCartConflict(e, h.TYPE_COUNTRY, p, d.hideWidget)
        : p(e, h.TYPE_COUNTRY)
    })
    b.declarative(a.ACTIONS.MOBILE_BACK, 'click touchstart', function () {
      d.restoreWidget(!0)
    })
    b.declarative(a.ACTIONS.MOBILE_CLOSE, 'click touchstart', function () {
      d.hideWidget()
      f.logEvent(f.getEvents().view.close)
    })
    b.declarative(a.ACTIONS.DELIVERY_TAB, 'click', function () {
      A(a.IDs.LINKS_DELIVERY, a.IDs.LINKS_PICKUP)
      f.logEvent(f.getEvents().click.tabChangeDelivery)
    })
    b.declarative(a.ACTIONS.DELIVERY_TAB, 'keyup', function (b) {
      13 === b.$event.which &&
        (A(a.IDs.LINKS_DELIVERY, a.IDs.LINKS_PICKUP),
        f.logEvent(f.getEvents().click.tabChangeDelivery))
    })
    b.declarative(a.ACTIONS.PICKUP_TAB, 'click', function () {
      A(a.IDs.LINKS_PICKUP, a.IDs.LINKS_DELIVERY)
      f.logEvent(f.getEvents().click.tabChangePickup)
    })
    b.declarative(a.ACTIONS.PICKUP_TAB, 'keyup', function (b) {
      13 === b.$event.which &&
        (A(a.IDs.LINKS_PICKUP, a.IDs.LINKS_DELIVERY),
        f.logEvent(f.getEvents().click.tabChangePickup))
    })
    b.declarative(a.ACTIONS.MORE_LINK, 'click', function () {
      r = F(a.IDs.ADDRESS_LIST, a.IDs.MORE_LINK, r, z)
      f.logEvent(f.getEvents().click.seeMore)
    })
    b.declarative(a.ACTIONS.MORE_LINK, 'keyup', function (g) {
      13 === g.$event.which && b.$('#' + a.IDs.MORE_LINK).click()
    })
    b.declarative(a.ACTIONS.MORE_LINK_DELIVERY, 'click', function () {
      C = F(a.IDs.ADDRESS_LIST_DELIVERY, a.IDs.MORE_LINK_DELIVERY, C, J)
      f.logEvent(f.getEvents().click.seeMoreDelivery)
    })
    b.declarative(a.ACTIONS.MORE_LINK_DELIVERY, 'keyup', function (g) {
      13 === g.$event.which && b.$('#' + a.IDs.MORE_LINK_DELIVERY).click()
    })
    b.declarative(a.ACTIONS.MORE_LINK_PICKUP, 'click', function () {
      D = F(a.IDs.ADDRESS_LIST_PICKUP, a.IDs.MORE_LINK_PICKUP, D, x)
      f.logEvent(f.getEvents().click.seeMorePickup)
    })
    b.declarative(a.ACTIONS.MORE_LINK_PICKUP, 'keyup', function (g) {
      13 === g.$event.which && b.$('#' + a.IDs.MORE_LINK_PICKUP).click()
    })
    b.declarative(a.ACTIONS.MANAGE_ADDRESS_BOOK_LINK, 'click touchstart', function () {
      m.location.href = G
      f.logEvent(f.getEvents().click.manageAddressBook)
    })
    b.declarative(a.ACTIONS.MANAGE_ADDRESS_BOOK_LINK, 'keyup', function (a) {
      13 === a.$event.which &&
        ((m.location.href = G), f.logEvent(f.getEvents().click.manageAddressBook))
    })
    b.declarative(a.ACTIONS.SPECIFY_LOCATION_LINK, 'click', function () {
      A(a.IDs.SPECIFY_LOCATION_DIV, a.IDs.SPECIFY_LOCATION_LINK)
      f.logEvent(f.getEvents().click.showSpecifyLocation)
    })
    b.declarative(a.ACTIONS.SPECIFY_LOCATION_LINK, 'keyup', function (g) {
      13 === g.$event.which && b.$('#' + a.IDs.SPECIFY_LOCATION_LINK).click()
    })
    b.declarative(a.ACTIONS.POSTAL_UPDATE, 'click touchstart', function () {
      var g = b.$(E)
      if (2 === g.length) {
        var c = []
        for (var f = 0; f < g.length; f++) {
          var e = B(b.$(g[f]).val().toUpperCase())
          c.push(e)
          b.$(g[f]).attr('value', e)
        }
        g = B(b.$('#' + a.IDs.ZIP_DELIMITER).text() || '')
        c = c.join(g)
      } else
        (c = B(b.$('#' + a.IDs.ZIP_UPDATE_INPUT).val())),
          b.$('#' + a.IDs.ZIP_UPDATE_INPUT).attr('value', c)
      u.reset()
      d.clearAddressSelection()
      d.clearCountrySelection()
      b.$('#' + a.IDs.ADDRESS_SUCCESS_PLACEHOLDER).html(c)
      ;(t || y) && b.$('#' + a.IDs.ZIP_CONFIRMATION_VALUE).html(c)
      c = {
        locationType: h.TYPE_LOCATION_INPUT,
        zipCode: c,
        almBrandId: n.getAlmBrandId(),
        deviceType: 'web',
      }
      c.almBrandId && n.unrecCartConflictWeblabEnabled
        ? n.checkForCartConflict(c, h.TYPE_POSTAL_CODE, p, d.hideWidget)
        : p(c, h.TYPE_POSTAL_CODE)
    })
    b.declarative(a.ACTIONS.POSTAL_INPUT, 'keyup', function (c) {
      var d = b.$(E)
      if (13 === c.$event.which)
        b
          .$('#' + a.IDs.ZIP_BUTTON)
          .find('input')
          .click(),
          f.logEvent(f.getEvents().click.keypressEnterPostal)
      else if (2 === d.length) {
        var g = b.$(d[0]),
          e = b.$(d[1])
        c = c.$event.which
        String.fromCharCode(c).match(/\w/)
          ? ((d = b.$(E)),
            2 === d.length &&
              ((c = parseInt(g.attr('maxlength'), 10)), (g = g.val().length), c === g && e.focus()))
          : 8 === c && 0 === e.val().length && g.focus()
      }
    })
    b.declarative(a.ACTIONS.MOBILE_COUNTRY_SELECT, 'click', function (a) {
      var b = a.data.value
      b = {
        locationType: h.TYPE_COUNTRY,
        district: b,
        countryCode: b,
        almBrandId: n.getAlmBrandId(),
        deviceType: 'web',
      }
      a.$currentTarget.addClass('a-active')
      d.clearPostalSelection()
      u.reset()
      d.clearAddressSelection()
      d.clearAndReselectCountryDropdown(a)
      b.almBrandId && n.unrecCartConflictWeblabEnabled
        ? n.checkForCartConflict(b, h.TYPE_COUNTRY, p, d.hideWidget)
        : p(b, h.TYPE_COUNTRY)
    })
    b.on('a:popover:beforeHide:glow-modal', function () {
      b.$('#a-page')[0].inert = !1
      d.restoreWidget()
      f.logEvent(f.getEvents().view.close)
      C = D = r = K
      u.substitute()
    })
    b.declarative(a.ACTIONS.MOBILE_CITY_SELECT, 'click', function (a) {
      var b = {
        locationType: h.TYPE_CITY,
        city: a.data.value,
        cityName: a.data.name,
        almBrandId: n.getAlmBrandId(),
        deviceType: 'web',
      }
      a.$currentTarget.addClass('a-active')
      u.reset()
      d.clearAddressSelection()
      d.clearAndReselectCityDropdown(a)
      d.clearPostalSelection()
      d.clearCountrySelection()
      b.almBrandId && n.unrecCartConflictWeblabEnabled
        ? n.checkForCartConflict(b, h.TYPE_CITY, p, d.hideWidget)
        : p(b, h.TYPE_CITY)
    })
    b.declarative(a.IDs.MOBILE_CITY_LINK, 'touchend', function (a) {
      a.$event.stopPropagation()
      a.$event.preventDefault()
      d.showCitySelection()
      f.logEvent(f.getEvents().click.citySelector)
    })
    b.declarative(a.IDs.MOBILE_POSTAL_CODE_LINK, 'touchend', function (a) {
      a.$event.stopPropagation()
      a.$event.preventDefault()
      d.showZipCodeInput()
      f.logEvent(f.getEvents().click.postalInput)
    })
    b.declarative(a.IDs.MOBILE_COUNTRY_LINK, 'touchend', function (a) {
      a.$event.stopPropagation()
      a.$event.preventDefault()
      d.showCountrySelection()
      f.logEvent(f.getEvents().click.countrySelector)
    })
    b.declarative(a.ACTIONS.SIGNIN, 'click touchstart', function () {
      var a = L + m.location.pathname,
        b = m.ue_pty
      if ('Search' === b || 'Detail' === b || 'FreshMerchandisedContent' === b || 'Landing' === b)
        a += m.location.search
      m.location.href = encodeURI(a)
      f.logEvent(f.getEvents().click.signIn)
    })
    b.declarative(a.ACTIONS.CHANGE_POSTAL_CODE_LINK, 'click', function () {
      d.replacePostalCodeConfirmationWithInput()
      f.logEvent(f.getEvents().click.changePostalCodeFromConfirm)
    })
    b.declarative(a.ACTIONS.CHANGE_POSTAL_CODE_LINK, 'keyup', function (c) {
      13 === c.$event.which && b.$('#' + a.IDs.CHANGE_POSTAL_CODE_LINK).click()
    })
    return { STATIC_DEVICE_TYPE: 'web', updateDestination: p, sanitize: B }
  })
  l.when('A').register('addressChangeConstants', function (b) {
    return {
      ENDPOINT: '/portal-migration/hz/glow/address-change?actionSource\x3dglow',
      PARAMS_FORMAT: 'json',
      CONTENT_TYPE: 'application/json',
    }
  })
  ;('use strict')
  l.register('GLUXConfig', function () {
    return {
      SIGNIN_URL:
        '/gp/sign-in.html?ie\x3dUTF8\x26useRedirectOnSuccess\x3d1\x26ref_\x3ddex_glow_signin\x26path\x3d',
      ADDRESS_BOOK_URL: '/a/addresses',
      POSTAL_CODE_TO_CITY_LOOKUP_BASE_URL: '/gp/glow/lookup-zipcode.html?',
    }
  })
  l.when('A').execute(function (b) {
    b.on('a:popover:ajaxSuccess:glow-modal', function (b) {
      var a = b.popover
      l.when('A', 'a-modal', 'GLUXWidget').execute('gluxWidgetInit', function (b, c, h) {
        a.isActive() &&
          1 == a.$container.length &&
          ((b.$('#a-page')[0].inert = !0),
          (b = a.$container[0].getElementsByClassName('a-popover-header-content')),
          1 == b.length && (b = b[0]) && h.GLOW_TITLE && (b.innerText = h.GLOW_TITLE))
      })
    })
  })
  l.when(
    'A',
    'a-modal',
    'GLUXWidget',
    'GLUXRefreshController',
    'GLUXMetrics',
    'GLUXWeblabUtil',
    'LocationTypes',
    'GLUXCartConflict',
  ).register('GLUXWidgetController', function (b, k, a, d, c, h, f, e) {
    function m() {
      var a = b.$('#nav-global-location-slot')
      ;(a = k.get(a)) && a.hide()
      ;(a = k.get('program_specific_modal')) && a.hide()
    }
    function q() {
      b.$('#' + a.IDs.ZIP_INPUT_SECTION).hide()
      b.$('#' + a.IDs.ZIP_CONFIRMATION_SECTION).show()
    }
    function n() {
      b.$('#' + a.IDs.ZIP_CONFIRMATION_SECTION).hide()
      b.$('#' + a.IDs.ZIP_INPUT_SECTION).show()
    }
    function t() {
      var c = x ? 'input[readonly]' : 'input[disabled]'
      ;[a.IDs.ADDRESS_LIST, a.IDs.ADDRESS_LIST_DELIVERY, a.IDs.ADDRESS_LIST_PICKUP].forEach(
        function (a) {
          b.$('#' + a)
            .find(c)
            .each(function () {
              x
                ? (this.setAttribute('aria-pressed', !1), this.removeAttribute('readonly'))
                : this.removeAttribute('disabled')
              b.$(this).parent().parent().removeClass('a-button-focus')
              b.$(this).parent().parent().removeClass('a-button-selected')
            })
        },
      )
    }
    function y(d) {
      var f = k.get(b.$('#nav-global-location-slot')),
        e = f.getContent()
      if (e) {
        var h = e.prop('innerHTML'),
          t = f.attrs('header')
        d &&
          (b.$('#' + a.IDs.SUCCESS_SUB_TEXT).addClass('GLUX_Hidden'),
          b.$('#' + a.IDs.SUCCESS_SUB_TEXT_AIS_EGRESS).removeClass('GLUX_Hidden'))
        d = b
          .$('#' + a.IDs.SUCCESS_DIALOG)
          .clone()
          .removeClass('GLUX_Hidden')
          .prop('outerHTML')
        var r = b.$('#' + a.IDs.SUCCESS_FOOTER).prop('innerHTML'),
          l = a.CONFIRM_HEADER
        0 < b.$(e).find('#GLUXHiddenSuccessDialog').length &&
          (b.state.replace('GLUXInfo', { oldContent: h, oldHeader: t }),
          f.update({ content: d, footer: r, width: 375, header: l }),
          b.declarative('GLUXConfirmAction', 'click', m))
      } else c.logEvent(c.getEvents().error.missingContent)
    }
    function w(d) {
      switch (d) {
        case 'ADDRESS_ID':
          b.$('#' + a.IDs.ADDRESS_SET_ERROR).show()
          c.logEvent(c.getEvents().error.addressSelection)
          break
        case 'POSTAL_CODE':
          b.$('#' + a.IDs.ZIP_ERROR).show()
          c.logEvent(c.getEvents().error.postalInput)
          break
        case 'POSTAL_CODE_SERVER':
          b.$('#' + a.IDs.ZIP_SERVER_ERROR).show()
          c.logEvent(c.getEvents().error.postalServer)
          break
        case 'COUNTRY':
          b.$('#' + a.IDs.ADDRESS_SET_ERROR).show()
          c.logEvent(c.getEvents().error.addressSelection)
          break
        case 'POSTAL_CODE_WITH_CITY':
          b.$('#' + a.IDs.POSTAL_CODE_WITH_CITY_ERROR_MSG).removeClass('GLUX_Hidden'),
            c.logEvent(c.getEvents().error.postalCodeWithCityInput)
      }
    }
    var z = h.doesWeblabMatchTreatment('PACKARD_GLOBAL_DESKTOP_124721', h.TREATMENTS.T1),
      v = h.doesWeblabMatchTreatment('DEX_GLOW_A11Y_POSTAL_CODE_SECTION_1055948', h.TREATMENTS.T1),
      x = h.doesWeblabMatchTreatment('DEX_GLOW_A11Y_CHOOSE_ADDRESS_1104000', h.TREATMENTS.T1)
    return {
      handleLocationUpdateResponse: function (t, k, n, u, x) {
        if (t) {
          0 < b.$('#' + a.IDs.ZIP_UPDATE_INPUT).length &&
            b.$('#' + a.IDs.ZIP_UPDATE_INPUT).attr('aria-invalid', !1)
          if (
            n === f.TYPE_ADDRESS_ID ||
            h.checkUnrecognisedCartConflictWeblabEnabledAndRecordTrigger()
          )
            try {
              e.resolve()
            } catch (H) {
              c.logEvent(c.getEvents().cartConflict.uncaughtExceptionError)
            }
          z || v
            ? k
              ? (y(k), d.subscribeAfterHidePopoverEvent())
              : ('POSTAL_CODE' === n && q(),
                l.when('CondoEvents').execute(function (a) {
                  b.trigger(a.FEATURE_NOTIFY, 'AddressList', 'CustomerIntent')
                }))
            : k
              ? (y(k), d.subscribeAfterHidePopoverEvent())
              : (m(),
                l.when('CondoEvents').execute(function (a) {
                  b.trigger(a.FEATURE_NOTIFY, 'AddressList', 'CustomerIntent')
                }))
          c.logLocationChange(n)
        } else
          0 < b.$('#' + a.IDs.ZIP_UPDATE_INPUT).length &&
            b.$('#' + a.IDs.ZIP_UPDATE_INPUT).attr('aria-invalid', !0),
            w(n),
            x && c.logAlmPickupError('GLOW error while selecting pickup addressId:' + u.addressId)
      },
      handleLocationUpdateResponseError: function (a, b) {
        w('POSTAL_CODE_SERVER')
        b && c.logAlmPickupError('Server error while selecting pickup addressId:' + a.addressId)
      },
      resetErrors: function () {
        b.$('#' + a.IDs.ADDRESS_SET_ERROR).hide()
        b.$('#' + a.IDs.ZIP_ERROR).hide()
        b.$('#' + a.IDs.ZIP_SERVER_ERROR).hide()
      },
      restoreWidget: function () {
        l.when('CondoAPI').execute(function (a) {
          a.restoreTakeover()
        })
      },
      hideWidget: m,
      resetAddressRowState: t,
      clearAddressSelection: function () {
        ;[a.IDs.ADDRESS_LIST, a.IDs.ADDRESS_LIST_DELIVERY, a.IDs.ADDRESS_LIST_PICKUP].forEach(
          function (a) {
            b.$('#' + a + ' li\x3espan\x3espan').removeClass('a-button-selected')
            b.$('#' + a + ' li\x3espan\x3espan').removeClass('a-button-focus')
          },
        )
        t()
      },
      clearPostalSelection: function () {
        ;(z || v) && n()
        var c = 'input[id^\x3d' + a.IDs.ZIP_UPDATE_INPUT + ']'
        b.$(c).val('')
        b.$(c).attr('value', '')
      },
      clearCountrySelection: function () {
        var c = a.COUNTRY_LIST_PLACEHOLDER
        b.$('#' + a.IDs.COUNTRY_VALUE).text(c)
        b.$('#' + a.IDs.COUNTRY_LIST_DROPDOWN).removeClass('a-button-focus')
      },
      clearCitySelection: function () {
        var c = a.CITY_LIST_PLACEHOLDER
        b.$('#' + a.IDs.CITY_VALUE).text(c)
        b.$('#' + a.IDs.CITY_LIST_DROPDOWN).removeClass('a-button-focus')
      },
      clearAndReselectCountryDropdown: function (c) {
        b.$('#' + a.IDs.COUNTRY_LIST + ' optgroup option[selected\x3d"selected"]').each(
          function () {
            b.$(this).removeAttr('selected')
          },
        )
        ;(c = b.$('#' + a.IDs.COUNTRY_LIST + ' optgroup option[value\x3d"' + c + '"]')) &&
          b.$(c).attr('selected', 'selected')
      },
      clearAndReselectCityDropdown: function (c) {
        b.$('#' + a.IDs.CITY_LIST + ' optgroup option[selected\x3d"selected"]').each(function () {
          b.$(this).removeAttr('selected')
        })
        ;(c = b.$('#' + a.IDs.CITY_LIST + ' optgroup option[value\x3d"' + c + '"]')) &&
          b.$(c).attr('selected', 'selected')
      },
      replacePostalCodeInputWithConfirmation: q,
      replacePostalCodeConfirmationWithInput: n,
    }
  })
  l.when('A').register('GLUXRefreshController', function (b) {
    function k() {
      b.trigger('packard:glow:destinationChangeNav')
    }
    return {
      notifyDestinationChangeNav: k,
      subscribeAfterHidePopoverEvent: function () {
        b.on('a:popover:afterHide:glow-modal', function () {
          k()
          b.off('a:popover:afterHide:glow-modal')
        })
      },
      getAfterHidePopoverEvent: 'a:popover:afterHide:glow-modal',
    }
  })
  ;('use strict')
  l.when('A', 'jQuery', 'GLUXMetrics', 'GLUXWeblabUtil', 'LocationTypes').register(
    'GLUXCartConflict',
    function (b, k, a, d, c) {
      function h() {
        if (null == e) return !1
        var a = ['almBrandId', 'locationType', 'storeContext', 'deviceType']
        if (e.locationType === c.TYPE_LOCATION_INPUT) a.push('zipCode')
        else if (
          e.locationType === c.TYPE_DEFAULT_ADDRESS ||
          e.locationType === c.TYPE_ACCOUNT_ADDRESS
        )
          a.push('storeRegionId', 'addressId')
        else if (e.locationType === c.TYPE_GPS_INPUT) a.push('latitude', 'longitude')
        else if (e.locationType === c.TYPE_REGION) a.push('addressLabel', 'countryCode')
        else if (e.locationType === c.TYPE_COUNTRY) a.push('district', 'countryCode')
        else if (e.locationType === c.TYPE_CITY) a.push('city')
        else if (e.locationType === c.TYPE_PCD) a.push('city', 'state', 'district')
        else if (e.locationType === c.TYPE_POSTAL_CODE_WITH_CITY) a.push('city', 'zipCode')
        else return !1
        return a.every(function (a) {
          return e.hasOwnProperty(a)
        })
      }
      function f(a) {
        a.brandId = e.almBrandId
        a.client = 'glow'
        a.newLocation = JSON.stringify(l)
        e.storeRegionId && (a.newRegionId = e.storeRegionId)
        e.addressId && (a.newAddressId = e.addressId)
        return a
      }
      var e = null,
        l = null,
        q = !0,
        n = d.doesWeblabMatchTreatment('PACKARD_GLOBAL_DESKTOP_124721', d.TREATMENTS.T1)
      return {
        reset: function () {
          l = e = null
          q = !0
        },
        getConflictSummary: function (c) {
          e = c.data
          if (h()) {
            l = {
              postalCode: e.zipCode,
              destinationId: e.addressId,
              countryCode: e.countryCode,
              provinceOrState: e.state,
              city: e.cityName ? e.cityName : e.city,
              districtOrCounty: e.district,
              geocode: { latitude: e.latitude, longitude: e.longitude },
            }
            var d = {}
            d = f(d)
            b.post('/afx/cartconflicts/getconflictsummary', {
              timeout: 5e3,
              success: function (a) {
                !1 === a.isSuccess || !1 === a.canShopRegion || !1 === a.hasConflicts
                  ? ((q = !1), c.updateDestination(e, c.addressType))
                  : ((q = !0), n || c.hideWidget())
              },
              error: function () {
                a.logEvent(a.getEvents().cartConflict.getSummaryError)
                c.updateDestination(e, c.addressType)
              },
              params: d,
            })
          } else
            a.logEvent(a.getEvents().cartConflict.validateDataError),
              c.updateDestination(e, c.addressType)
        },
        resolve: function () {
          if (h()) {
            var c = {}
            c = f(c)
            b.post('/afx/cartconflicts/resolve', {
              timeout: 5e3,
              success: function () {
                a.logEvent(a.getEvents().cartConflict.resolveSuccess)
              },
              error: function () {
                a.logEvent(a.getEvents().cartConflict.resolveError)
              },
              params: c,
            })
          }
        },
        substitute: function () {
          try {
            if (h() && q) {
              var b = {
                deviceType: e.deviceType,
                locationType: e.locationType,
                storeContext: e.storeContext,
                sourceUrl: m.location.pathname + m.location.search,
              }
              b = f(b)
              var c = k.param(b)
              a.logEvent(a.getEvents().cartConflict.substituteSuccess)
              m.location.href = '/afx/cartconflicts/resolve/substitute?' + c
            }
          } catch (w) {
            a.logEvent(a.getEvents().cartConflict.substituteError)
          }
        },
      }
    },
  )
  l.when('A', 'GLUXWidget').register('LocationTypes', function (b, k) {
    return {
      TYPE_LOCATION_INPUT: 'LOCATION_INPUT',
      TYPE_DEFAULT_ADDRESS: 'DEFAULT_ADDRESS',
      TYPE_ACCOUNT_ADDRESS: 'ACCOUNT_ADDRESS',
      TYPE_ADDRESS_ID: 'ADDRESS_ID',
      TYPE_POSTAL_CODE: 'POSTAL_CODE',
      TYPE_POSTAL_CODE_WITH_CITY: 'POSTAL_CODE_WITH_CITY',
      TYPE_GPS_INPUT: 'GPS_INPUT',
      TYPE_COUNTRY: 'COUNTRY',
      TYPE_CITY: 'CITY',
      TYPE_REGION: 'REGION',
      TYPE_PCD: 'PCD',
    }
  })
  l.when('A').register('lookupZipcodeConstants', function (b) {
    return { ENDPOINT: '/portal-migration/hz/glow/lookup-zipcode', IS_HORIZONTE: !0 }
  })
  l.when('A', 'GLUXWidget', 'LocationTypes').register('GLUXRegionData', function (b, k, a) {
    var d = { 'FR-CH': { countryCode: 'FR', zipCode: '20000' } }
    return {
      getRegions: function () {
        return d
      },
      mapRegionCodeToLocationData: function (b) {
        b = d.hasOwnProperty(b)
          ? {
              addressLabel: b,
              countryCode: d[b].countryCode,
              zipCode: d[b].zipCode,
              locationType: a.TYPE_REGION,
            }
          : null
        return b
      },
    }
  })
  l.when('A', 'ready', 'navCF').execute(function (b) {
    b = b.$
    var k = m.ue_pty
    if (
      k &&
      ('Detail' === k || 'DetailAW' === k) &&
      0 !== b('#glow-ingress-block').length &&
      ((k = b('#addToCart')), 0 !== k.length)
    ) {
      if (0 === b('#addToCart input[name\x3ddropdown-selection]').length) {
        var a = b('#nav-global-location-slot #unifiedLocation1ClickAddress')
        0 !== a.length && a.clone().attr('id', 'cartAddressNew').appendTo(k)
      }
      0 === b('#addToCart input[name\x3ddropdown-selection-ubb]').length &&
        ((b = b('#nav-global-location-slot #ubbShipTo')),
        0 !== b.length && b.clone().attr('id', 'cartAddressUsed').appendTo(k))
    }
  })
  l.when('A', 'GLUXWidget').register('GLUXMetrics', function (b) {
    function k(a, b, d) {
      m.ueLogError &&
        a &&
        m.ueLogError({ message: a }, { logLevel: b || 'ERROR', attribution: d || 'GLOW' })
    }
    function a(a) {
      m.ue
        ? m.ue.count(a, (m.ue.count(a) || 0) + 1)
        : k(
            'Failed to increment metrics counter: ' + a + ' because window.ue is not present.',
            'ERROR',
            'GLOW',
          )
    }
    var d = {
      click: {
        signIn: 'click.signIn',
        seeMore: 'click.seeMore',
        seeMoreDelivery: 'click.seeMoreDelivery',
        seeMorePickup: 'click.seeMorePickup',
        tabChangeDelivery: 'click.tabDelivery',
        tabChangePickup: 'click.tabPickup',
        postalInput: 'click.postalInput',
        postalCodeWithCityInput: 'click.postalCodeWithCityInput',
        gpsInput: 'click.gpsInput',
        countrySelector: 'click.countrySelector',
        citySelector: 'click.citySelector',
        cityWithDistrictSelector: 'click.cityWithDistrictSelector',
        keypressEnterPostal: 'click.keypressEnterPostal',
        manageAddressBook: 'click.manageAddressBook',
        showSpecifyLocation: 'click.showSpecifyLocation',
        changePostalCodeFromConfirm: 'click.changePostalCodeFromConfirm',
        freshPickupLocationC: 'click.freshPickupLocationC',
        freshPickupLocationT1: 'click.freshPickupLocationT1',
      },
      postalCodeLookup: {
        ajaxSuccessWithValidResponse: 'postalCodeLookup.ajaxSuccessWithValidResponse',
        ajaxSuccessWithEmptyCityListOrErrorMessage:
          'postalCodeLookup.ajaxSuccessWithEmptyCityListOrErrorMessage',
        ajaxFailure: 'postalCodeLookup.ajaxFailure',
      },
      view: { open: 'view.open', close: 'view.close' },
      error: {
        addressSelection: 'error.addressSelection',
        postalInput: 'error.postalInput',
        postalServer: 'error.postalServer',
        postalCodeWithCityInput: 'error.postalCodeWithCityInput',
        gpsInput: 'error.gpsInput',
        missingContent: 'error.getContent',
        pcdInput: 'error.pcdInput',
      },
      cartConflict: {
        getSummarySuccess: 'success.cartConflict.getConflictSummary',
        getSummaryError: 'error.cartConflict.getConflictSummary',
        resolveSuccess: 'success.cartConflict.resolve',
        resolveError: 'error.cartConflict.resolve',
        substituteSuccess: 'success.cartConflict.substitute',
        substituteError: 'error.cartConflict.substitute',
        validateDataError: 'error.cartConflict.data',
        uncaughtExceptionError: 'error.cartConflict.uncaughtException',
      },
      locationChange: 'locationChange',
    }
    return {
      getPageType: function () {
        return m.ue_pty
      },
      getEvents: function () {
        return d
      },
      logLocationChange: function (b) {
        a('GLOW.' + d.locationChange + '.' + b)
      },
      logEvent: function (b) {
        a('GLOW.' + b)
      },
      logError: k,
      logAlmPickupError: function (a) {
        k(a, 'ERROR', 'glow-alm-pickup-selection-error')
      },
    }
  })
  l.when('A', 'GLUXWidget').register('GLUXWeblabUtil', function (b, k) {
    function a(a, b) {
      return k.WEBLABS && k.WEBLABS[a] === b
    }
    return {
      TREATMENTS: { C: 'C', T1: 'T1', T2: 'T2' },
      doesWeblabMatchTreatment: a,
      checkUnrecognisedCartConflictWeblabEnabledAndRecordTrigger: function () {
        var b = a('F3_RENDER_ATC_FOR_UNREC_CUSTOMERS_582065', 'T1'),
          c = a('F3_ALM_UNREC_SHOPPING_EXPERIMENT_576789', 'T1')
        b = b && c
        !b &&
          a('F3_ALM_SHOP_BY_LOCATION_716181', 'T1') &&
          k.WEBLABS &&
          k.WEBLABS.F3_ALM_SHOP_BY_LOCATION_EXPERIMENT_727241 &&
          ((b = k.WEBLABS.F3_ALM_SHOP_BY_LOCATION_EXPERIMENT_727241),
          m.ue &&
            'function' === typeof m.ue.trigger &&
            m.ue.trigger('F3_ALM_SHOP_BY_LOCATION_EXPERIMENT_727241', b),
          (b = 'T1' === b))
        return b
      },
    }
  })
  l.when('A', 'GLUXWeblabUtil', 'GLUXCartConflict').register(
    'GLUXCartConflictUtil',
    function (b, k, a) {
      var d = function () {
        var a = {}
        m.location.href.replace(/[?&]+([^=&]+)=([^&#]*)/gi, function (b, c, d) {
          a[c] = d
        })
        return a
      }
      return {
        getAlmBrandId: function () {
          return d().almBrandId
        },
        checkForCartConflict: function (b, d, f, e) {
          null != b &&
            ('web' === b.deviceType
              ? l.now('packardGlowStoreName').execute('setStoreContext', function (a) {
                  a && (b.storeContext = a)
                })
              : l.now('glowMobileStoreName').execute('setStoreContext', function (a) {
                  a && (b.storeContext = a)
                }))
          a.getConflictSummary({ data: b, addressType: d, updateDestination: f, hideWidget: e })
        },
        unrecCartConflictWeblabEnabled:
          k.checkUnrecognisedCartConflictWeblabEnabledAndRecordTrigger(),
      }
    },
  )
})
/* ******** */
/*
 CryptoJS v3.1.2
 code.google.com/p/crypto-js
 (c) 2009-2013 by Jeff Mott. All rights reserved.
 code.google.com/p/crypto-js/wiki/License
*/
;(function (t) {
  var v = window.AmazonUIPageJS || window.P,
    x = v._namespace || v.attributeErrors,
    K = x ? x('AssociatesSiteStripeJS', 'AssociatesSiteStripeJS') : v
  K.guardFatal
    ? K.guardFatal(t)(K, window)
    : K.execute(function () {
        t(K, window)
      })
})(function (t, v, x) {
  var K =
    K ||
    (function (d, r) {
      var q = {},
        h = (q.lib = {}),
        m = function () {},
        u = (h.Base = {
          extend: function (c) {
            m.prototype = this
            var a = new m()
            c && a.mixIn(c)
            a.hasOwnProperty('init') ||
              (a.init = function () {
                a.$super.init.apply(this, arguments)
              })
            a.init.prototype = a
            a.$super = this
            return a
          },
          create: function () {
            var a = this.extend()
            a.init.apply(a, arguments)
            return a
          },
          init: function () {},
          mixIn: function (a) {
            for (var c in a) a.hasOwnProperty(c) && (this[c] = a[c])
            a.hasOwnProperty('toString') && (this.toString = a.toString)
          },
          clone: function () {
            return this.init.prototype.extend(this)
          },
        }),
        a = (h.WordArray = u.extend({
          init: function (a, c) {
            a = this.words = a || []
            this.sigBytes = c != r ? c : 4 * a.length
          },
          toString: function (a) {
            return (a || g).stringify(this)
          },
          concat: function (a) {
            var c = this.words,
              b = a.words,
              w = this.sigBytes
            a = a.sigBytes
            this.clamp()
            if (w % 4)
              for (var k = 0; k < a; k++)
                c[(w + k) >>> 2] |=
                  ((b[k >>> 2] >>> (24 - (k % 4) * 8)) & 255) << (24 - ((w + k) % 4) * 8)
            else if (65535 < b.length) for (k = 0; k < a; k += 4) c[(w + k) >>> 2] = b[k >>> 2]
            else c.push.apply(c, b)
            this.sigBytes += a
            return this
          },
          clamp: function () {
            var a = this.words,
              c = this.sigBytes
            a[c >>> 2] &= 4294967295 << (32 - (c % 4) * 8)
            a.length = d.ceil(c / 4)
          },
          clone: function () {
            var a = u.clone.call(this)
            a.words = this.words.slice(0)
            return a
          },
          random: function (c) {
            for (var b = [], k = 0; k < c; k += 4) b.push((4294967296 * d.random()) | 0)
            return new a.init(b, c)
          },
        })),
        e = (q.enc = {}),
        g = (e.Hex = {
          stringify: function (a) {
            var c = a.words
            a = a.sigBytes
            for (var b = [], k = 0; k < a; k++) {
              var w = (c[k >>> 2] >>> (24 - (k % 4) * 8)) & 255
              b.push((w >>> 4).toString(16))
              b.push((w & 15).toString(16))
            }
            return b.join('')
          },
          parse: function (c) {
            for (var b = c.length, k = [], w = 0; w < b; w += 2)
              k[w >>> 3] |= parseInt(c.substr(w, 2), 16) << (24 - (w % 8) * 4)
            return new a.init(k, b / 2)
          },
        }),
        b = (e.Latin1 = {
          stringify: function (a) {
            var c = a.words
            a = a.sigBytes
            for (var b = [], k = 0; k < a; k++)
              b.push(String.fromCharCode((c[k >>> 2] >>> (24 - (k % 4) * 8)) & 255))
            return b.join('')
          },
          parse: function (c) {
            for (var b = c.length, k = [], w = 0; w < b; w++)
              k[w >>> 2] |= (c.charCodeAt(w) & 255) << (24 - (w % 4) * 8)
            return new a.init(k, b)
          },
        }),
        p = (e.Utf8 = {
          stringify: function (a) {
            try {
              return decodeURIComponent(escape(b.stringify(a)))
            } catch (Q) {
              throw Error('Malformed UTF-8 data')
            }
          },
          parse: function (a) {
            return b.parse(unescape(encodeURIComponent(a)))
          },
        }),
        k = (h.BufferedBlockAlgorithm = u.extend({
          reset: function () {
            this._data = new a.init()
            this._nDataBytes = 0
          },
          _append: function (a) {
            'string' == typeof a && (a = p.parse(a))
            this._data.concat(a)
            this._nDataBytes += a.sigBytes
          },
          _process: function (c) {
            var b = this._data,
              k = b.words,
              w = b.sigBytes,
              e = this.blockSize,
              h = w / (4 * e)
            h = c ? d.ceil(h) : d.max((h | 0) - this._minBufferSize, 0)
            c = h * e
            w = d.min(4 * c, w)
            if (c) {
              for (var g = 0; g < c; g += e) this._doProcessBlock(k, g)
              g = k.splice(0, c)
              b.sigBytes -= w
            }
            return new a.init(g, w)
          },
          clone: function () {
            var a = u.clone.call(this)
            a._data = this._data.clone()
            return a
          },
          _minBufferSize: 0,
        }))
      h.Hasher = k.extend({
        cfg: u.extend(),
        init: function (a) {
          this.cfg = this.cfg.extend(a)
          this.reset()
        },
        reset: function () {
          k.reset.call(this)
          this._doReset()
        },
        update: function (a) {
          this._append(a)
          this._process()
          return this
        },
        finalize: function (a) {
          a && this._append(a)
          return this._doFinalize()
        },
        blockSize: 16,
        _createHelper: function (a) {
          return function (c, b) {
            return new a.init(b).finalize(c)
          }
        },
        _createHmacHelper: function (a) {
          return function (b, k) {
            return new c.HMAC.init(a, k).finalize(b)
          }
        },
      })
      var c = (q.algo = {})
      return q
    })(Math)
  ;(function (d) {
    function r(a, c, b, e, h, g, d) {
      a = a + ((c & b) | (~c & e)) + h + d
      return ((a << g) | (a >>> (32 - g))) + c
    }
    function q(a, c, b, e, h, g, d) {
      a = a + ((c & e) | (b & ~e)) + h + d
      return ((a << g) | (a >>> (32 - g))) + c
    }
    function h(a, c, b, e, h, g, d) {
      a = a + (c ^ b ^ e) + h + d
      return ((a << g) | (a >>> (32 - g))) + c
    }
    function m(a, c, b, e, h, g, d) {
      a = a + (b ^ (c | ~e)) + h + d
      return ((a << g) | (a >>> (32 - g))) + c
    }
    var u = K,
      a = u.lib,
      e = a.WordArray,
      g = a.Hasher
    a = u.algo
    for (var b = [], p = 0; 64 > p; p++) b[p] = (4294967296 * d.abs(d.sin(p + 1))) | 0
    a = a.MD5 = g.extend({
      _doReset: function () {
        this._hash = new e.init([1732584193, 4023233417, 2562383102, 271733878])
      },
      _doProcessBlock: function (a, c) {
        for (var e = 0; 16 > e; e++) {
          var k = c + e,
            g = a[k]
          a[k] = (((g << 8) | (g >>> 24)) & 16711935) | (((g << 24) | (g >>> 8)) & 4278255360)
        }
        e = this._hash.words
        k = a[c + 0]
        g = a[c + 1]
        var d = a[c + 2],
          p = a[c + 3],
          u = a[c + 4],
          v = a[c + 5],
          t = a[c + 6],
          x = a[c + 7],
          E = a[c + 8],
          F = a[c + 9],
          z = a[c + 10],
          y = a[c + 11],
          D = a[c + 12],
          J = a[c + 13],
          L = a[c + 14]
        a = a[c + 15]
        c = e[0]
        var f = e[1],
          n = e[2],
          l = e[3]
        c = r(c, f, n, l, k, 7, b[0])
        l = r(l, c, f, n, g, 12, b[1])
        n = r(n, l, c, f, d, 17, b[2])
        f = r(f, n, l, c, p, 22, b[3])
        c = r(c, f, n, l, u, 7, b[4])
        l = r(l, c, f, n, v, 12, b[5])
        n = r(n, l, c, f, t, 17, b[6])
        f = r(f, n, l, c, x, 22, b[7])
        c = r(c, f, n, l, E, 7, b[8])
        l = r(l, c, f, n, F, 12, b[9])
        n = r(n, l, c, f, z, 17, b[10])
        f = r(f, n, l, c, y, 22, b[11])
        c = r(c, f, n, l, D, 7, b[12])
        l = r(l, c, f, n, J, 12, b[13])
        n = r(n, l, c, f, L, 17, b[14])
        f = r(f, n, l, c, a, 22, b[15])
        c = q(c, f, n, l, g, 5, b[16])
        l = q(l, c, f, n, t, 9, b[17])
        n = q(n, l, c, f, y, 14, b[18])
        f = q(f, n, l, c, k, 20, b[19])
        c = q(c, f, n, l, v, 5, b[20])
        l = q(l, c, f, n, z, 9, b[21])
        n = q(n, l, c, f, a, 14, b[22])
        f = q(f, n, l, c, u, 20, b[23])
        c = q(c, f, n, l, F, 5, b[24])
        l = q(l, c, f, n, L, 9, b[25])
        n = q(n, l, c, f, p, 14, b[26])
        f = q(f, n, l, c, E, 20, b[27])
        c = q(c, f, n, l, J, 5, b[28])
        l = q(l, c, f, n, d, 9, b[29])
        n = q(n, l, c, f, x, 14, b[30])
        f = q(f, n, l, c, D, 20, b[31])
        c = h(c, f, n, l, v, 4, b[32])
        l = h(l, c, f, n, E, 11, b[33])
        n = h(n, l, c, f, y, 16, b[34])
        f = h(f, n, l, c, L, 23, b[35])
        c = h(c, f, n, l, g, 4, b[36])
        l = h(l, c, f, n, u, 11, b[37])
        n = h(n, l, c, f, x, 16, b[38])
        f = h(f, n, l, c, z, 23, b[39])
        c = h(c, f, n, l, J, 4, b[40])
        l = h(l, c, f, n, k, 11, b[41])
        n = h(n, l, c, f, p, 16, b[42])
        f = h(f, n, l, c, t, 23, b[43])
        c = h(c, f, n, l, F, 4, b[44])
        l = h(l, c, f, n, D, 11, b[45])
        n = h(n, l, c, f, a, 16, b[46])
        f = h(f, n, l, c, d, 23, b[47])
        c = m(c, f, n, l, k, 6, b[48])
        l = m(l, c, f, n, x, 10, b[49])
        n = m(n, l, c, f, L, 15, b[50])
        f = m(f, n, l, c, v, 21, b[51])
        c = m(c, f, n, l, D, 6, b[52])
        l = m(l, c, f, n, p, 10, b[53])
        n = m(n, l, c, f, z, 15, b[54])
        f = m(f, n, l, c, g, 21, b[55])
        c = m(c, f, n, l, E, 6, b[56])
        l = m(l, c, f, n, a, 10, b[57])
        n = m(n, l, c, f, t, 15, b[58])
        f = m(f, n, l, c, J, 21, b[59])
        c = m(c, f, n, l, u, 6, b[60])
        l = m(l, c, f, n, y, 10, b[61])
        n = m(n, l, c, f, d, 15, b[62])
        f = m(f, n, l, c, F, 21, b[63])
        e[0] = (e[0] + c) | 0
        e[1] = (e[1] + f) | 0
        e[2] = (e[2] + n) | 0
        e[3] = (e[3] + l) | 0
      },
      _doFinalize: function () {
        var a = this._data,
          c = a.words,
          b = 8 * this._nDataBytes,
          e = 8 * a.sigBytes
        c[e >>> 5] |= 128 << (24 - (e % 32))
        var g = d.floor(b / 4294967296)
        c[(((e + 64) >>> 9) << 4) + 15] =
          (((g << 8) | (g >>> 24)) & 16711935) | (((g << 24) | (g >>> 8)) & 4278255360)
        c[(((e + 64) >>> 9) << 4) + 14] =
          (((b << 8) | (b >>> 24)) & 16711935) | (((b << 24) | (b >>> 8)) & 4278255360)
        a.sigBytes = 4 * (c.length + 1)
        this._process()
        a = this._hash
        c = a.words
        for (b = 0; 4 > b; b++)
          (e = c[b]),
            (c[b] = (((e << 8) | (e >>> 24)) & 16711935) | (((e << 24) | (e >>> 8)) & 4278255360))
        return a
      },
      clone: function () {
        var a = g.clone.call(this)
        a._hash = this._hash.clone()
        return a
      },
    })
    u.MD5 = g._createHelper(a)
    u.HmacMD5 = g._createHmacHelper(a)
  })(Math)
  ;('use strict')
  t.when('A', 'amzn-ss-app-config').register('amzn-ss-link-id', function (d, r) {
    var q = function (h) {
      if ('string' !== typeof h.tag) throw Error('Invalid Tag')
      var d = h.linkCode,
        q = h.toolCreation,
        a = parseInt(r.getMarketplaceId(), 10),
        e = { p_parameter: 'SS v2', test_name: r.getTestName() },
        g
      if ('string' !== typeof d || 2 > d.length || 3 < d.length) throw Error('Invalid LinkCode')
      if ('string' !== typeof q || null === q.match(/^(AC|SS|Pubstudio|Feeds|PAAPI)$/i))
        throw Error('Invalid ToolCreation')
      if (isNaN(a)) throw Error('Invalid Marketplace')
      d = r.getForesterAssocLinksUrl()
      for (g in h) h.hasOwnProperty(g) && (e[g] = h[g])
      e.createTime = new Date().getTime()
      try {
        var b = K.MD5(JSON.stringify(e)).toString()
      } catch (p) {
        b = 'z7b5638deb81af5805803e8dc94cfdez'
      }
      this.linkId = b
      h = { linkId: b, trackingParams: e, _v: 1 }
      new Image().src = d + encodeURIComponent(JSON.stringify(h))
      this.get = function () {
        return this.linkId
      }
    }
    return {
      get: function (h) {
        return new q(h).get()
      },
    }
  })
  ;('use strict')
  t.when('A').register('amzn-ss-make-xhr', function (d) {
    var r = d.$
    return {
      makeXHR: function (d) {
        r.ajax({
          url: d.url,
          timeout: d.timeout ? d.timeout : 3e3,
          data: d.data,
          method: d.methodType,
          dataType: d.dataType,
          cache: d.cache,
          success: (function (d) {
            return function (h) {
              d.successCBArgs.push(h)
              d.successCB.apply(x, d.successCBArgs)
            }
          })(d),
          error: (function (d) {
            return function (h, q, a) {
              d.failureCBArgs.push(h)
              d.failureCBArgs.push(q)
              d.failureCBArgs.push(a)
              d.failureCB.apply(x, d.failureCBArgs)
            }
          })(d),
        })
      },
    }
  })
  ;('use strict')
  t.when('A', 'amzn-ss-app-config', 'amzn-ss-make-xhr').register(
    'amzn-ss-third-party-module',
    function (d, r, q) {
      var h = function (h, a) {
          h.status = a ? a.status : 0
          d.trigger('amzn-ss-third-party-excluded-asin-callback', h)
        },
        m = function (h, a, e, g) {
          h.status = 0
          d.trigger('amzn-ss-third-party-excluded-asin-callback', h)
        }
      return {
        isThirdPartyExcludedAsin: function (d) {
          q.makeXHR({
            url: '/associates/sitestripe/validateAsin',
            methodType: 'GET',
            data: { asin: d.asin, marketplaceId: r.getMarketplaceId() },
            dataType: 'json',
            successCB: h,
            failureCB: m,
            successCBArgs: [d],
            failureCBArgs: [d],
          })
        },
      }
    },
  )
  ;('use strict')
  t.when('A', 'ready').register('amzn-ss-widget-utils', function (d) {
    var r = d.$
    return {
      toggleCheckbox: function (d, h) {
        h = r('#' + h)
        var m = h.find('i'),
          q = h.find('input')
        d
          ? (h.attr('aria-checked', 'true'),
            m.removeClass('a-icon-checkbox-inactive'),
            m.addClass('a-icon-checkbox-active'),
            q.attr('checked', 'checked'))
          : (h.attr('aria-checked', 'false'),
            m.removeClass('a-icon-checkbox-active'),
            m.addClass('a-icon-checkbox-inactive'),
            q.removeAttr('checked'))
      },
      toggleRadioButton: function (d, h) {
        h = r('#' + h)
        var m = h.find('i'),
          q = h.find('input')
        d
          ? (h.attr('aria-checked', 'true'),
            m.removeClass('a-icon-radio-inactive'),
            m.addClass('a-icon-radio-active'))
          : (h.attr('aria-checked', 'false'),
            m.removeClass('a-icon-radio-active'),
            m.addClass('a-icon-radio-inactive'))
        q.attr('checked', d)
      },
      isCheckboxChecked: function (d) {
        return 'true' === r('#' + d).attr('aria-checked') ? !0 : !1
      },
      isRadioButtonChecked: function (d) {
        return 'true' === r('#' + d).attr('aria-checked') ? !0 : !1
      },
    }
  })
  ;('use strict')
  t.when('twisterModule', 'amzn-ss-store-tag').execute(function (d, r) {
    d = d.getState()
    d !== x && r.setTwisterState(d)
  })
  ;('use strict')
  t.when('A', 'amzn-ss-app-config', 'amzn-ss-store-tag', 'amzn-ss-make-xhr', 'ready').execute(
    function (d, r, q, h) {
      d = d.$
      var m = r.getForesterPublisherStudioUrl(),
        u = function (a) {
          var e = q.getGlobalStoreTag()
          return {
            pParameter: 'SS v2',
            testName: r.getTestName(),
            storeId: e.storeId,
            trackingId: e.trackingId,
            marketplaceId: r.getMarketplaceId(),
            asin: q.getAsin(),
            url: v.location.href,
            toolCreation: 'SS',
            createTime: new Date().getTime(),
            event: a.dataset.eventName,
          }
        }
      d('body').delegate('.amzn-ss-wrap-content', 'click', function (a) {
        ;(a = a.target) &&
          a.dataset &&
          a.dataset.eventName &&
          ((a = u(a)),
          h.makeXHR({
            url: m + encodeURIComponent(JSON.stringify(a)),
            methodType: 'GET',
            dataType: 'json',
            successCB: function () {},
            failureCB: function () {},
            successCBArgs: [],
            failureCBArgs: [],
          }))
      })
    },
  )
  ;('use strict')
  t.when(
    'A',
    'a-dropdown',
    'amzn-ss-app-config',
    'amzn-ss-store-tag',
    'amzn-ss-store-tag-manager',
    'ready',
  ).execute(function (d, r, q, h, m) {
    function u(c, b) {
      m.setButtonClicked(b)
      a(c, function () {
        e('.amzn-ss-link-home-page').unbind('click').click()
        e('#amzn-ss-earnings-link').unbind('click').click()
        e('#amzn-ss-help-link').unbind('click').click()
        e('.amzn-ss-settings-option').unbind('click').click()
      })
    }
    function a(a, b) {
      h.isStoreTagMapAssigned || (a.preventDefault(), h.populateStoreTagDropdown(), b())
    }
    var e = d.$,
      g = m.getGlobalStore(),
      b = m.getGlobalTag()
    if (g === x || '' === g.trim()) h.populateStoreTagDropdown()
    else {
      d = ['text', 'image', 'text-image']
      q = d.length
      var p = [],
        k = []
      p[0] = g
      k[0] = b
      for (g = 0; g < q; g++)
        h.updateDropdown(r.getSelect('amzn-ss-store-id-dropdown-' + d[g]), p),
          h.updateDropdown(r.getSelect('amzn-ss-tracking-id-dropdown-' + d[g]), k)
    }
    e('.amzn-ss-link-home-page').click(function (a) {
      u(a, m.ButtonsClicked.HOME)
    })
    e('#amzn-ss-earnings-link').click(function (a) {
      u(a, m.ButtonsClicked.EARNINGS)
    })
    e('#amzn-ss-help-link').click(function (a) {
      u(a, m.ButtonsClicked.HELP)
    })
    e('.amzn-ss-settings-option').click(function (a) {
      u(a, m.ButtonsClicked.SETTINGS)
    })
  })
  ;('use strict')
  t.when(
    'A',
    'amzn-ss-default-store-tag',
    'amzn-ss-app-config',
    'amzn-ss-make-xhr',
    'ready',
  ).register('amzn-ss-store-tag-manager', function (d, r, q, h) {
    var m = d.$,
      u = {},
      a = [],
      e = {},
      g = !1,
      b = { NONE: '', HOME: 'Home', EARNINGS: 'Earnings', HELP: 'Help', SETTINGS: 'Settings' },
      p = b.NONE,
      k = r.getDefaultStoreId(),
      c = r.getDefaultTrackingId(),
      w = q.getLocale(),
      t = JSON.parse(q.getLocaleBaseUrls().replace(/&quot;/g, '"')),
      M = function (a, c, b, e, d) {
        a = [a, c, b, e, d]
        h.makeXHR({
          url: '/associates/sitestripe/getStoreTagMap',
          methodType: 'GET',
          data: { marketplaceId: r.getMarketplaceId() },
          dataType: 'json',
          timeout: 8e3,
          successCB: H,
          successCBArgs: a,
          failureCB: I,
          failureCBArgs: a,
        })
      },
      C = function (a, b, e) {
        e && 1 === e.status && ((k = a), (c = b))
      },
      B = function () {},
      G = function (a, b) {
        ;(a === k && b === c) ||
          h.makeXHR({
            url: '/associates/sitestripe/setDefaultStoreTag',
            methodType: 'GET',
            data: { marketplaceId: r.getMarketplaceId(), storeId: a, trackingId: b },
            dataType: 'json',
            successCB: C,
            failureCB: B,
            successCBArgs: [a, b],
            failureCBArgs: [],
          })
      },
      A = function (a, c, b) {
        'function' === typeof a && a.apply(c, b)
      },
      H = function (b, h, p, q, r, f) {
        if (f)
          if (1 === f.status) {
            var n = f.storeTagMap
            f = f.storeHomeCountryMap
            var l = 0,
              z = []
            for (y in n) n.hasOwnProperty(y) && (z[l++] = y)
            var y = !1
            l = k
            ;-1 === m.inArray(l, z) && ((l = z[0]), (y = !0))
            var P = f[l],
              D = c,
              v = n[l]
            ;-1 === m.inArray(D, v) && ((D = v[0]), (y = !0))
            u = n
            g = !0
            a = z
            e = f
            w !== P && F(P)
            E()
            y && G(l, D)
            y = []
            switch (q) {
              case 'storeArray':
                y = [z, f, h]
                break
              case 'tagArray':
                y = r && -1 !== m.inArray(r, z) ? [n[r], h] : [[], h]
                break
              case 'storeTagMap':
                y = [n, h]
            }
            A(b, p, y)
          } else 2 === f.status && (A(b, p, [x, h]), d.trigger('amzn-ss-action-disable-ss'))
      },
      I = function (a, c, b, e, d, g, k, l) {
        A(e, g, [x, d, a, c, b])
      },
      E = function () {
        p === b.HOME
          ? v.open(
              document
                .getElementsByClassName('amzn-ss-brand amzn-ss-link-container')[0]
                .getElementsByTagName('a')[0].href,
            )
          : p === b.EARNINGS
            ? v.open(
                document.getElementById('amzn-ss-earnings-link').getElementsByTagName('a')[0].href,
              )
            : p === b.HELP
              ? v.open(
                  document.getElementById('amzn-ss-help-link').getElementsByTagName('a')[0].href,
                )
              : p === b.SETTINGS &&
                v.open(
                  document
                    .getElementsByClassName('amzn-ss-settings-option')[0]
                    .getElementsByTagName('a')[0].href,
                )
        p = b.NONE
      },
      F = function (a) {
        var c = 'https://' + t[a],
          b = c + '/home/account/sitestripe'
        document
          .getElementsByClassName('amzn-ss-settings-option')[0]
          .getElementsByTagName('a')[0].href = b
        b = c + '/home/reports'
        document.getElementById('amzn-ss-earnings-link').getElementsByTagName('a')[0].href = b
        b = c + '/help/stripe.html'
        document.getElementById('amzn-ss-help-link').getElementsByTagName('a')[0].href = b
        c += '/home'
        document
          .getElementsByClassName('amzn-ss-brand amzn-ss-link-container')[0]
          .getElementsByTagName('a')[0].href = c
        w = a
      }
    return {
      getGlobalStore: function () {
        return k
      },
      getGlobalTag: function () {
        return c
      },
      fetchStores: function (c, b, d) {
        g ? A(c, d, [a, e, b]) : M(c, b, d, 'storeArray', '')
      },
      fetchTags: function (c, b, e, d) {
        g
          ? -1 === m.inArray(d, a)
            ? A(c, e, [[], b])
            : A(c, e, [a, b])
          : M(c, b, e, 'tagArray', d)
      },
      fetchStoreTagMap: function (a, c, b) {
        g ? (A(a, b, [u, e, c]), E()) : M(a, c, b, 'storeTagMap', '')
      },
      updateGlobalStoreTag: G,
      isStoreTagMapAssigned: function () {
        return g
      },
      updateUrls: F,
      setButtonClicked: function (a) {
        p = a
      },
      ButtonsClicked: b,
    }
  })
  ;('use strict')
  ;('use strict')
  t.when(
    'A',
    'a-popover',
    'a-modal',
    'amzn-ss-link-id',
    'amzn-ss-app-config',
    'amzn-ss-store-tag',
    'amzn-ss-widget-utils',
    'amzn-ss-make-xhr',
    'amzn-ss-sitestripe',
    'amzn-ss-third-party-module',
  ).register('amzn-ss-text-popover', function (d, r, q, h, m, u, a, e, g, b) {
    var p = d.$,
      k = m.isDetailPage()
    q = m.getStringMap()
    var c,
      w = !1,
      v = !1,
      t = p('#amzn-ss-text-link'),
      C = p('.amzn-ss-popover-spinner'),
      x = p('.amzn-ss-popover-third-party-message'),
      G = p('#amzn-ss-popover-text-preload-content-container'),
      A = p('.amzn-ss-popover-link-failure-message'),
      H = p('#amzn-ss-txt-success-msg'),
      I = p('#amzn-ss-txt-failure-msg'),
      E = p('#amzn-ss-txt-update-msg'),
      F = p('#amzn-ss-loading-spinner'),
      z = p('#amzn-ss-text-fulllink-textarea'),
      y = p('#amzn-ss-text-shortlink-textarea'),
      D = function () {
        C.hide()
        x.hide()
        A.hide()
        G.hide()
      },
      J = function () {
        H.hide()
        I.hide()
        E.hide()
        F.hide()
      },
      L = {
        name: 'amzn-ss-popover-text-preload-content',
        popoverLabel: q.amzn_ss_popover_title_txt,
        header: q.amzn_ss_popover_title_txt,
        activate: 'onclick',
        width: 560,
      },
      f = {
        toolCreation: 'SS',
        adUnitType: 'TEXT',
        adUnitDescription: 'Product links Text only link',
        destinationType: '1' === k ? 'ASIN' : 'MULTIPLE',
        marketplaceId: m.getMarketplaceId(),
      },
      n = function () {
        a.toggleRadioButton(!1, 'amzn-ss-full-link-radio-button')
        a.toggleRadioButton(!1, 'amzn-ss-short-link-radio-button')
      },
      l = function (a, c) {
        D()
        c && !0 === c.isOk
          ? null === c.shortUrl
            ? x.show()
            : (G.show(),
              J(),
              H.show(),
              u.enableGetLinkButton(!1),
              (w = !0),
              z.hide(),
              y.show(),
              y.text(c.shortUrl),
              setTimeout(function () {
                y.select()
              }, 10))
          : N(a)
      },
      N = function (a, c, b, e) {
        D()
        a ? (G.show(), J(), I.show()) : A.show()
      },
      O = function (b, d) {
        c = u.getLongUrlTemplate()
        f.store = b.storeId
        f.tag = b.trackingId
        f.asin = u.getAsin()
        f.adUnitSubType = 'ShortLinks'
        f.linkCode =
          '1' === k ? m.getLinkCode().textShortLink_dp : m.getLinkCode().textShortLink_ndp
        b = h.get(f)
        var p = c.replace('__LINKCODE__', f.linkCode)
        p = p.replace('__REFTAG__', m.getRefTag().textLink)
        p = p.replace('__LANGUAGE__', g.getLanguagePreferance())
        p = p.replace('__TRACKINGID__', f.tag)
        p = p.replace('__LINKID__', b)
        F.show()
        e.makeXHR({
          url: '/associates/sitestripe/getShortUrl',
          methodType: 'GET',
          data: { longUrl: p, marketplaceId: f.marketplaceId },
          dataType: 'json',
          successCB: l,
          failureCB: N,
          successCBArgs: [d],
          failureCBArgs: [d],
        })
        n()
        a.toggleRadioButton(!0, 'amzn-ss-short-link-radio-button')
        z.hide()
        y.show()
      }
    y.bind('click', function () {
      p(this).select()
    })
    z.bind('click', function () {
      p(this).select()
    })
    d.declarative('amzn-ss-get-link-shortlink', 'click', function (c) {
      n()
      a.toggleRadioButton(!0, 'amzn-ss-short-link-radio-button')
      z.hide()
      y.show()
      y.select()
    })
    d.declarative('amzn-ss-get-link-fulllink', 'click', function (b) {
      if (w) {
        w = !1
        f.adUnitSubType = 'FullLinks'
        f.linkCode = '1' === k ? m.getLinkCode().textLongLink_dp : m.getLinkCode().textLongLink_ndp
        b = h.get(f)
        var e = c.replace('__LINKCODE__', f.linkCode)
        e = e.replace('__REFTAG__', m.getRefTag().textLink)
        e = e.replace('__LANGUAGE__', g.getLanguagePreferance())
        e = e.replace('__TRACKINGID__', f.tag)
        e = e.replace('__LINKID__', b)
        z.text(e)
      }
      n()
      a.toggleRadioButton(!0, 'amzn-ss-full-link-radio-button')
      y.hide()
      z.show()
      z.select()
    })
    d.declarative('amzn-ss-show-text-popover', 'click', function (a) {
      v ||
        (u.getAsin(), (a = r.create(t, L)), D(), C.show(), a.show(), O(u.getGlobalStoreTag(), !1))
    })
    d.on('a:popover:beforeShow:amzn-ss-popover-text-preload-content', function (a) {
      u.populateStoreTagDropdown('text')
    })
    d.on('a:popover:show:amzn-ss-popover-text-preload-content', function (a) {
      v = !0
      g.addActiveToPopoverContainer(a.popover)
    })
    d.on('a:popover:afterHide:amzn-ss-popover-text-preload-content', function (a) {
      v = !1
      g.removeActiveFromPopoverContainer(a.popover)
      u.updateDefaultStoreTagAtServer()
    })
    d.on('a:dropdown:amzn-ss-store-id-dropdown-text:select', function (a) {
      u.handleStoreDropdownChange('text')
    })
    d.on('a:dropdown:amzn-ss-tracking-id-dropdown-text:select', function (a) {
      u.handleTagDropdownChange('text')
    })
    d.on('amzn-ss-text-popover-get-link', function (a) {
      O(a, !0)
    })
    d.on('amzn-ss-text-popover-store-tag-updated', function (a) {
      J()
      E.show()
      y.text('')
      z.text('')
      w = !1
    })
  })
  ;('use strict')
  t.when('A').register('amzn-ss-product-info', function (d) {
    return { Endpoint: '/associates/sitestripe/getProductInfo?skip_sentry\x3dtrue' }
  })
  ;('use strict')
  t.when(
    'A',
    'a-popover',
    'a-switch',
    'amzn-ss-sitestripe',
    'amzn-ss-make-xhr',
    'amzn-ss-app-config',
  ).register('amzn-ss-sitestripe-settings', function (d, r, q, h, m, u) {
    var a = d.$
    m = a('#amzn-ss-settings-toggle-switch')
    var e = a('#amzn-ss-settings-popover-container'),
      g = q.getSwitch(m),
      b = a('#amzn-ss-settings-popover-link'),
      p = {
        name: 'amzn-ss-settings-popover-preload-content',
        popoverLabel: u.getStringMap().amzn_ss_popover_title_settings,
        header: u.getStringMap().amzn_ss_popover_title_settings,
        activate: 'onclick',
        width: 300,
      }
    d.declarative('amzn-ss-turnoff-message-got-it', 'click', function (a) {
      g.isOn() || d.trigger('amzn-ss-action-disable-ss')
    })
    d.declarative('amzn-ss-settings-popover', 'click', function (a) {
      a = r.create(b, p)
      e.show()
      a.show()
    })
    d.on('a:popover:show:amzn-ss-settings-popover-preload-content', function (a) {
      h.addActiveToPopoverContainer(a.popover)
    })
    d.on('a:popover:afterHide:amzn-ss-settings-popover-preload-content', function (a) {
      a = a.popover
      g.isOn(!0)
      h.removeActiveFromPopoverContainer(a)
    })
    d.on('a:switch:amzn-ss-settings-toggle-switch:flip', function (b) {
      g.isOn()
        ? (g.label(u.getStringMap().amzn_ss_popover_content_sett_turnoff_ss),
          a('#amzn-ss-turnoff-message').fadeOut())
        : (g.label(u.getStringMap().amzn_ss_popover_content_sett_turnedoff),
          a('#amzn-ss-turnoff-message').fadeIn())
    })
  })
  ;('use strict')
  t.when('A', 'a-popover', 'amzn-ss-app-config', 'amzn-ss-make-xhr', 'ready').register(
    'amzn-ss-sitestripe',
    function (d, r, q, h) {
      var m = function (a, b, e) {
          v.location.reload(!1)
        },
        u = function (a, b) {
          v.location.reload(!1)
        },
        a = function (a) {
          v.location.reload(!1)
        },
        e = function (a, b, e) {
          v.location.reload(!1)
        }
      d.declarative('amzn-ss-action-toggle-ss', 'click', function (a) {
        a = a.data
        h.makeXHR({
          url:
            'hide' === a.action
              ? '/associates/sitestripe/hideSiteStripe'
              : '/associates/sitestripe/showSiteStripe',
          methodType: 'GET',
          data: { marketplaceId: q.getMarketplaceId() },
          dataType: 'json',
          successCB: u,
          failureCB: m,
          successCBArgs: [a],
          failureCBArgs: [a],
        })
      })
      d.on('amzn-ss-action-disable-ss', function () {
        h.makeXHR({
          url: '/associates/sitestripe/disableSiteStripe',
          methodType: 'GET',
          data: { marketplaceId: q.getMarketplaceId() },
          dataType: 'json',
          successCB: a,
          failureCB: e,
          successCBArgs: [],
          failureCBArgs: [],
        })
      })
      return {
        getLanguagePreferance: function () {
          var a = q.getLanguageCodeCookieName()
          return document.cookie.replace(
            new RegExp('(?:(?:^|.*;\\s*)' + a + '\\s*\\\x3d\\s*([^;]*).*$)|^.*$'),
            '$1',
          )
        },
        addActiveToPopoverContainer: function (a) {
          a.$trigger &&
            (a.$trigger.closest('li').addClass('active'),
            a.$container && a.$container.addClass(a.$trigger.data('a-class')))
        },
        removeActiveFromPopoverContainer: function (a) {
          a.$trigger && a.$trigger.closest('li').removeClass('active')
        },
        getUpdatedUrl: function () {
          var a = q.getRetailWebsiteUrl(),
            b = v.location.pathname
          b = b.replace(/\/$/, '')
          ;-1 < b.indexOf('/ref\x3d') && (b = b.replace(/(\/ref=)[^?"]+/gi, ''))
          a += b
          if (1 == !!document.documentMode) {
            b = decodeURIComponent(v.location.search)
            var e = [
              /(&?language=)[^&"]+/gi,
              /(&?linkId=)[^&"]+/gi,
              /(&?tag=)[^&"]+/gi,
              /(&?creative=)[^&"]+/gi,
              /(&?camp=)[^&"]+/gi,
              /(&?creativeASIN=)[^&"]+/gi,
              /(&?linkCode=)[^&"]+/gi,
              /(&?ref=)[^&"]+/gi,
              /(&?ref_=)[^&"]+/gi,
            ]
            if (b) for (var d = 0; d < e.length; d++) b = b.replace(e[d], '')
            else b = '?ie\x3dUTF8'
            b = encodeURI(b)
          } else
            (b = new URLSearchParams(v.location.search)),
              b.delete('language'),
              b.delete('linkId'),
              b.delete('tag'),
              b.delete('creative'),
              b.delete('camp'),
              b.delete('creativeASIN'),
              b.delete('linkCode'),
              b.delete('ref'),
              b.delete('ref_'),
              (b = '?' + b.toString())
          return a + b
        },
      }
    },
  )
  ;('use strict')
  t.when(
    'A',
    'a-popover',
    'amzn-ss-link-id',
    'amzn-ss-app-config',
    'amzn-ss-store-tag',
    'amzn-ss-sitestripe',
    'amzn-ss-make-xhr',
    'amzn-ss-third-party-module',
    'amzn-ss-product-info',
    'ready',
  ).register('amzn-ss-social-share-handler', function (d, r, q, h, m, u, a, e, g) {
    var b = d.$,
      p = h.isDetailPage(),
      k = !1,
      c = h.getStringMap(),
      w = b('.amzn-ss-popover-spinner'),
      t = b('.amzn-ss-popover-third-party-message'),
      M = b('.amzn-ss-popover-link-failure-message'),
      C = null,
      B = {
        toolCreation: 'SS',
        ad_unit_type: 'Text',
        ad_unit_description: 'SiteStripe Share on Media',
        destination_type: '1' === p ? 'ASIN' : 'Multiple',
        page_type: '1' === p ? 'Detail' : 'Gateway',
        served_ind: 'N',
      },
      G = {
        popoverLabel: c.social_share_header_link,
        header: c.social_share_header_link,
        activate: 'onclick',
        width: 530,
      },
      A = function () {
        w.hide()
        t.hide()
        M.hide()
      },
      H = {
        facebook: { server: '//www.facebook.com', template: '/share.php?u\x3d__FULLURL__' },
        twitter: {
          server: 'https://twitter.com',
          template:
            '/intent/tweet?original_referer\x3d__FULLURL__\x26text\x3d__DESCRIPTION__\x26related\x3d__RELATEDACCOUNTS__\x26url\x3d__SHORTURL__\x26via\x3d__VIA__',
          relatedAccounts: 'amazondeals,amazonmp3',
        },
        ameba: {
          server: 'https://blog.ameba.jp',
          template: '/ucs/entry/srventryinsertinput.do?entry_text\x3d__HTMLTAG__',
        },
        goo: {
          server: 'https://blog.goo.ne.jp',
          template:
            '/admin/newentry/?fid\x3dbookmarklet\x26title\x3d__TITLE__\x26burl\x3d__FULLURL__',
        },
        livedoor: {
          server: 'https://livedoor.blogcms.jp',
          template: '//select/article/edit?_body\x3d__HTMLTAG__',
        },
        hatena: {
          server: 'https://blog.hatena.ne.jp',
          template: '/my/edit?body\x3d[asin:__ASIN__:detail]',
        },
      },
      I = function () {
        var a = ''
        if ('1' !== h.isDetailPage()) {
          var c = b('meta[name\x3ddescription]')
          c && c.attr('content')
            ? (a = c.attr('content'))
            : b('title') && b('title')[0] && (a = b('title')[0].text)
        } else
          document.getElementById('productTitle') &&
            (a = document.getElementById('productTitle').innerText)
        a && ((a = a.replace(/\r?\n|\r/g, '')), (a = a.trim()))
        return a
      },
      E = function (a, b, e, d) {
        d = d.replace('\x26linkId\x3d__LINKID__', '')
        var l = m.getGlobalStoreTag(),
          f = h.getLinkCode().shareLongLink,
          k = h.getCampaign()
        creative = c['shareOnCcmid_' + b + '_' + e]
        creative === x && (creative = c['shareOnCcmid_' + e])
        e = creative
        d = d.replace('__LINKCODE__', f)
        d = d.replace('__REFTAG__', 'as_li_ss_shr')
        d = d.replace('__LANGUAGE__', u.getLanguagePreferance())
        d = d.replace('__TRACKINGID__', l.trackingId)
        d = d.replace('__ASIN__', a)
        d = d.replace('__CAMP__', k)
        d = d.replace('__CCMID__', e)
        B.store_id = l.storeId
        B.tag = l.trackingId
        B.asin = a
        B.linkCode = f
        B.destination_url = d
        'twitter' === b
          ? (B.ad_unit_description = 'SiteStripe Share on Twitter')
          : 'facebook' === b && (B.ad_unit_description = 'SiteStripe Share on Facebook')
        a = q.get(B)
        return (d = (d + '\x26linkId\x3d__LINKID__').replace('__LINKID__', a))
      },
      F = function (a, b) {
        b && b.isOk && a(b.shortUrl)
      },
      z = function (a, b, c, e) {
        a(e)
      },
      y = function (a, b) {
        a(b)
      },
      D = function (a, b, c, e) {
        a(e)
      },
      J = function (b) {
        return new Promise(function (c, e) {
          a.makeXHR({
            url: g.Endpoint,
            methodType: 'GET',
            data: { ASIN: b, MARKETPLACEID: Associates.marketplaceId },
            dataType: 'json',
            successCB: y,
            failureCB: D,
            successCBArgs: [c],
            failureCBArgs: [e],
          })
        })
      },
      L = function (b) {
        return new Promise(function (c, e) {
          a.makeXHR({
            url: '/associates/sitestripe/getShortUrl',
            methodType: 'GET',
            data: { longUrl: b, marketplaceId: h.getMarketplaceId() },
            dataType: 'json',
            successCB: F,
            failureCB: z,
            successCBArgs: [c],
            failureCBArgs: [e],
          })
        })
      },
      f = function (a, b) {
        var c = I(),
          e = ''
        if ('1' == p) {
          var d = h.getImageLinkTemplate(),
            f = d.imageLinkTemplate
          u.getLanguagePreferance() && (f = d.imageLinkLangPrefTemplate)
          f = f.replace('__WIDGETSERVERHOST__', h.getWidgetServerHost())
          f = f.replace('__ASIN__', b)
          f = f.replace('__TRACKINGID__', m.getGlobalStoreTag().trackingId)
          f = f.replace('__LANGUAGE__', u.getLanguagePreferance())
          f = f.replace('__LOCALE__', h.getLocale())
          ;(b = f = f.replace('__IMAGEFORMAT__', '_SL160_')) &&
            (e = '\x3cimg src\x3d"' + b + '"\x3e')
        }
        return encodeURIComponent('\x3ca  href\x3d"' + a + '"\x3e' + e + c + '\x3c/a\x3e')
      },
      n = function (a) {
        var b,
          e,
          d,
          k = m.getAsin(),
          l = a.sharePlatform
        J(k)
          .then(function (a) {
            var c = '',
              f = 0,
              l = '',
              g = '',
              n = '',
              q = ''
            a &&
              a[k] &&
              ((productData = a[k]),
              (c = productData.contributor_name),
              (f = productData.price),
              (l = productData.currency),
              (g = productData.currency_icon),
              (n = productData.savings_percentage),
              (q = productData.title))
            f && (f = f.toFixed(2))
            e = { asin: k, brand: c, price: f, currency: l, currency_icon: g, savings: n, title: q }
            a = e
            a.asin === x || 'NA' === a.asin
              ? (d = h.getGenericMessageId())
              : ((c = h.getBaseMessageId()),
                h.getShareOnHasDeals()
                  ? 10 < a.savings
                    ? (c += '4')
                    : ((c += '2'), (a.price && 0 !== a.price) || (c += h.getNoPricePrefix()))
                  : (c += '1'),
                a.brand || (c += h.getNoBylinePrefix()),
                (d = c))
            a = m.getLongUrlTemplate()
            '1' === p && (a += '\x26creativeASIN\x3d__ASIN__')
            b = a + '\x26camp\x3d__CAMP__\x26creative\x3d__CCMID__'
          })
          .catch(function (a) {
            b = m.getLongUrlTemplate()
          })
          .finally(function () {
            var a = E(k, l, d, b),
              g = H[l].server + H[l].template
            switch (l) {
              case 'facebook':
                g = g.replace('__FULLURL__', encodeURIComponent(a))
                break
              case 'twitter':
                var n, p
                L(a)
                  .then(function (a) {
                    p = a
                  })
                  .catch(function (a) {
                    p = ''
                  })
                  .finally(function () {
                    var b = (n =
                        e === x
                          ? { shortUrl: p, fullurl: a }
                          : {
                              shortUrl: p,
                              title: e.title,
                              brand: e.brand,
                              price: e.price,
                              currency: e.currency,
                              currency_icon: e.currency_icon,
                              fullurl: a,
                            }),
                      f = g,
                      k
                    ;((k = c[d]) && 0 !== k.length) || (k = '__TITLE__')
                    var l = 268
                    'string' == typeof b.shortUrl && (l -= b.shortUrl.length + 1)
                    if (h.getShareOnHasDeals() && b.price && (b.currency || b.currency_icon)) {
                      var m = b.currency_icon ? b.currency_icon + b.price : b.price + b.currency
                      k = k.replace('__PRICE__', m)
                    }
                    b.brand && (k = k.replace('__BRAND__', b.brand))
                    m = b.title ? b.title : I()
                    l -= k.length - 9
                    'string' == typeof m &&
                      m.length > l &&
                      ((m = m.substring(0, l - 3)), (m += '...'))
                    k = k.replace('__TITLE__', m)
                    f = f.replace('__SHORTURL__', encodeURIComponent(b.shortUrl || ''))
                    b = f.replace('__FULLURL__', encodeURIComponent(b.fullurl))
                    b = b.replace('__DESCRIPTION__', encodeURIComponent(k))
                    b = b.replace('__VIA__', 'amazon')
                    f = b = b.replace('__RELATEDACCOUNTS__', H.twitter.relatedAccounts)
                    C && C.hide()
                    v.open(
                      f,
                      '_blank',
                      'toolbar \x3d no, location \x3d yes, status \x3d no, menubar \x3d no, scrollbars \x3d yes, resizable \x3d yes, width \x3d 700, height \x3d 400',
                    )
                  })
                break
              case 'ameba':
                var m = f(a, k)
                g = g.replace('__HTMLTAG__', m)
                break
              case 'goo':
                m = I()
                g = g.replace('__TITLE__', m)
                g = g.replace('__FULLURL__', encodeURIComponent(a))
                break
              case 'livedoor':
                m = f(a, k)
                g = g.replace('__HTMLTAG__', m)
                break
              case 'hatena':
                g = g.replace('__ASIN__', k)
            }
            'twitter' != l &&
              (C && C.hide(),
              v.open(
                g,
                '_blank',
                'toolbar \x3d no, location \x3d yes, status \x3d no, menubar \x3d no, scrollbars \x3d yes, resizable \x3d yes, width \x3d 700, height \x3d 400',
              ))
          })
      }
    d.on('a:popover:show:amzn-ss-popover-social-share-preload-content', function (a) {
      k = !0
    })
    d.on('a:popover:afterHide:amzn-ss-popover-social-share-preload-content', function (a) {
      k = !1
    })
    d.declarative('amzn-ss-share-on-platform', 'click', function (a) {
      if (!k) {
        var c = b('#amzn-ss-social-share-' + a.data.sharePlatform)
        G.name = 'amzn-ss-popover-social-share-preload-content-' + a.data.sharePlatform
        C = r.create(c, G)
        A()
        C.show()
        w.show()
        p
          ? e.isThirdPartyExcludedAsin({
              asin: m.getAsin(),
              sharePlatform: a.data.sharePlatform,
              isSocialShare: !0,
            })
          : n({ sharePlatform: a.data.sharePlatform })
      }
    })
    d.on('amzn-ss-third-party-excluded-asin-callback', function (a) {
      if (a.isSocialShare)
        switch (a.status) {
          case 1:
            n(a)
            break
          case 2:
            A()
            t.show()
            break
          default:
            A(), M.show()
        }
    })
  })
  ;('use strict')
  t.when(
    'A',
    'a-dropdown',
    'a-button',
    'amzn-ss-app-config',
    'amzn-ss-sitestripe',
    'amzn-ss-make-xhr',
    'amzn-ss-store-tag-manager',
  ).register('amzn-ss-store-tag', function (d, r, q, h, m, u, a) {
    var e = d.$,
      g = h.isDetailPage(),
      b = { storeId: a.getGlobalStore(), trackingId: a.getGlobalTag() },
      p = function () {
        return b.trackingId
      },
      k = function () {
        if (b.storeId === x || '' === b.storeId.trim()) b.storeId = a.getGlobalStore()
        if (b.trackingId === x || '' === b.trackingId.trim()) b.trackingId = a.getGlobalTag()
        return b
      },
      c = function (a) {
        return r.getSelect('amzn-ss-store-id-dropdown-' + a)
      },
      w = function (a) {
        return r.getSelect('amzn-ss-tracking-id-dropdown-' + a)
      },
      v = function (a) {
        var b = q('.amzn-ss-get-link-btn')
        !0 === a ? b.enable() : b.disable()
      },
      t = function () {
        var a = m.getUpdatedUrl()
        return '1' !== g ? 'NA' : C(a)
      },
      C = function (a) {
        for (
          var b = [/\/gp\/product\/([a-zA-Z0-9]{10})/, /\/dp\/([a-zA-Z0-9]{10})/], c = 0;
          c < b.length;
          c++
        ) {
          var e = b[c].exec(a)
          if (e) return e[1]
        }
        return 'NA'
      },
      B = function (a, b) {
        if (a) {
          for (var c = [], e = a.getOptions().size(), d = 0; d < e; d++) c[d] = d
          a.removeOptions(c)
          c = []
          for (d = 0; d < b.length; d++) c[d] = { text: b[d], value: b[d] }
          a.addOptions(c)
        }
      },
      G = function (d, k, g) {
        if (d) {
          var h = c(g),
            m = w(g),
            p = h.val(),
            q = m.val()
          d = d[p]
          p !== x &&
            d !== x &&
            'object' === typeof d &&
            ((b.storeId = h.val()),
            a.updateUrls(k[p]),
            B(m, d),
            m.setValue(-1 === e.inArray(q, d) ? d[0] : q),
            A(g))
        }
      },
      A = function (a) {
        var c = w(a)
        b.trackingId = c.val()
        v(!0)
        switch (a) {
          case 'text':
            d.trigger('amzn-ss-text-popover-store-tag-updated', k())
            break
          case 'image':
            d.trigger('amzn-ss-image-popover-get-link', k())
            break
          case 'text-image':
            d.trigger('amzn-ss-text-image-popover-get-link', k())
        }
      },
      H = function (a, d) {
        var k = b.storeId,
          g = p(),
          h = c(d)
        d = w(d)
        a = a[k]
        a !== x && -1 !== e.inArray(g, a) && h && d && (h.setValue(k), B(d, a), d.setValue(g))
      },
      I = function (a, b) {
        if (a) {
          var d = b.length,
            e = 0,
            k = [],
            g
          for (g in a) a.hasOwnProperty(g) && (k[e++] = g)
          for (e = 0; e < d; e++) B(c(b[e]), k), H(a, b[e])
        }
      }
    d.declarative('amzn-ss-get-link', 'click', function (a) {
      d.trigger('amzn-ss-text-popover-get-link', k())
    })
    d.on('amzn-ss-store-tag-change-event', H)
    return {
      getLongUrlTemplate: function () {
        var a = m.getUpdatedUrl()
        if ('1' === g) {
          var b = t(),
            c = C(a)
          a = b !== c ? a.replace(c, b) : a
        }
        a += '\x26linkCode\x3d__LINKCODE__\x26tag\x3d__TRACKINGID__\x26linkId\x3d__LINKID__'
        m.getLanguagePreferance() && (a += '\x26language\x3d__LANGUAGE__')
        return a + '\x26ref_\x3d__REFTAG__'
      },
      getAsin: t,
      getGlobalStoreTag: k,
      getTag: p,
      enableGetLinkButton: v,
      updateDefaultStoreTagAtServer: function () {
        a.updateGlobalStoreTag(b.storeId, p())
      },
      setTwisterState: function (a) {},
      updateDropdown: B,
      handleStoreDropdownChange: function (b) {
        a.fetchStoreTagMap(G, b)
      },
      handleTagDropdownChange: A,
      populateStoreTagDropdown: function (b) {
        a.isStoreTagMapAssigned()
          ? a.fetchStoreTagMap(I, [b])
          : a.fetchStoreTagMap(I, ['text', 'image', 'text-image'])
      },
    }
  })
  v.Associates || (v.Associates = {})
  Associates.siteStripeInitLibrary = function (d) {
    function r(a, d) {
      if (a === d) return !0
      for (; d && d !== a; ) d = d.parentNode
      return d === a
    }
    function q(a) {
      return (a = a.replace(
        /(assoc_ss_ref=)[^&]+/,
        '$1' + encodeURIComponent(Associates.RetailWebsiteUrl + v.location.pathname + u()),
      ))
    }
    Associates.AttachEventListener = function (a, d, g) {
      a.addEventListener ? a.addEventListener(d, g, !1) : a.attachEvent('on' + d, g)
    }
    Associates.absPos = function (a) {
      if (a.offsetParent) {
        for (var d = 0, g = 0; a; ) (g += a.offsetTop), (d += a.offsetLeft), (a = a.offsetParent)
        return { x: d, y: g }
      }
    }
    String.prototype.Associates_containsToken = function (a) {
      return new RegExp('(?:^| )' + a + '(?: |$)').test(this)
    }
    String.prototype.Associates_replaceToken = function (a, d) {
      return this.replace(new RegExp('(?:^| )' + a + '(?: |$)'), '')
    }
    Associates.ButtonStateMachine = function (a) {
      this.item = a
      this.setDOMHandlers()
      for (
        a = a.firstChild;
        a && (!a.className || !a.className.Associates_containsToken('button_left_cap'));

      )
        a = a.nextSibling
      this.end_cap = a
    }
    Associates.ButtonStateMachine.prototype.setDOMHandlers = function () {
      var a = this
      Associates.AttachEventListener(this.item, 'mouseover', function (d) {
        a.setHovered(!0)
      })
      Associates.AttachEventListener(this.item, 'mouseout', function (d) {
        a.setHovered(!1)
      })
      Associates.AttachEventListener(this.item, 'mousedown', function (d) {
        a.setPressed(!0)
      })
      Associates.AttachEventListener(this.item, 'mouseup', function (d) {
        a.setPressed(!1)
      })
      Associates.AttachEventListener(this.item, 'click', function (d) {
        a.click(d)
      })
    }
    Associates.ButtonStateMachine.prototype.click = function (a) {
      var d = this.item.getElementsByTagName('A')[0]
      a = a.target ? a.target : a.srcElement
      if (d && d != a)
        if (this.item.className.Associates_containsToken('menu_button'))
          if (d.click) d.click()
          else {
            if (d.onclick) d.onclick()
          }
        else
          this.setHovered(!1),
            '_blank' == d.target ? v.open(d.href, d.target) : (document.location = d.href)
    }
    Associates.ButtonStateMachine.prototype._setButtonState = function (a) {
      a.match(/^(hover|down|normal)$/) &&
        ('normal' == a && (a = ''),
        (this.item.className = this.item.className.Associates_replaceToken(
          '(?:hover_button|down_button)',
          '',
        )),
        (this.end_cap.className = this.end_cap.className.Associates_replaceToken(
          '(?:hover_left_cap|down_left_cap)',
          '',
        )),
        '' != a &&
          ((this.item.className = this.item.className + ' ' + a + '_button'),
          (this.end_cap.className = this.end_cap.className + ' ' + a + '_left_cap')))
    }
    Associates.ButtonStateMachine.prototype.setHovered = function (a) {
      this.hovered = a
      this.lock_pressed || this._setButtonState(a ? 'hover' : 'normal')
    }
    Associates.ButtonStateMachine.prototype.setPressed = function (a) {
      a ? this._setButtonState('down') : this._setButtonState(this.hovered ? 'hover' : 'normal')
    }
    Associates.ButtonStateMachine.prototype.lockPressed = function (a) {
      this.lock_pressed = a
      this.setPressed(a)
    }
    Associates.ButtonStateMachine.initButtonsFoundInElement = function (a) {
      a = a.getElementsByTagName('DIV')
      for (var d = 0; d < a.length; d++)
        a[d].className.Associates_containsToken('button') &&
          !a[d].className.Associates_containsToken('disabled_button') &&
          (a[d].Associates_button_state_machine &&
          a[d].Associates_button_state_machine.setDOMHandlers
            ? a[d].Associates_button_state_machine.setDOMHandlers()
            : (a[d].Associates_button_state_machine = new Associates.ButtonStateMachine(a[d])))
    }
    Associates.ButtonStateMachine.init = function () {
      try {
        document.execCommand('BackgroundImageCache', !1, !0)
      } catch (e) {}
      var a = document.getElementById(Associates.siteStripePrefix + 'wrap')
      Associates.ButtonStateMachine.initButtonsFoundInElement(a)
    }
    Associates.SiteStripeSettingsAndSofty = {}
    Associates.SiteStripeSettingsAndSofty.init = function (a) {
      var d = a('#' + Associates.siteStripePrefix + '_share_on_softy_arrow'),
        g = a('#' + Associates.siteStripePrefix + 'softy_wrap'),
        b = a('#' + Associates.siteStripePrefix + '_share_page_trigger'),
        h = a('#' + Associates.siteStripePrefix + '_settings_button'),
        k = a('#' + Associates.siteStripePrefix + 'settings_wrap'),
        c = a('#' + Associates.siteStripePrefix + '_short_link_trigger'),
        m = a('#' + Associates.siteStripePrefix + '_assoc_wrap'),
        u = a('.' + Associates.siteStripePrefix + '_assoc_x_button'),
        v = a('#' + Associates.siteStripePrefix + '_assoc_shortlink_loader'),
        t = a('#' + Associates.siteStripePrefix + '_assoc_shortlink_iframe')
      if (Associates.isAui)
        d.click(function (a) {
          g.show()
          a.preventDefault()
          a.stopPropagation()
          b[0].Associates_button_state_machine.lockPressed(!0)
        }),
          g.mouseleave(function () {
            g.hide()
            b[0].Associates_button_state_machine.lockPressed(!1)
          }),
          h.click(function (a) {
            k.show()
            a.preventDefault()
            a.stopPropagation()
            h[0].Associates_button_state_machine.lockPressed(!0)
          }),
          k.mouseleave(function () {
            k.hide()
            h[0].Associates_button_state_machine.lockPressed(!1)
          }),
          c.click(function (a) {
            var b = q(t.data('src'))
            t.prop('src', b)
            t[0].contentWindow.focus()
            v.show()
            m.show()
            a.preventDefault()
            a.stopPropagation()
            c[0].Associates_button_state_machine.lockPressed(!0)
          }),
          u.click(function (a) {
            m.hide()
            t.prop('src', 'about:blank')
            t[0].contentWindow.blur()
            c[0].Associates_button_state_machine.lockPressed(!1)
            a.preventDefault()
            a.stopPropagation()
          }),
          a(document).mousedown(function (a) {
            'undefined' === typeof h[0] ||
              r(k[0], a.target) ||
              (k.hide(), h[0].Associates_button_state_machine.lockPressed(!1))
            'undefined' === typeof b[0] ||
              r(g[0], a.target) ||
              (g.hide(), b[0].Associates_button_state_machine.lockPressed(!1))
            'undefined' === typeof c[0] ||
              r(m[0], a.target) ||
              (m.hide(),
              t.prop('src', 'about:blank'),
              t[0].contentWindow.blur(),
              c[0].Associates_button_state_machine.lockPressed(!1))
          }),
          k.click(function (a) {
            a.stopPropagation()
            return !0
          }),
          g.click(function (a) {
            a.stopPropagation()
            return !0
          }),
          m.click(function (a) {
            a.stopPropagation()
            return !0
          })
      else {
        c.unbind().click(function () {
          var a = q(t.attr('data-src'))
          t.attr('src', a)
          v.show()
        })
        d.amazonPopoverTrigger({
          localContent: '#' + Associates.siteStripePrefix + 'softy_wrap',
          width: null,
          skin: null,
          locationOffset: [-70, -12],
          closeEventInclude: ['MOUSE_LEAVE'],
          onShow: function () {
            b[0].Associates_button_state_machine.lockPressed(!0)
          },
          onHide: function () {
            b[0].Associates_button_state_machine.lockPressed(!1)
          },
        })
        h.amazonPopoverTrigger({
          localContent: '#' + Associates.siteStripePrefix + 'settings_wrap',
          width: null,
          skin: null,
          locationOffset: [0, -16],
          closeEventInclude: ['MOUSE_LEAVE'],
          onShow: function () {
            h[0].Associates_button_state_machine.lockPressed(!0)
          },
          onHide: function () {
            h[0].Associates_button_state_machine.lockPressed(!1)
          },
        })
        var x = c.amazonPopoverTrigger({
          localContent: '#' + Associates.siteStripePrefix + '_assoc_wrap',
          width: null,
          skin: null,
          locationOffset: [0, -10],
          closeEventInclude: ['CLICK_OUTSIDE'],
          onShow: function () {
            c[0].Associates_button_state_machine.lockPressed(!0)
            t[0].contentWindow.focus()
          },
          onHide: function () {
            c[0].Associates_button_state_machine.lockPressed(!1)
            t.attr('src', 'about:blank')
            t[0].contentWindow.blur()
          },
        })
        u.click(function () {
          x.amznPopoverHide()
        })
      }
      Associates.ButtonStateMachine.init()
    }
    Associates.SiteStripeLightbox = {}
    Associates.SiteStripeLightbox.init = function (a) {
      var e = a('#' + Associates.siteStripePrefix + '_page_trigger'),
        g = a('#' + Associates.siteStripePrefix + '_product_trigger'),
        b = a('#' + Associates.siteStripePrefix + '_widget_trigger')
      if (Associates.isAui)
        e.click(function (a) {
          a.stopPropagation()
          a.preventDefault()
          t.when('A', 'a-modal').execute(function (a, b) {
            var c = b.create(e, {
              url: q(Associates.lightboxURL),
              width: 685,
              cache: 0,
              name: 'assoc_modal',
            })
            a.on('a:popover:afterHide:assoc_modal', function (a) {
              b.remove(a.popover)
            })
            c.show()
          })
        }),
          g.click(function (a) {
            a.stopPropagation()
            a.preventDefault()
            t.when('A', 'a-modal').execute(function (a, b) {
              var c = b.create(g, {
                url: q(Associates.lightboxURL),
                width: 685,
                cache: 0,
                name: 'assoc_modal',
              })
              a.on('a:popover:afterHide:assoc_modal', function (a) {
                b.remove(a.popover)
              })
              c.show()
            })
          }),
          b.click(function (a) {
            a.stopPropagation()
            a.preventDefault()
            t.when('A', 'a-modal').execute(function (a, d) {
              var c = d.create(b, {
                url: Associates.widgetLightboxURL,
                width: 1038,
                cache: 0,
                name: 'assoc_modal',
              })
              a.on('a:popover:afterHide:assoc_modal', function (a) {
                d.remove(a.popover)
              })
              c.show()
            })
          })
      else {
        var p = {
          width: 685,
          destination: function () {
            return q(Associates.lightboxURL)
          },
          closeEventExclude: ['CLICK_OUTSIDE'],
          locationOffset: [0, -50],
          modal: !0,
        }
        e.amazonPopoverTrigger(p)
        g.amazonPopoverTrigger(p)
        b.amazonPopoverTrigger({
          width: 1038,
          destination: Associates.widgetLightboxURL,
          closeEventExclude: ['CLICK_OUTSIDE'],
          locationOffset: [0, -50],
          modal: !0,
        })
      }
      a('#' + Associates.siteStripePrefix + '_share_page_trigger').click(h)
      a(
        '#' +
          Associates.siteStripePrefix +
          'softy_wrap #' +
          Associates.siteStripePrefix +
          'softy .button',
      ).click(function (b) {
        b.stopPropagation()
        b = a('span.button_content span', this).attr('name')
        var c = m(b)
        this.Associates_button_state_machine.setHovered(!1)
        a('#' + Associates.siteStripePrefix + '_share_on_softy_arrow').click()
        if (c) {
          d('#' + Associates.siteStripePrefix + '_share_on_' + b)
          c = v.Associates.SocialShareAttributes[b].hoverText
          var e = d('#' + Associates.siteStripePrefix + '_share_on_softy_text'),
            h = v.Associates.SocialShareAttributes.shareDefault.platform,
            g = d('#' + Associates.siteStripePrefix + '_share_on_softy')
          g.removeClass(h)
          g.addClass(b)
          g.attr('title', c)
          e.attr('title', c)
          v.Associates.SocialShareAttributes.shareDefault.platform = b
        }
      })
      p = a('#' + Associates.siteStripePrefix + '_share_excluded_trigger')
      Associates.isAui
        ? p.click(function (a) {
            t.when('A', 'a-modal').execute(function (a, b) {
              var c = b.create(a.$('#' + Associates.siteStripePrefix + '_share_excluded_trigger'), {
                content: '\x3cspan\x3e' + Associates.thirdPartyExcludedMessage + '\x3c/span\x3e',
                width: 685,
                name: 'assoc_modal',
              })
              a.on('a:popover:afterHide:assoc_modal', function (a) {
                b.remove(a.popover)
              })
              c.show()
            })
            a.stopPropagation()
            a.preventDefault()
          })
        : p.amazonPopoverTrigger({
            width: 685,
            localContent: '\x3cspan\x3e' + Associates.thirdPartyExcludedMessage + '\x3c/span\x3e',
            closeEventExclude: ['CLICK_OUTSIDE'],
            locationOffset: [0, -50],
            modal: !0,
          })
    }
    var h = function (a) {
        return d('#' + Associates.siteStripePrefix + '_share_on_softy_arrow').length &&
          a.pageX >= d('#' + Associates.siteStripePrefix + '_share_on_softy_arrow').offset().left
          ? d('#' + Associates.siteStripePrefix + '_share_on_softy_arrow').click()
          : m(v.Associates.SocialShareAttributes.shareDefault.platform)
      },
      m = function (a) {
        var e = '',
          g = v.Associates.SocialShareAttributes.asin,
          b = v.Associates.SocialShareAttributes[a].blockNonDetail
        if (v.Associates.SocialShareAttributes.thirdPartyExcludedAsin)
          return (
            Associates.isAui
              ? t.when('A', 'a-modal', 'ready').execute(function (a, b) {
                  var c = b.create(a.$('div#assoc_logo'), {
                    content:
                      '\x3cspan\x3e' + Associates.thirdPartyExcludedMessage + '\x3c/span\x3e',
                    width: 685,
                    name: 'assoc_modal',
                  })
                  a.on('a:popover:afterHide:assoc_modal', function (a) {
                    b.remove(a.popover)
                  })
                  c.show()
                })
              : d.AmazonPopover.displayPopover({
                  width: 685,
                  localContent:
                    '\x3cspan\x3e' + Associates.thirdPartyExcludedMessage + '\x3c/span\x3e',
                  closeEventExclude: ['CLICK_OUTSIDE'],
                  locationOffset: [0, -50],
                  modal: !0,
                }),
            !1
          )
        if (!g) {
          if (b)
            return (
              Associates.isAui
                ? t.when('A', 'a-modal', 'ready').execute(function (a, b) {
                    var c = b.create(a.$('div#assoc_logo'), {
                      content: '\x3cspan\x3e' + Associates.onlyDetailMessage + '\x3c/span\x3e',
                      width: 685,
                      name: 'assoc_modal',
                    })
                    a.on('a:popover:afterHide:assoc_modal', function (a) {
                      b.remove(a.popover)
                    })
                    c.show()
                  })
                : d.AmazonPopover.displayPopover({
                    width: 685,
                    localContent: '\x3cspan\x3e' + Associates.onlyDetailMessage + '\x3c/span\x3e',
                    closeEventExclude: ['CLICK_OUTSIDE'],
                    locationOffset: [0, -50],
                    modal: !0,
                  }),
              !1
            )
          e = null
          null != d('meta[name\x3ddescription]') &&
            (e = d('meta[name\x3ddescription]').attr('content'))
          ;(null != e && 0 != e.length) ||
            null == d('title') ||
            null == d('title')[0] ||
            (e = d('title')[0].text)
          e = null != e ? e.substring(0, 140 < e.length ? 140 : e.length) : ''
          e = '\x26message\x3d' + encodeURIComponent(e)
        }
        g = v.Associates.SocialShareAttributes.shareDefault.platform == a ? '' : 'true'
        Associates.shareSocialURL = q(Associates.shareSocialURL)
        v.open(
          Associates.shareSocialURL + e + '\x26socialPlatform\x3d' + a + '\x26reqEmb\x3d' + g,
          '_blank',
          'location\x3dyes,width\x3d700,height\x3d400',
        )
        return !0
      },
      u = function () {
        var a = decodeURIComponent(v.location.search),
          d = [
            /(&?linkId=)[^&"]+/gi,
            /(&?tag=)[^&"]+/gi,
            /(&?creative=)[^&"]+/gi,
            /(&?camp=)[^&"]+/gi,
            /(&?creativeASIN=)[^&"]+/gi,
            /(&?linkCode=)[^&"]+/gi,
          ]
        if (a) for (var g = 0; g < d.length; g++) a = a.replace(d[g], '')
        else a = '?ie\x3dUTF8'
        return encodeURI(a)
      }
    Associates.SiteStripeLightbox.showLightbox = function (a, d) {
      a('#' + Associates.siteStripePrefix + '_' + d + '_trigger').trigger('click')
    }
    Associates.isAui
      ? t.register('assoc_ss', function () {
          return {
            init: function (a) {
              Associates.SiteStripeSettingsAndSofty.init(a)
            },
            initLightbox: function (a) {
              Associates.SiteStripeLightbox.init(a)
            },
            showLightbox: function (a, d) {
              Associates.SiteStripeLightbox.showLightbox(a, d)
            },
          }
        })
      : amznJQ.declareAvailable('assoc_ss')
  }
  Associates !== x &&
    Associates.isAui !== x &&
    Associates.initModules === x &&
    ((Associates.initModules = !0),
    Associates.isAui
      ? t.when('A', 'ready').execute(function (d) {
          Associates.siteStripeInitLibrary(d.$)
        })
      : amznJQ.available('popover', function () {
          Associates.siteStripeInitLibrary(jQuery)
        }))
})
/* ******** */
;(function (g) {
  var e = window.AmazonUIPageJS || window.P,
    h = e._namespace || e.attributeErrors,
    a = h ? h('GlowToasterAssets', '') : e
  a.guardFatal
    ? a.guardFatal(g)(a, window)
    : a.execute(function () {
        g(a, window)
      })
})(function (g, e, h) {
  g.when(
    'A',
    'a-alert',
    'glow-toaster-action-registry',
    'glow-toaster-overlay',
    'glow-toaster-strings',
  ).register('glow-toaster', function (a, f, m, b, d) {
    function l(c) {
      e.ue && 'function' === typeof e.ue.count && e.ue.count(c, (e.ue.count(c) || 0) + 1)
    }
    function n() {
      return a.capabilities.mobile ? 'MOBILE' : 'DESKTOP'
    }
    var k = a.$
    a.on('a:sheet:afterHide:wfm_mweb_qr_bottom_sheet', function () {
      g.register('QRClosed', function () {})
    })
    var p = function (c) {
      this.animationEnabled = !0
      this.params = c || {}
      this.slot = 'DEFAULT'
      this.csrfToken = ''
      this.type = h
      this.blocking = !1
      this.automaticAction = h
      this.executeAction = { OPEN_GLOW: this.openGlowAutomaticAction }
      this.FETCH_TOASTER_SUCCESS_METRIC = 'GLOW:fetch-toaster:' + n() + ':success'
      this.FETCH_TOASTER_FAILURE_METRIC = 'GLOW:fetch-toaster:' + n() + ':failure'
      this.GLOW_TOASTER_SCOPE = 'glow-toaster-api-timer-' + n()
      this.slots = {
        DEFAULT: a.capabilities.mobile ? '#nav-subnav-toaster' : '#nav-flyout-anchor',
        SUBNAV: '#nav-subnav-toaster',
      }
      this.selectors = {
        navbar: '#navbar',
        subnav: '#nav-subnav',
        toaster: '.glow-toaster',
        actionButton: '.glow-toaster-button',
        actionError: '.glow-toaster-error',
      }
      this.endpoint = '/portal-migration/hz/glow/get-rendered-toaster'
      this.refreshXhr = h
      this.initEvents()
    }
    k.extend(p.prototype, {
      initEvents: function () {
        a.on('packard:glow:destinationChangeAll', this.handleGlowAddressChange.bind(this))
        a.on('a:popover:beforeShow', this.handlePopoverBeforeShow.bind(this))
        a.on('a:popover:afterHide', this.handlePopoverAfterHide.bind(this))
        a.on('a:sheet:beforeShow', this.handleSheetBeforeShow.bind(this))
        a.on('a:sheet:afterHide', this.handleSheetAfterHide.bind(this))
        a.on.ready(this.handlePageReady.bind(this))
        k(e).bind('beforeunload', this.handleBeforeUnload.bind(this))
        k(e).bind('focusin', this.handleFocusIn.bind(this))
      },
      refresh: function () {
        this.ready &&
          (this.hide(),
          this.abortRefresh(),
          'function' === typeof e.uet && e.uet('bb', this.GLOW_TOASTER_SCOPE, { wb: 1 }),
          (this.refreshXhr = a.get(this.endpoint, {
            params: this.params,
            cache: !1,
            success: function (c, a, d) {
              l(this.FETCH_TOASTER_SUCCESS_METRIC)
              'string' === typeof c &&
                (this.update(c),
                'function' === typeof e.uex && e.uex('ld', this.GLOW_TOASTER_SCOPE, { wb: 1 }))
            }.bind(this),
            error: function (c, a, d) {
              l(this.FETCH_TOASTER_FAILURE_METRIC)
              e.ueLogError &&
                e.ueLogError(d, {
                  logLevel: 'WARN',
                  attribution: 'glow-toaster-refresh-error',
                  message: 'Glow toaster load failed with status:' + a,
                })
            }.bind(this),
          })))
      },
      remove: function () {
        this.getToasterElement().remove()
      },
      show: function () {
        ;(!a.capabilities.mobile && 'DEFAULT' == this.slot) || !this.animationEnabled
          ? this.getToasterElement().show()
          : this.getToasterElement().slideDown()
        this.blocking && b.show()
        a.capabilities.isAmazonApp && a.capabilities.ios && e.scrollTo(0, -999)
      },
      hide: function () {
        ;(!a.capabilities.mobile && 'DEFAULT' == this.slot) || !this.animationEnabled
          ? this.getToasterElement().hide()
          : this.getToasterElement().slideUp()
        this.blocking && b.hide()
      },
      isHidden: function () {
        return !this.getToasterElement().length || this.getToasterElement().is(':hidden')
      },
      isVisible: function () {
        return !this.isHidden()
      },
      showError: function (c) {
        this.setError(c)
        this.show()
      },
      showErrorID: function (c) {
        c = d.get(c)
        this.showError(c)
      },
      setError: function (c) {
        var a = this.getToasterElement().find(this.selectors.actionError)
        a = f(a)
        a.text(c || '')
        c ? a.show() : a.hide()
      },
      clearError: function () {
        this.setError('')
      },
      isActionFailureEmulated: function () {
        return /[?&]glowToasterActionEmulateFailure=1(&|$)/.test(location.href)
      },
      syncOverlay: function () {
        this.blocking ? b.show() : b.hide()
      },
      update: function (c) {
        c = c.trim()
        var a = !c.length
        this.remove()
        a ||
          ((a = k(c).hide()),
          a.is(this.selectors.toaster) || (a = this.createFatalErrorToaster(c)),
          this.importProps(a),
          this.attachActions(a),
          this.syncOverlay(),
          this.getContainerElement().append(a),
          this.show())
      },
      createFatalErrorToaster: function (c) {
        var d = 'glow-toaster glow-toaster-theme-alert glow-toaster-slot-default a-padding-medium',
          b = ''
        a.capabilities.isAmazonApp
          ? (d += ' glow-toaster-app')
          : a.capabilities.mobile ||
            ((d += ' nav-coreFlyout nav-flyout'),
            (b =
              '\x3cdiv class\x3d"nav-arrow"\x3e\x3cdiv class\x3d"nav-arrow-inner"\x3e\x3c/div\x3e\x3c/div\x3e'))
        c = k(
          '\x3cdiv class\x3d"' +
            d +
            '" data-toaster-slot\x3d"DEFAULT"\x3e\x3cdiv class\x3d"glow-toaster-content"\x3e' +
            b +
            '\x3cdiv class\x3d"glow-toaster-body"\x3e' +
            c +
            '\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',
        )
        c.hide()
        return c
      },
      getCurrentContainer: function () {
        return this.slots[this.slot]
      },
      getContainerElement: function () {
        var c = this.getCurrentContainer()
        return k(c)
      },
      getToasterElement: function () {
        var c = this.getCurrentContainer()
        return k(c + ' ' + this.selectors.toaster)
      },
      importProps: function (c) {
        c = c.data()
        c.toasterSlot && (this.slot = c.toasterSlot)
        this.type = c.toasterType || h
        this.blocking = !!parseInt(c.toasterBlocking)
        this.automaticAction = c.toasterAutomaticAction || h
        this.csrfToken = c.toasterCsrftoken || c.csrfToken || ''
      },
      attachActions: function (c) {
        c.bind(
          'click touchstart',
          this.selectors.actionButton,
          this.handleActionButtonClick.bind(this),
        )
        this.automaticAction &&
          this.executeAction[this.automaticAction] &&
          this.executeAction[this.automaticAction].call(this)
      },
      abortRefresh: function () {
        this.refreshXhr && (this.refreshXhr.abort(), (this.refreshXhr = h))
      },
      handleActionButtonClick: function (c) {
        k(c.target).is('a') || (c.stopImmediatePropagation(), c.preventDefault())
        c = k(c.target).data()
        if (c.actionType) {
          var a = m.getByActionType(c.actionType)
          a &&
            ('SET_POSTAL_CODE' === c.actionType &&
              (c.actionParams.zipCode = k('input#glow-toaster-postal-code-input').val()),
            a.handle(this, c.actionParams))
        }
      },
      handleGlowAddressChange: function () {
        this.refresh()
      },
      handlePopoverBeforeShow: function (a) {
        a = a && a.popover && a.popover.type
        this.blocking && 'modal' == a && this.isVisible() && b.hide()
      },
      handlePopoverAfterHide: function (a) {
        a = a && a.popover && a.popover.type
        this.blocking && 'modal' == a && this.isVisible() && b.show()
      },
      handleSheetBeforeShow: function () {
        this.blocking && this.isVisible() && b.hide()
      },
      handleSheetAfterHide: function () {
        this.blocking && this.isVisible() && b.show()
      },
      handleBeforeUnload: function () {
        this.abortRefresh()
      },
      handlePageReady: function () {
        this.ready = !0
        this.refresh()
      },
      handleFocusIn: function (a) {
        if (this.blocking && b.isVisible()) {
          var c = this.getToasterElement(),
            d = k(this.selectors.subnav).has(a.target).length,
            f = k(this.selectors.navbar).add(this.getContainerElement()).has(a.target).length
          a = this.getContainerElement().has(a.target).length
          if (d || (!f && !a)) c.focus(), b.sync()
        }
      },
      openGlowAutomaticAction: function () {
        var a = e.location.pathname.includes('storefront'),
          d = this.openGlow.bind(this)
        this.getDeviceType()
        a
          ? (g.when('A', 'FMCShowQrCodeTrue', 'QRClosed').execute(function () {
              d()
            }),
            g.when('A', 'FMCShowQrCodeFalse').execute(function () {
              d()
            }))
          : this.openGlow()
      },
      openGlow: function () {
        var a = k('#nav-global-location-slot .a-declarative'),
          d = k('#nav-global-location-slot.a-declarative')
        a && a.length ? a.click() : d && d.length && d.click()
      },
    })
    return p
  })
  ;('use strict')
  g.when('A').register('glow-toaster-string-container', function (a) {
    var f = a.$
    a = function (a) {
      this.stringMap = a || {}
    }
    f.extend(a.prototype, {
      get: function (a) {
        return this.stringMap[a] !== h ? this.stringMap[a] : ''
      },
      load: function (a) {
        f.extend(this.stringMap, a)
      },
    })
    return a
  })
  ;('use strict')
  g.when('glow-toaster-string-container').register('glow-toaster-strings', function (a) {
    return new a({
      'glow-toaster-address-change-error':
        'An address change error has occurred. Please try again.',
      'glow-toaster-unknown-error': 'An error has occurred. Please try again.',
    })
  })
  ;('use strict')
  g.when('A', 'glow-toaster').register('glow-toaster-manager', function (a, f) {
    var e = function () {}
    a.$.extend(e.prototype, {
      toasters: [],
      create: function (a) {
        a = new f(a)
        this.toasters.push(a)
        return a
      },
      getAll: function () {
        return this.toasters
      },
    })
    return new e()
  })
  ;('use strict')
  g.when('A').register('glow-toaster-overlay', function (a) {
    var f = a.$,
      g = function () {
        this.overlayClass = 'glow-toaster-overlay'
        this.overlayLockClass = 'glow-toaster-overlay-lock'
        this.insertAfterSelector = '#nav-subnav-toaster'
        this.$overlay = h
        this.$body = f(document.body)
        this.animationEnabled = !0
      }
    f.extend(g.prototype, {
      hide: function () {
        this.$overlay &&
          (this.$body.removeClass(this.overlayLockClass),
          this.animationEnabled ? this.$overlay.fadeOut() : this.$overlay.hide())
      },
      show: function () {
        this.$overlay || (this.createOverlay(), this.initEvents())
        this.sync()
        this.$body.addClass(this.overlayLockClass)
        this.animationEnabled ? this.$overlay.fadeIn() : this.$overlay.show()
      },
      isVisible: function () {
        return !!(this.$overlay && this.$overlay.length && this.$overlay.is(':visible'))
      },
      isHidden: function () {
        return !this.isVisible()
      },
      sync: function () {
        this.scrollTop()
        this.syncSize()
      },
      scrollTop: function () {
        f(document).scrollTop(0)
      },
      createOverlay: function () {
        this.$overlay = f('\x3cdiv\x3e')
          .addClass(this.overlayClass)
          .height(0)
          .insertAfter(this.insertAfterSelector)
        a.capabilities.touch && this.disableTouch()
      },
      disableTouch: function () {
        this.$overlay.bind('click touchstart', function (a) {
          a.cancelable && a.preventDefault()
        })
      },
      initEvents: function () {
        f(e).bind('resize', this.syncSize.bind(this))
      },
      syncSize: function () {
        if (this.$overlay && this.$overlay.length) {
          var a = this.getScreenHeight()
          this.$overlay.height(a)
          var d = this.getDocumentHeight()
          d > a && this.$overlay.height(d)
        }
      },
      getScreenHeight: function () {
        return f(e).height()
      },
      getDocumentHeight: function () {
        return f(document).height()
      },
    })
    return new g()
  })
  ;('use strict')
  g.when(
    'A',
    'glow-toaster-set-address-action',
    'glow-toaster-select-location-action',
    'glow-toaster-dismiss-action',
    'glow-toaster-set-postalcode-action',
  ).register('glow-toaster-action-registry', function (a, f, e, b, d) {
    var l = function (a) {
      this.actions = a || []
      this.hashActionsByType()
    }
    a.$.extend(l.prototype, {
      getByActionType: function (a) {
        return this.actionsByType[a]
      },
      getAll: function () {
        return this.actions
      },
      hashActionsByType: function () {
        this.actionsByType = a.reduce(
          this.actions,
          function (a, d) {
            a[d.name] = d
            return a
          },
          {},
        )
      },
    })
    return new l([f, e, b, d])
  })
  g.when('A').register('glow-toaster-dismiss-toaster-constants', function (a) {
    return {
      ENDPOINT: '/portal-migration/hz/glow/dismiss-toaster',
      PARAMS_FORMAT: 'json',
      CONTENT_TYPE: 'application/json',
    }
  })
  g.when('A').register('glow-toaster-select-location-constants', function (a) {
    return { ALM_ADDRESS_INELIGIBLE: 'ALM_ADDRESS_INELIGIBLE' }
  })
  g.when('A').register('glow-toaster-set-address-constants', function (a) {
    return {
      ENDPOINT: '/portal-migration/hz/glow/address-change?actionSource\x3dglow-toaster',
      PARAMS_FORMAT: 'json',
      CONTENT_TYPE: 'application/json',
    }
  })
  ;('use strict')
  g.when('A', 'glow-toaster-dismiss-toaster-constants').register(
    'glow-toaster-dismiss-action',
    function (a, e) {
      var f = a.$,
        b = function () {}
      f.extend(b.prototype, {
        name: 'DISMISS',
        endpoint: e.ENDPOINT,
        errorStringID: 'glow-toaster-unknown-error',
        paramsFormat: e.PARAMS_FORMAT,
        contentType: e.CONTENT_TYPE,
        handle: function (d, b) {
          d.hide()
          b.actionSource = 'web-' + (a.capabilities.mobile ? 'mobile' : 'desktop')
          a.post(this.endpoint, {
            params: b,
            paramsFormat: this.paramsFormat,
            headers: {
              'anti-csrftoken-a2z': f('.glow-toaster').attr('data-toaster-csrfToken') || '',
              'Content-Type': this.contentType,
            },
            success: function (a, b, e) {
              'object' !== typeof a || !a.success || d.isActionFailureEmulated()
                ? d.showErrorID(this.errorStringID)
                : d.refresh()
            }.bind(this),
            error: function (a, b, e) {
              d.showErrorID(this.errorStringID)
            }.bind(this),
          })
        },
      })
      return new b()
    },
  )
  ;('use strict')
  g.when('A', 'glow-toaster-select-location-constants').register(
    'glow-toaster-select-location-action',
    function (a, f) {
      var h = a.$,
        b = function () {}
      h.extend(b.prototype, {
        name: 'SELECT_LOCATION',
        errorStringID: 'glow-toaster-unknown-error',
        handle: function (a, b) {
          a.type !== f.ALM_ADDRESS_INELIGIBLE && a.hide()
          this.showAddressSelector(a, b)
        },
        showAddressSelector: function (d, b) {
          a.capabilities.isAmazonApp
            ? this.showAppAddressSelector(d, b)
            : this.showWebAddressSelector(d)
        },
        showAppAddressSelector: function (a, b) {
          this.csmLogCount(a)
          g.when('BottomSheetPlugin').execute(function (a) {
            a.ShowBottomSheet({ useCase: 'LocUX', paramsInJson: b || {} })
          })
        },
        showWebAddressSelector: function (a) {
          var d = h('#nav-global-location-slot .a-declarative'),
            b = h('#nav-global-location-slot.a-declarative'),
            e = a.isActionFailureEmulated()
          d.length && !e
            ? (d.click(), this.csmLogCount(a))
            : b.length && !e
              ? (b.click(), this.csmLogCount(a))
              : (a.showErrorID(this.errorStringID), this.csmLogCount(a, !0))
        },
        csmLogCount: function (a, b) {
          e.ue &&
            e.ue.count &&
            ((a =
              'GlowToaster:' +
              (b ? 'SelectLocationFailed' : 'SelectLocation') +
              ':' +
              a.type +
              ':' +
              this.getDeviceType() +
              ':'),
            e.ue.count(a, 1))
        },
        getDeviceType: function () {
          return a.capabilities.isAmazonApp
            ? 'APP'
            : a.capabilities.tablet
              ? 'TABLET'
              : a.capabilities.mobile
                ? 'MOBILE'
                : 'DESKTOP'
        },
      })
      return new b()
    },
  )
  ;('use strict')
  g.when('A', 'glow-toaster-set-address-constants').register(
    'glow-toaster-set-address-action',
    function (a, f) {
      var h = function () {}
      a.$.extend(h.prototype, {
        name: 'SET_ADDRESS',
        endpoint: f.ENDPOINT,
        errorStringID: 'glow-toaster-address-change-error',
        forceReload: !0,
        handle: function (b, d) {
          if (d && d.addressID) {
            b.hide()
            var g = 'generic'
            b.params && b.params.storeName && (g = b.params.storeName)
            a.post(this.endpoint, {
              headers: { 'anti-csrftoken-a2z': b && b.csrfToken ? b.csrfToken : '' },
              params: {
                locationType: 'ACCOUNT_ADDRESS',
                addressId: d.addressID,
                storeContext: g,
                deviceType: 'web',
                pageType: e.ue_pty,
                actionSource: 'glow-toaster',
                toasterType: b.type,
              },
              paramsFormat: f.PARAMS_FORMAT,
              contentType: f.CONTENT_TYPE,
              success: function (a, d, e) {
                'object' !== typeof a || !a.sembuUpdated || b.isActionFailureEmulated()
                  ? b.showErrorID(this.errorStringID)
                  : this.refreshGlowIngress()
              }.bind(this),
              error: function (a, d, e) {
                b.showErrorID(this.errorStringID)
              }.bind(this),
            })
          }
        },
        refreshGlowIngress: function () {
          a.capabilities.isAmazonApp
            ? g.when('BottomSheetPlugin').execute(
                function (a) {
                  a.UpdateGlowIngress({})
                  this.onGlowIngressRefreshComplete()
                }.bind(this),
              )
            : (a.trigger('packard:glow:destinationChangeNav'), this.onGlowIngressRefreshComplete())
        },
        onGlowIngressRefreshComplete: function () {
          this.forceReload ? e.location.reload() : toaster.refresh()
        },
      })
      return new h()
    },
  )
  ;('use strict')
  g.when('A', 'glow-toaster-set-address-constants').register(
    'glow-toaster-set-postalcode-action',
    function (a, f) {
      var m = a.$,
        b = function () {}
      m.extend(b.prototype, {
        name: 'SET_POSTAL_CODE',
        endpoint: f.ENDPOINT,
        forceReload: !0,
        handle: function (d, b) {
          b &&
            null !== b.zipCode &&
            b.zipCode !== h &&
            a.post(this.endpoint, {
              headers: { 'anti-csrftoken-a2z': d && d.csrfToken ? d.csrfToken : '' },
              params: {
                locationType: 'LOCATION_INPUT',
                zipCode: this.preparePostalCodeForSubmit(b.zipCode),
                deviceType: 'web',
                pageType: e.ue_pty,
                actionSource: 'glow-toaster',
                toasterType: d.type,
              },
              paramsFormat: f.PARAMS_FORMAT,
              contentType: f.CONTENT_TYPE,
              success: function (a, e, f) {
                'object' !== typeof a || !a.sembuUpdated || d.isActionFailureEmulated()
                  ? (d.showError(b.inputError),
                    m('input#glow-toaster-postal-code-input').addClass('a-form-error'))
                  : this.refreshGlowIngress()
              }.bind(this),
              error: function (a, e, f) {
                d.showError(b.inputError)
              }.bind(this),
            })
        },
        refreshGlowIngress: function () {
          a.capabilities.isAmazonApp
            ? g.when('BottomSheetPlugin').execute(
                function (a) {
                  a.UpdateGlowIngress({})
                  this.onGlowIngressRefreshComplete()
                }.bind(this),
              )
            : (a.trigger('packard:glow:destinationChangeNav'), this.onGlowIngressRefreshComplete())
        },
        preparePostalCodeForSubmit: function (a) {
          return a.replace(/[^A-Za-z0-9- /]+/g, '')
        },
        onGlowIngressRefreshComplete: function () {
          this.forceReload ? e.location.reload() : toaster.refresh()
        },
      })
      return new b()
    },
  )
})
/* ******** */
;(function (h) {
  var f = window.AmazonUIPageJS || window.P,
    k = f._namespace || f.attributeErrors,
    a = k ? k('AmazonBusinessRetailNavigationAssets', '') : f
  a.guardFatal
    ? a.guardFatal(h)(a, window)
    : a.execute(function () {
        h(a, window)
      })
})(function (h, f, k) {
  ;(function (a) {
    a.when(
      '$',
      '$F',
      'flyouts.create',
      'config',
      'flyouts.anchor',
      'data',
      'provider.dynamicMenu',
      'agent',
      'log',
    ).run('flyout.abAcquisition', function (g, c, a, b, d, f, h, k, l) {
      c = g('#nav-ab-acquisition')
      if (!c) return !1
      var e = a({
        key: 'abAcquisition',
        className: 'nav-coreFlyout',
        link: c,
        cover: !0,
        clickThrough: !0,
        event: 'abAcquisition',
        arrow: 'top',
        animateDown: b.flyoutAnimation,
      })
      c.click(function () {
        g(this).blur()
        e.show()
      })
      return e
    })
  })(f.$Nav)
  ;(function (a) {
    a.when('$', '$F', 'flyouts.create', 'config').run('flyout.abActivation', function (g, c, a, b) {
      c = g('#nav-ab-activation')
      if (!c) return !1
      var d = a({
        key: 'abActivation',
        className: 'nav-coreFlyout',
        link: c,
        cover: !0,
        clickThrough: !0,
        event: 'abActivation',
        arrow: 'top',
        animateDown: b.flyoutAnimation,
      })
      c.click(function () {
        g(this).blur()
        d.show()
      })
      return d
    })
  })(f.$Nav)
  ;(function (a) {
    a.when('$', '$F', 'flyouts.create', 'config').run(
      'flyout.abAccountLink',
      function (a, c, e, b) {
        c = a('#nav-ab-account-link')
        if (!c) return !1
        var d = e({
          key: 'abAccountLink',
          className: 'nav-coreFlyout',
          link: c,
          cover: !0,
          clickThrough: !0,
          event: 'abAccountLink',
          arrow: 'top',
          animateDown: b.flyoutAnimation,
        })
        c.click(function () {
          a(this).blur()
          d.show()
        })
        return d
      },
    )
  })(f.$Nav)
  ;(function (a) {
    a.when('$', 'flyouts.create', 'config').run('flyout.abCatAcquisition', function (a, c, e) {
      var b = a('#nav-ab-cat-acquisition')
      if (!b) return !1
      var d = c({
        key: 'abCatAcquisition',
        link: b,
        cover: !0,
        clickThrough: !0,
        event: 'abCatAcquisition',
        arrow: 'top',
        animateDown: e.flyoutAnimation,
        className: 'nav-coreFlyout',
      })
      b.click(function () {
        a(this).blur()
        d.show()
      })
      return d
    })
  })(f.$Nav)
  ;(function (a) {
    a.when('$', 'flyouts.create', 'config').run('flyout.abCatActivation', function (a, c, e) {
      var b = a('#nav-ab-cat-activation')
      if (!b) return !1
      var d = c({
        key: 'abCatActivation',
        link: b,
        cover: !0,
        clickThrough: !0,
        event: 'abCatActivation',
        arrow: 'top',
        animateDown: e.flyoutAnimation,
        className: 'nav-coreFlyout',
      })
      b.click(function () {
        a(this).blur()
        d.show()
      })
      return d
    })
  })(f.$Nav)
  ;(function (a) {
    a.when('$', 'flyouts.create', 'config').run('flyout.abCatAccountLink', function (a, c, e) {
      var b = a('#nav-ab-cat-account-link')
      if (!b) return !1
      var d = c({
        key: 'abCatAccountLink',
        link: b,
        cover: !0,
        clickThrough: !0,
        event: 'abCatAccountLink',
        arrow: 'top',
        animateDown: e.flyoutAnimation,
        className: 'nav-coreFlyout',
      })
      b.click(function () {
        a(this).blur()
        d.show()
      })
      return d
    })
  })(f.$Nav)
  ;(function (a) {
    a.when('$', 'flyouts.create', 'config').run('flyout.abCatShuma', function (a, c, e) {
      var b = a('#nav-ab-cat-shuma')
      if (!b) return !1
      var d = c({
        key: 'abCatShuma',
        link: b,
        cover: !0,
        clickThrough: !0,
        event: 'abCatShuma',
        arrow: 'top',
        animateDown: e.flyoutAnimation,
        className: 'nav-coreFlyout',
      })
      b.click(function () {
        a(this).blur()
        d.show()
      })
      return d
    })
  })(f.$Nav)
  ;(function (a) {
    a.when('$', 'flyouts.create', 'config').run('flyout.abCatClaimedDomain', function (a, c, e) {
      var b = a('#nav-ab-cat-claimed-domain')
      if (!b) return !1
      var d = c({
        key: 'abCatClaimedDomain',
        link: b,
        cover: !0,
        clickThrough: !0,
        event: 'abCatClaimedDomain',
        arrow: 'top',
        animateDown: e.flyoutAnimation,
        className: 'nav-coreFlyout',
      })
      b.click(function () {
        a(this).blur()
        d.show()
      })
      return d
    })
  })(f.$Nav)
  ;(function (a) {
    a.when('$', 'flyouts.create', 'config').run(
      'flyout.abCatPendingInvitation',
      function (a, c, e) {
        var b = a('#nav-ab-cat-pending-invitation')
        if (!b) return !1
        var d = c({
          key: 'abCatPendingInvitation',
          link: b,
          cover: !0,
          clickThrough: !0,
          event: 'abCatPendingInvitation',
          arrow: 'top',
          animateDown: e.flyoutAnimation,
          className: 'nav-coreFlyout',
        })
        b.click(function () {
          a(this).blur()
          d.show()
        })
        return d
      },
    )
  })(f.$Nav)
})
/* ******** */
;(function (l) {
  var a = window.AmazonUIPageJS || window.P,
    m = a._namespace || a.attributeErrors,
    d = m ? m('EverywhereCartIngressAssets', '') : a
  d.guardFatal
    ? d.guardFatal(l)(d, window)
    : d.execute(function () {
        l(d, window)
      })
})(function (l, a, m) {
  ;(function (d) {
    d.when('$', 'config').run('ewc.ajax', function (t, e) {
      if (e.ewc && !e.ewc.debugInlineJS) {
        if (!e.ewc.EarlyLoadEWCContentTreatment) {
          var k = t('#nav-flyout-ewc .nav-ewc-content'),
            c = function () {
              k.html(e.ewc.errorContent.html).addClass('nav-tpl-flyoutError')
            },
            y = /\$Nav/g,
            p = function (a) {
              if (a) {
                a = 'var P \x3d window.AmazonUIPageJS; ' + a
                if (y.test(a)) return c(), !1
                d.when('ewc.flyout', 'ewc.cartCount').run('[rcx-nav-cart]ewc', a)
              }
              return !0
            },
            h = function (c) {
              var d = {}
              c
                ? (d.isReloaded = !0)
                : (e.ewc.freshCartCount !== m && (d.freshCartCount = e.ewc.freshCartCount),
                  e.ewc.almCartCount !== m && (d.almCartCount = e.ewc.almCartCount),
                  e.ewc.primeWardrobeCartCount !== m &&
                    (d.primeWardrobeCartCount = e.ewc.primeWardrobeCartCount))
              d.widerCompactView = 1280 < a.innerWidth
              return d
            },
            g = function (d) {
              t.ajax({
                url: e.ewc.url,
                data: h(d),
                type: 'GET',
                dataType: e.ewc.isCompactEWCRendered ? 'html' : 'json',
                cache: !1,
                timeout: e.ewc.timeout || 3e4,
                beforeSend: function () {
                  e.ewc.isCompactEWCRendered
                    ? 'function' === typeof a.uet && a.uet('af', 'ewc2-compact', { wb: 1 })
                    : (k.addClass('nav-spinner'),
                      'function' === typeof a.uet && a.uet('af', 'ewc', { wb: 1 }))
                },
                error: c,
                success: function (c) {
                  'function' === typeof a.uet && a.uet('bb', 'ewc', { wb: 1 })
                  if (e.ewc.isCompactEWCRendered) {
                    if (d) {
                      var f = t(c).find('#ewc-total-quantity').val()
                      a.$Nav &&
                        f &&
                        a.$Nav.when('api.setCartCount').run(function (a) {
                          a(parseInt(f), !0)
                        })
                    } else
                      l.register('EWC', function () {
                        a.EwcP === m && (a.EwcP = a.AmazonUIPageJS || l)
                        return {
                          refresh: function () {
                            a.ue && a.ue.count && a.ue.count('ewc2-refresh', 1)
                            g(!0)
                            l.when('EWCRefreshCallback').execute(function (a) {
                              a.update()
                            })
                          },
                        }
                      })
                    k.html(c)
                  }
                  p(c.js) && k.html(c.html)
                  'function' === typeof a.uet && a.uet('be', 'ewc', { wb: 1 })
                },
                complete: function () {
                  e.ewc.isCompactEWCRendered || k.removeClass('nav-spinner')
                  'function' === typeof a.uet && a.uet('cf', 'ewc', { wb: 1 })
                  'function' === typeof a.uex && a.uex('ld', 'ewc', { wb: 1 })
                },
              })
            }
          e.ewc.flyout.ableToPersist()
            ? (g(), d.declare('ewc.loadContent', function () {}))
            : d.declare('ewc.loadContent', g)
        }
        l.when('ewc.pageload-content-loader').execute(function (a) {
          a.loadContent(!0)
        })
      }
    })
  })(a.$Nav)
  $Nav.when('$', '$F', 'config').build('fixedBarWithEwcHandling', function (a, m, e) {
    var d = a('#nav-search'),
      c = a('#nav-tools')
    return {
      setFixed: function (a, e) {
        c.css({ right: 0 })
        d.css({ left: a, right: e })
      },
      setRelative: function () {},
    }
  })
  ;(function (d, l) {
    d.when('$', 'config').build('compactEWCSmallScreenCheck', function (e, d) {
      return {
        canCompactEWCHideContentOnPage: (function () {
          var c = d.ewc.isCompactEWCRendered,
            k = document.getElementById('a-page'),
            p = document.getElementById('nav-belt'),
            h = document.getElementById('nav-flyout-ewc'),
            g,
            f,
            l = function (a) {
              a.forEach(function (a) {
                a.hide()
              })
            },
            u = function (a) {
              a.forEach(function (a) {
                a.show()
              })
            },
            v = function () {
              l([e('#nav-upnav')])
              var a = k.scrollWidth
              u([e('#nav-upnav')])
              return a
            },
            n = (function (c) {
              var d, f
              return function () {
                var k = e(a).width()
                k !== d && ((d = k), (f = c.apply(this, arguments)))
                return f
              }
            })(function () {
              if (f === m)
                return 25 < v() - p.scrollWidth
                  ? (q(), !0)
                  : g === m &&
                      (e('.nav-ewc-compact-view')
                        ? q()
                        : ((h.style.visibility = 'hidden'),
                          inlineFlyout.applyPageLayoutForPersistent(),
                          q(),
                          inlineFlyout.unapplyPageLayoutForPersistent(),
                          (h.style.visibility = '')),
                      f !== m && f > p.scrollWidth)
                    ? !0
                    : !1
              if (f !== m) {
                var a = p.scrollWidth
                g && (a = p.scrollWidth + 100)
                return f > a
              }
            }),
            q = function () {
              25 < v() - p.scrollWidth && (f = v() - 25 + 100)
            }
          return function () {
            if (
              !c ||
              1280 <
                (a.innerWidth ||
                  document.documentElement.clientWidth ||
                  document.body.clientWidth) ||
              'loading' === document.readyState
            )
              return !1
            var e = k && p && n(),
              d = !e
            if (d !== m) {
              var f = d ? 'shown' : 'hidden'
              var h
              g === m ? (h = f) : g !== d && (h = 'resizeto' + f)
              if ((f = h))
                (f = ['compactEWCVisibleState', f]),
                  a.ue && a.ue.count && a.ue.count(f.join(':'), 1)
              g = d
            }
            return e
          }
        })(),
      }
    })
  })(a.$Nav, l)
  ;(function (d, m) {
    d.when('$').run('ewc.before.flyout', function () {
      'function' === typeof a.uet && a.uet('x3', 'ewc', { wb: 1 })
    })
    d.when('$', 'config', 'flyouts.anchor').run('ewc.resetArrow', function (a, d, c) {
      a('#nav-flyout-ewc .nav-ewc-arrow').length && a('.nav-ewc-arrow').detach().appendTo(c())
    })
    d.when(
      '$',
      '$F',
      'config',
      'flyouts.create',
      'ewc.loadContent',
      'data',
      'logUeError',
      'now',
      'metrics',
      'util.checkedObserver',
      'compactEWCSmallScreenCheck',
    ).run('ewc.flyout', function (e, k, c, l, p, h, g, f, A, u, v) {
      if (c.ewc && !c.ewc.debugInlineJS) {
        'function' === typeof a.uet && a.uet('x4', 'ewc', { wb: 1 })
        var n = c.ewc.flyout
        f = g = !1
        c.beaconbeltCover && !c.ewc.enablePersistent && (f = g = !0)
        var q = e(a)
        e(document.documentElement)
        e('#nav-belt')
        e('#nav-cart')
        A = c.ewc.timeout || 3e4
        var t = c.ewc.isCompactEWCRendered,
          y = v.canCompactEWCHideContentOnPage,
          w = function () {
            return n.ableToPersist() && (t ? !y() : !0)
          },
          B = function () {
            var b = a.document.documentElement.clientHeight,
              c = a.document.body
            return ('CSS1Compat' === a.document.compatMode && b) || (c && c.clientHeight) || b
          }
        c.ewc.isEWCLogging && (w(), B())
        var C = k.once().on(p)
        d.declare('ewc.cartCount', function (a) {
          h.observe('cartCount', a)
        })
        var b = l({
          elem: e('#nav-flyout-ewc'),
          key: 'ewc',
          link: c.ewc.isTriggerEnabled ? e('#nav-cart') : null,
          event: 'ewc',
          className: 'nav-ewcFlyout',
          cover: g,
          disableCoverPinned: f,
          enableFlyoutBuffer: !1,
          anchor: e('#navbar'),
          timeoutDelay: A,
          aligner: function (a) {
            var b = a.$flyout,
              d = e('.nav-flyout-body', b),
              f = e('#nav-belt')
            a = e('#nav-main')
            var z = f.outerHeight()
            a.outerHeight()
            e('#nav-tools').outerHeight()
            return function () {
              var a = f.offset().top,
                e = q.scrollTop(),
                k = B(),
                h = 0,
                g = 0
              e < a ? (h = a - e) : e <= a + z && (g = a - e)
              a = { top: h + 'px', height: k - h + 'px' }
              t && w()
                ? (a.right = n.getEWCRightOffsetCssProperty
                    ? n.getEWCRightOffsetCssProperty()
                    : '0')
                : c.ewc.isCompactEWCRendered ||
                  d.css({ top: g + 'px', height: b.height() - g + 'px' })
              b.css(a)
            }
          },
        })
        b.getPanel().onRender(function () {
          var e = b.elem()
          e.hasClass('nav-ewc-lazy-align') && e.removeClass('nav-ewc-hide-head')
          c.ewc.isEWCStateExpanded || ('function' === typeof a.uex && a.uex('ld', 'ewc', { wb: 1 }))
        })
        var r
        c.ewc.pinnable &&
          (r = (function (b) {
            var d = b.elem(),
              f = d.find('.nav-ewc-pin-tail'),
              h = f.find('.nav-ewc-pin-button'),
              k = function (a, c) {
                c = c || (b.isPersistent() ? 'crt_ewc_pin' : 'crt_ewc_unpin')
                e.ajax({
                  type: 'GET',
                  cache: !1,
                  url: '/gp/navigation/ajax/save-ewc-status.html/ref\x3d' + c + a,
                })
              },
              g = function (a) {
                c.ewc.isEWCStateExpanded = '1' === a
                k('?persistent\x3d' + a)
              },
              z = function () {
                var a = '?ttDisplayed\x3d1'
                c.ewc.ewcDebugTTP && (a += '\x26ewcDebugTTP\x3d' + c.ewc.ewcDebugTTP)
                k(a, 'crt_ewc_incttd')
              },
              m = function (a) {
                a
                  ? f.removeClass('nav-ewc-unpin').addClass('nav-ewc-pin')
                  : f.removeClass('nav-ewc-pin').addClass('nav-ewc-unpin')
              },
              l = d.find('.nav-ewc-pin-tt'),
              n = (function () {
                return {
                  fadeIn: function () {
                    l.stop(!0, !0)
                      .css({
                        top: h.position().top + h.height() / 2 - l.outerHeight(!0) / 2 + 'px',
                      })
                      .fadeIn(200)
                  },
                  fadeOut: function () {
                    l.stop(!0, !0).fadeOut(200)
                  },
                  hide: function () {
                    l.stop(!0, !0).hide()
                  },
                }
              })()
            h.bind('mouseenter', function () {
              n.fadeIn()
            })
            h.bind('mouseleave', function () {
              n.fadeOut()
            })
            h.bind('click', function () {
              n.hide()
              f.hasClass('nav-ewc-pin')
                ? (b.persist({ noAnimation: !0 }), g('1'))
                : (b.unpersist({ noAnimation: !0 }), g('0'))
            })
            return {
              align: function () {
                var a = d.find('.nav-flyout-head')
                h.css({
                  top:
                    a.outerHeight() - a.height() + (parseInt(a.css('top'), 10) || 0) + 250 + 'px',
                })
              },
              tryToShowTrainingTip: function () {
                f.hasClass('nav-ewc-pin') ||
                  (n.fadeIn(),
                  setTimeout(function () {
                    n.fadeOut()
                  }, 2e3),
                  z())
              },
              resetVisibility: function () {
                ;(a.innerWidth ||
                  document.documentElement.clientWidth ||
                  document.body.clientWidth) >= c.ewc.viewportWidthForPersistent
                  ? (d.find('.nav-flyout-body').addClass('nav-ewc-unpinbody'), f.show())
                  : (f.hide(), d.find('.nav-flyout-body').removeClass('nav-ewc-unpinbody'))
              },
              isVisible: function () {
                return f.is(':visible')
              },
              collapse: function () {
                m(!0)
              },
              expand: function () {
                C()
                m(!1)
              },
            }
          })(b))
        b.onAlign(function () {
          c.ewc.pinnable && r.align()
        })
        b.onShow(function () {
          b.lock()
        })
        b.onRender(
          k.once().on(function () {
            'function' === typeof a.uet && a.uet('x5', 'ewc', { wb: 1 })
            var d = b.elem(),
              f = b.getPanel().elem(),
              g = e('#nav-cart'),
              l = d.find('.nav-cart')
            c.ewc.isEWCStateExpanded
              ? (f.hide(), b.getPanel().render({ html: ' ' }))
              : d.find('.nav-flyout-body').append(f)
            h.observe('cartCount', function () {
              l.html(g.html())
            })
            c.ewc.pinnable && (r.resetVisibility(), q.resize(k.throttle(300).on(r.resetVisibility)))
          }),
        )
        b.ableToPersist = w
        b.hasQualifiedViewportForPersistent = function () {
          return n.hasQualifiedViewportForPersistent ? n.hasQualifiedViewportForPersistent() : !1
        }
        var D = function () {
          d.getNow('isAuiP') &&
            m.when('A').execute('ForceAuiResize', function (b) {
              b.trigger('resize', a, { width: 1, height: 1 })
            })
        }
        b.applyPageLayoutForPersistent = function () {
          n.applyPageLayoutForPersistent()
          'function' === typeof a.maintainHeight && a.maintainHeight()
          D()
        }
        b.unapplyPageLayoutForPersistent = function () {
          n.unapplyPageLayoutForPersistent()
          D()
        }
        ;(function () {
          var a,
            d = function (b) {
              b.stop(!1, !0).animate({ left: '-' + b.width() + 'px' }, 400, function () {
                a = setTimeout(function () {
                  f(b)
                }, 2e3)
              })
            },
            f = function (b) {
              b.stop(!0, !0).fadeOut(400, function () {
                b.css({ left: '', display: '' })
              })
              clearTimeout(a)
            },
            h = function (a, b) {
              var c = { right: '-' + a[0].offsetWidth + 'px' }
              b
                ? a.css(c)
                : (a.animate(c, 400, function () {
                    e(this).css('right', '')
                  }),
                  d(e('.nav-flyout-tail', a)))
            },
            g = !1
          c.ewc.pinnable && (g ? r.expand() : r.collapse())
          b.isSlidedIn = function () {
            return g
          }
          b.slideIn = u({
            context: b,
            check: function () {
              if (g) return !1
            },
            observe: function (a) {
              C()
              b.isVisible() || b.show()
              var c = this.elem()
              a = a.noAnimation
              var d = {
                right: n.getEWCRightOffsetCssProperty ? n.getEWCRightOffsetCssProperty() : '0',
              }
              a ? c.stop().css(d) : (c.stop().animate(d, 400), f(e('.nav-flyout-tail', c)))
              g = !0
            },
          })
          b.onSlideIn = b.slideIn.observe
          b.onSlideIn(function () {
            c.ewc.pinnable && r.expand()
          })
          b.slideOut = u({
            context: b,
            check: function () {
              if (!g) return !1
            },
            observe: function (a) {
              b.isVisible() || b.show()
              h(this.elem(), a.noAnimation)
              g = !1
            },
          })
          b.onSlideOut = b.slideOut.observe
          b.onSlideOut(function () {
            c.ewc.pinnable && r.collapse()
          })
        })()
        ;(function () {
          var a = !1
          b.persist = u({
            context: b,
            check: function (b) {
              if (a) return !1
            },
            observe: function (c) {
              a = !0
              b.applyPageLayoutForPersistent()
              b.slideIn({ noAnimation: c.noAnimation })
              b.lock()
            },
          })
          b.onPersist = b.persist.observe
          b.unpersist = u({
            context: b,
            check: function (b) {
              if (!a) return !1
            },
            observe: function (c) {
              a = !1
              b.unlock()
              b.slideOut({ noAnimation: c.noAnimation })
              b.unapplyPageLayoutForPersistent()
            },
          })
          b.onUnpersist = b.unpersist.observe
          b.isPersistent = function () {
            return a
          }
        })()
        var x = function () {
            !0 === c.ewc.isEWCExpandCollapseFeatureEnabled
              ? w()
                ? ((ewcExpandCollapseButton.style.display = 'flex'), b.showUserPreference())
                : (b.unpersist({ noAnimation: !0 }),
                  (ewcExpandCollapseButton.style.display = 'none'))
              : w()
                ? b.persist({ noAnimation: !0 })
                : b.unpersist({ noAnimation: !0 })
          },
          E = function (a) {
            e('#navbar').is(':hidden')
              ? setTimeout(function () {
                  E(a)
                }, 1e3)
              : a()
          }
        E(function () {
          !0 !== c.ewc.isEWCExpandCollapseFeatureEnabled && b.show()
          q.scroll(function () {
            b.align()
          })
          q.resize(k.throttle(300).on(b.align))
          n.unbindEvents()
          !0 === c.ewc.isEWCExpandCollapseFeatureEnabled
            ? (ewcExpandCollapseButton.addEventListener('click', b.ewcExpandCollapseEventCallBack),
              a.addEventListener('load', x))
            : t &&
              n.ableToPersist() &&
              (b.persist({ noAnimation: !0 }),
              a.addEventListener('load', x),
              e('#nav-flyout-ewc').addClass('nav-flyout-ewc-compact'))
          x()
          c.ewc.pinnable && c.ewc.enableTrainingTip && r.tryToShowTrainingTip()
          q.resize(k.throttle(300).on(x))
        })
        return b
      }
    })
    d.when('$', '$F', 'config', 'util.mouseOut', 'util.velocityTracker', 'ewc.flyout').run(
      'ewc.hoverTrigger',
      function (e, d, c, l, m, h) {
        if (c.ewc.enableHover) {
          var g = e('#nav-cart'),
            f = m()
          c = l(500)
          c.add(g)
          c.add(h.elem())
          c.enable()
          g.hover(
            function () {
              f.enable()
            },
            function () {
              f.disable()
            },
          )
          c.action(function () {
            h.hasQualifiedViewportForPersistent() || h.slideOut()
          })
          var k = d.debounce(500, !0).on(function () {
            h.hasQualifiedViewportForPersistent() || h.slideIn()
          })
          f.addThreshold({ below: 40 }, function () {
            k()
            f.disable()
          })
          var p = function () {
            var a = e('.nav-icon', g)
            h.hasQualifiedViewportForPersistent()
              ? a.hide().css({ visibility: 'hidden' })
              : a.show().css({ visibility: 'visible' })
          }
          p()
          e(a).resize(function () {
            p()
          })
        }
      },
    )
  })(a.$Nav, l)
})
/* ******** */
;(function (c) {
  var b = window.AmazonUIPageJS || window.P,
    d = b._namespace || b.attributeErrors,
    a = d ? d('RufusIngressAssets', '') : b
  a.guardFatal
    ? a.guardFatal(c)(a, window)
    : a.execute(function () {
        c(a, window)
      })
})(function (c, b, d) {})
/* ******** */
////////////////////////////////////////////
;(function (packageFunction) {
  /* istanbul ignore next */
  var p = window.AmazonUIPageJS || window.P
  /* istanbul ignore next */
  var attribute = p._namespace || p.attributeErrors
  /* istanbul ignore next */
  var namespacedP = attribute ? attribute('JoinPrimeIngressAssets', '') : p

  /* istanbul ignore next */
  if (namespacedP.guardFatal) {
    namespacedP.guardFatal(packageFunction)(namespacedP, window)
  } else {
    namespacedP.execute(function () {
      packageFunction(namespacedP, window)
    })
  }
})(function (P, window, undefined) {
  // BEGIN ASSET JoinPrimeIngressAssets - 1.0
  /////////////////////////
  // BEGIN FILE js/main.js
  /////////////////////////
  /*


Full source (including license, if applicable) included below.
*/
  // Like Sass's import, you should never try importing a particular variant; that won't work. Instead, import the "no-variant" version of the file you want.
  /* Importing js/joinprime_button.js */
  // Empty js file since this is the control. For more info, see "weblab" key of variant table https://console.harmony.a2z.com/aui/v3/development/build-and-deploy/asset-packages/asset-variants/#term_variant_key
  /* Done importing js/joinprime_button.js */
  /////////////////////////
  // END FILE js/main.js
  /////////////////////////
  // END ASSET JoinPrimeIngressAssets - 1.0
})
////////////////////////////////////////////
/* ******** */
